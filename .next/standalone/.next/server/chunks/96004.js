"use strict";exports.id=96004,exports.ids=[96004],exports.modules={81342:(a,b,c)=>{let d;function e(a){if(!f(a))throw TypeError(`Expected \`Uint8Array\`, got \`${typeof a}\``)}function f(a){return!!a&&(a.constructor===Uint8Array||"[object Uint8Array]"===Object.prototype.toString.call(a))}function g(a,b){if(e(a),e(b),a===b)return!0;if(a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function h(a){if("string"!=typeof a)throw TypeError(`Expected \`string\`, got \`${typeof a}\``)}function i(a){let b=a.replace(/-/g,"+").replace(/_/g,"/"),c=b.length%4;return 0!==c&&(b+="=".repeat(4-c)),b}function j(a){var b;return h(a),e((h(a),b=Uint8Array.from(globalThis.atob(i(a)),a=>a.codePointAt(0)))),(!d&&(d=new TextDecoder),d).decode(b)}c.d(b,{tv:()=>g,QM:()=>j,pM:()=>i,mg:()=>f})},96004:(a,b,c)=>{c.d(b,{upload:()=>k});var d=c(101),e=c(21984),f=c(79909),g=c(81342);function h(a){return globalThis.File&&a instanceof File}function i(a){return!!a&&!!(0,f.C)(a,["data","name"])&&!!("string"==typeof a.name&&("string"==typeof a.data||(0,g.mg)(a.data)))}function j(a){return h(a)||(0,g.mg)(a)||i(a)}async function k(a){let b;if(0===a.files.length)return null;if(a.files.map(a=>j(a)||"string"==typeof a).every(a=>!!a))b=a.files;else{let c=a.files,d=function a(b,c=[]){if(j(b))return c.push(b),c;if("object"==typeof b){if(!b)return c;if(Array.isArray(b))for(let d of b)a(d,c);else Object.keys(b).map(d=>a(b[d],c))}return c}(c=function a(b){if("string"==typeof b){if(b.includes("/ipfs/")){let a=b.split("/ipfs/")[1];return`ipfs://${a}`}return b}return"object"==typeof b?!b||j(b)?b:Array.isArray(b)?b.map(b=>a(b)):Object.fromEntries(Object.entries(b).map(([b,c])=>[b,a(c)])):b}(c));if(d.length){let b=await k({...a,files:d});c=function a(b,c){if(j(b)){if(c.length)return c.shift();console.warn("Not enough URIs to replace all files in object.")}return"object"==typeof b?b?Array.isArray(b)?b.map(b=>a(b,c)):Object.fromEntries(Object.entries(b).map(([b,d])=>[b,a(d,c)])):b:b}(c,Array.isArray(b)?b:[b])}b=c.map(a=>"string"==typeof a?a:(0,e.stringify)(a))}let{fileNames:f,form:l}=function(a,b,c){let d=new Map,e=[];for(let f=0;f<b.length;f++){let j=b[f],k="",l=j;if(h(j))if(c?.rewriteFileNames){let a="";if(j.name){let b=j.name.lastIndexOf(".");b>-1&&(a=j.name.substring(b))}k=`${f+c.rewriteFileNames.fileStartNumber}${a}`}else k=`${j.name}`;else i(j)?(l=j.data,k=c?.rewriteFileNames?`${f+c.rewriteFileNames.fileStartNumber}`:`${j.name}`):k=c?.rewriteFileNames?`${f+c.rewriteFileNames.fileStartNumber}`:`${f}`;let m=c?.uploadWithoutDirectory?"files":`files/${k}`;if(d.has(k)){if(function(a,b){if(h(a)&&h(b)){if(a.name===b.name&&a.lastModified===b.lastModified&&a.size===b.size)return!0}else if((0,g.mg)(a)&&(0,g.mg)(b))return(0,g.tv)(a,b);else if(i(a)&&i(b)&&a.name===b.name){if("string"==typeof a.data&&"string"==typeof b.data)return a.data===b.data;if((0,g.mg)(a.data)&&(0,g.mg)(b.data))return(0,g.tv)(a.data,b.data)}return!1}(d.get(k),j)){e.push(k);continue}throw Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${k} was passed for more than one different file.`)}d.set(k,j),e.push(k),a.append("file",new Blob([l]),m)}let f={keyvalues:{...c?.metadata},name:"Storage SDK"};return a.append("pinataMetadata",JSON.stringify(f)),c?.uploadWithoutDirectory&&a.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{fileNames:e.map(a=>encodeURIComponent(a)),form:a}}(new FormData,b,a),m=(0,d.l)();if("browser"===m||"node"===m){let{uploadBatch:b}=await c.e(36483).then(c.bind(c,36483)),d=await b(a.client,l,f,a);return 1===a.files.length?d[0]:d}throw Error("Please, use the uploadMobile function in mobile environments.")}}};