"use strict";exports.id=93345,exports.ids=[93345],exports.modules={30090:(a,b,c)=>{c.d(b,{N:()=>e,Y:()=>d});let d=["google","apple","facebook","discord","line","x","coinbase","farcaster","telegram","github","twitch","steam"],e=[...d,"guest","backend","email","phone","passkey","wallet"]},37146:(a,b,c)=>{c.d(b,{K:()=>h,f:()=>g});var d=c(20985),e=c(30090);let f=a=>{if(!e.N.includes(a))throw Error(`Unknown auth option ${a}`);return"wallet"===a?"siwe":a},g=({authOption:a,client:b,ecosystem:c,mode:e="popup",redirectUrl:g})=>{if("popup"===e&&g)throw Error("Redirect URL is not supported for popup mode");if("window"===e&&!g)throw Error("Redirect URL is required for window mode");let h=f(a),i=`${(0,d.getThirdwebBaseUrl)("inAppWallet")}/api/2024-05-05/login/${h}?clientId=${b.clientId}`;if(c?.partnerId?i=`${i}&ecosystemId=${c.id}&ecosystemPartnerId=${c.partnerId}`:c&&(i=`${i}&ecosystemId=${c.id}`),"popup"!==e){let b=new URL(g||window.location.href);b.searchParams.set("walletId",c?.id||"inApp"),b.searchParams.set("authProvider",a),i=`${i}&redirectUrl=${encodeURIComponent(b.toString())}`}return i},h=({authOption:a,client:b,ecosystem:c})=>{let e=f(a),g=`${(0,d.getThirdwebBaseUrl)("inAppWallet")}/api/2024-05-05/login/${e}/callback?clientId=${b.clientId}`;return c?.partnerId?g=`${g}&ecosystemId=${c.id}&ecosystemPartnerId=${c.partnerId}`:c&&(g=`${g}&ecosystemId=${c.id}`),g}},52706:(a,b,c)=>{c.d(b,{x:()=>h,N:()=>g});var d=c(20985),e=c(37146);let f=({isWindowOpenedByFn:a,win:b,closeOpenedWindow:c})=>{a?b?.close():b&&c?c(b):b&&b.close()};async function g(a){let b=(0,e.f)({...a,mode:a.mode||"redirect"});"redirect"===a.mode?window.location.href=b:window.open(b),await new Promise(a=>setTimeout(a,5e3))}let h=async a=>{let b=a.openedWindow,c=!1;if(b||(b=window.open((0,e.f)({...a,mode:"popup"}),`Login to ${a.authOption}`,"width=350, height=500"),c=!0),!b)throw Error("Something went wrong opening pop-up");return await new Promise((e,g)=>{let h=window.setInterval(async()=>{b.closed&&(clearInterval(h),window.removeEventListener("message",i),g(Error("User closed login window")))},1e3),i=async j=>{if(j.origin===(0,d.getThirdwebBaseUrl)("inAppWallet")){if("object"!=typeof j.data)return void g(Error("Invalid event data"));switch(j.data.eventType){case"oauthSuccessResult":window.removeEventListener("message",i),clearInterval(h),f({closeOpenedWindow:a.closeOpenedWindow,isWindowOpenedByFn:c,win:b}),j.data.authResult&&e(j.data.authResult);break;case"oauthFailureResult":window.removeEventListener("message",i),clearInterval(h),f({closeOpenedWindow:a.closeOpenedWindow,isWindowOpenedByFn:c,win:b}),g(Error(j.data.errorString))}}};window.addEventListener("message",i)})}},57428:(a,b,c)=>{c.d(b,{t:()=>f});var d=c(57874);let e=new Map;class f{constructor({storage:a,clientId:b,ecosystem:c}){Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ecosystem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.storage=a,this.key=g(b,c?.id),this.ecosystem=c}async getItem(a){return this.storage?this.storage.getItem(a):e.get(a)??null}async setItem(a,b){if(this.storage)return this.storage.setItem(a,b);e.set(a,b)}async removeItem(a){let b=await this.getItem(a);return!!this.storage&&!!b&&(this.storage.removeItem(a),!0)}async getWalletConnectSessions(){return this.getItem((0,d.BG)(this.key))}async saveWalletConnectSessions(a){await this.setItem((0,d.BG)(this.key),a)}async savePasskeyCredentialId(a){await this.setItem((0,d.RI)(this.key),a)}async getPasskeyCredentialId(){return this.getItem((0,d.RI)(this.key))}async saveAuthCookie(a){await this.setItem((0,d.HM)(this.key),a)}async getAuthCookie(){return this.getItem((0,d.HM)(this.key))}async removeAuthCookie(){return this.removeItem((0,d.HM)(this.key))}async saveDeviceShare(a,b){await this.saveWalletUserId(b),await this.setItem((0,d.Zo)(this.key,b),a)}async getDeviceShare(){let a=await this.getWalletUserId();return a?this.getItem((0,d.Zo)(this.key,a)):null}async removeDeviceShare(){let a=await this.getWalletUserId();return!!a&&this.removeItem((0,d.Zo)(this.key,a))}async getWalletUserId(){return this.getItem((0,d._p)(this.key))}async saveWalletUserId(a){await this.setItem((0,d._p)(this.key),a)}async removeWalletUserId(){return this.removeItem((0,d._p)(this.key))}async getGuestSessionId(){return this.getItem((0,d.a0)(this.key))}async saveGuestSessionId(a){await this.setItem((0,d.a0)(this.key),a)}}let g=(a,b)=>`${a}${b?`-${b}`:""}`},57874:(a,b,c)=>{c.d(b,{BG:()=>i,CW:()=>d,HM:()=>f,RI:()=>g,Zo:()=>h,_p:()=>e,a0:()=>j});let d="/sdk/2022-08-12/embedded-wallet",e=a=>`thirdwebEwsWalletUserId-${a}`,f=a=>`walletToken-${a}`,g=a=>`passkey-credential-id-${a}`,h=(a,b)=>`a-${a}-${b}`,i=a=>`walletConnectSessions-${a}`,j=a=>`thirdweb_guest_session_id_${a}`},73501:(a,b,c)=>{c.d(b,{O:()=>e});var d=c(43533);function e(a=32){return(0,d.EY)(function(a=32){return globalThis.crypto.getRandomValues(new Uint8Array(a))}(a))}}};