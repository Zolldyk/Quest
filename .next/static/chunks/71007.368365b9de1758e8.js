"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71007],{32947:(e,t,i)=>{i.d(t,{So:()=>o});var r=i(18618),n=i(52866),s=i(56484);function o(e,t={}){let{as:i="string"==typeof e?"Hex":"Bytes"}=t,a=(0,r.lY)(n.HT(e));return"Bytes"===i?a:s.uK(a)}},52686:(e,t,i)=>{i.d(t,{Ms:()=>c,oC:()=>d,vA:()=>l,tf:()=>h});var r=i(52866);class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let s={checksum:new n(8192)}.checksum;var o=i(54924),a=i(32947);let u=/^0x[a-fA-F0-9]{40}$/;function l(e,t={}){let{strict:i=!0}=t;if(!u.test(e))throw new c({address:e,cause:new d});if(i){if(e.toLowerCase()===e)return;if(function(e){if(s.has(e))return s.get(e);l(e,{strict:!1});let t=e.substring(2).toLowerCase(),i=a.So(r.sH(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&i[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let o=`0x${n.join("")}`;return s.set(e,o),o}(e)!==e)throw new c({address:e,cause:new p})}}function h(e,t={}){let{strict:i=!0}=t??{};try{return l(e,{strict:i}),!0}catch{return!1}}class c extends o.C{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class d extends o.C{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class p extends o.C{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}},71007:(e,t,i)=>{i.d(t,{estimateL1Fee:()=>D});var r=i(2579),n=i(81647),s=i(26489),o=i(56484),a=i(54924),u=i(90065),l=i(40310);function h(e){if(130!==e.length&&132!==e.length)throw new v({signature:e});let t=BigInt(o.di(e,0,32)),i=BigInt(o.di(e,32,64)),r=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return f(t)}catch{throw new w({value:t})}})();return void 0===r?{r:t,s:i}:{r:t,s:i,yParity:r}}function c(e){if(void 0!==e.r&&void 0!==e.s){var t=e;let i=(()=>{if("string"==typeof t)return h(t);if(t instanceof Uint8Array)return h(o.uK(t));return"string"==typeof t.r?function(e){let t=(()=>{let t=e.v?Number(e.v):void 0,i=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof i&&(i=f(t)),"number"!=typeof i)throw new w({value:e.yParity});return i})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}(t):t.v?d(t):{r:t.r,s:t.s,...void 0!==t.yParity?{yParity:t.yParity}:{}}})();return!function(e,t={}){let{recovered:i}=t;if(void 0===e.r||void 0===e.s||i&&void 0===e.yParity)throw new y({signature:e});if(e.r<0n||e.r>l.Ao)throw new g({value:e.r});if(e.s<0n||e.s>l.Ao)throw new b({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new w({value:e.yParity})}(i),i}}function d(e){return{r:e.r,s:e.s,yParity:f(e.v)}}function p(e){let{r:t,s:i,yParity:r}=e;return[r?"0x01":"0x",0n===t?"0x":o.Mr(o.oB(t)),0n===i?"0x":o.Mr(o.oB(i))]}function f(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new m({value:e})}class v extends a.C{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${o.Ej(o.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class y extends a.C{constructor({signature:e}){super(`Signature \`${u.A(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class g extends a.C{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class b extends a.C{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class w extends a.C{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class m extends a.C{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var x=i(52686);function P(e){if(!e||0===e.length)return[];let t=[];for(let{address:i,storageKeys:r}of e){for(let e=0;e<r.length;e++)if(32!==o.Ej(r[e]))throw new B({storageKey:r[e]});i&&x.vA(i,{strict:!1}),t.push([i,r])}return t}class B extends a.C{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${o.Ej(e)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccessList.InvalidStorageKeySizeError"})}}var C=i(52866);let U={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new R({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new E({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new $({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new $({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let i=t??this.position;return this.assertPosition(i+e-1),this.bytes.subarray(i,i+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let i=this.inspectBytes(e);return this.position+=t??e,i},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class $ extends a.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class E extends a.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class R extends a.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function A(e,t={}){let{as:i="Hex"}=t;return function(e,t){let{as:i}=t,r=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),i=I(t);return{length:t<=55?1+t:1+i+t,encode(r){for(let{encode:n}of(t<=55?r.pushByte(192+t):(r.pushByte(247+i),1===i?r.pushUint8(t):2===i?r.pushUint16(t):3===i?r.pushUint24(t):r.pushUint32(t)),e))n(r)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?C.aD(e):e,i=I(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+i+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+i),1===i?e.pushUint8(t.length):2===i?e.pushUint16(t.length):3===i?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),n=function(e,{recursiveReadLimit:t=8192}={}){let i=Object.create(U);return i.bytes=e,i.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),i.positionReadCount=new Map,i.recursiveReadLimit=t,i}(new Uint8Array(r.length));return(r.encode(n),"Hex"===i)?o.uK(n.bytes):n.bytes}(e,{as:i})}function I(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new a.C("Length is too large.")}let O={wei:0,gwei:9,szabo:12,finney:15,ether:18};function j(e,t="wei"){return function(e,t=0){let i=e.toString(),r=i.startsWith("-");r&&(i=i.slice(1));let[n,s]=[(i=i.padStart(t,"0")).slice(0,i.length-t),i.slice(i.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${n||"0"}${s?`.${s}`:""}`}(e,O.gwei-O[t])}a.C;class L extends a.C{constructor({feeCap:e}={}){super(`The fee cap (\`maxFeePerGas\`/\`maxPriorityFeePerGas\`${e?` = ${j(e)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.FeeCapTooHighError"})}}class S extends a.C{constructor({gasPrice:e}={}){super(`The gas price (\`gasPrice\`${e?` = ${j(e)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.GasPriceTooHighError"})}}class V extends a.C{constructor({chainId:e}){super(void 0!==e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.InvalidChainIdError"})}}a.C;class N extends a.C{constructor({maxPriorityFeePerGas:e,maxFeePerGas:t}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${e?` = ${j(e)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${t?` = ${j(t)} gwei`:""}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.TipAboveFeeCapError"})}}function z(e){let{chainId:t,maxPriorityFeePerGas:i,maxFeePerGas:r,to:n}=e;if(t<=0)throw new V({chainId:t});if(n&&x.vA(n,{strict:!1}),r&&BigInt(r)>2n**256n-1n)throw new L({feeCap:r});if(i&&r&&i>r)throw new N({maxFeePerGas:r,maxPriorityFeePerGas:i})}function F(e){let{chainId:t,gasPrice:i,to:r}=e;if(t<=0)throw new V({chainId:t});if(r&&x.vA(r,{strict:!1}),i&&BigInt(i)>2n**256n-1n)throw new S({gasPrice:i})}function T(e){let{authorizationList:t}=e;if(t)for(let e of t){let{address:t,chainId:i}=e;if(t&&x.vA(t,{strict:!1}),0>Number(i))throw new V({chainId:i})}z(e)}function _(e){let{chainId:t,gasPrice:i,to:r}=e;if(r&&x.vA(r,{strict:!1}),void 0!==t&&t<=0)throw new V({chainId:t});if(i&&BigInt(i)>2n**256n-1n)throw new S({gasPrice:i})}async function D(e){let{transaction:t,gasPriceOracleAddress:i}=e,a=(0,r.P)({address:i||"0x420000000000000000000000000000000000000F",chain:t.chain,client:t.client}),{gasPrice:u,...l}=await (0,n.$)({transaction:t}),h=function(e){let{transaction:t}=e,i=function(e){if(void 0!==e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw Error("Invalid transaction type")}(t),r=(()=>{if(e.signature)return"v"in e.signature&&void 0!==e.signature.v?d({r:o.Dg(e.signature.r),s:o.Dg(e.signature.s),v:Number(e.signature.v)}):{r:o.Dg(e.signature.r),s:o.Dg(e.signature.s),yParity:e.signature.yParity};if(void 0!==t.v||void 0!==t.yParity){if(void 0===t.r||void 0===t.s)throw Error("Invalid signature provided with transaction");return{r:"bigint"==typeof t.r?t.r:o.Dg(t.r),s:"bigint"==typeof t.s?t.s:o.Dg(t.s),yParity:void 0!==t.v&&void 0===t.yParity?f(Number(t.v)):Number(t.yParity)}}})();if("eip1559"===i)return z(t),function(e,t={}){let{chainId:i,gas:r,nonce:n,to:s,value:a,maxFeePerGas:u,maxPriorityFeePerGas:l,accessList:h,data:d,input:f}=e;z(e);let v=P(h),y=c(t.signature||e),g=[o.oB(i),n?o.oB(n):"0x",l?o.oB(l):"0x",u?o.oB(u):"0x",r?o.oB(r):"0x",s??"0x",a?o.oB(a):"0x",d??f??"0x",v,...y?p(y):[]];return o.xW("0x02",A(g))}(t,{signature:r});if("legacy"===i)return _(t),function(e,t={}){let{chainId:i=0,gas:r,data:n,input:s,nonce:a,to:u,value:l,gasPrice:h}=e;_(e);let c=[a?o.oB(a):"0x",h?o.oB(h):"0x",r?o.oB(r):"0x",u??"0x",l?o.oB(l):"0x",n??s??"0x"],d=t.signature?{r:t.signature.r,s:t.signature.s,v:function(e){if(0===e)return 27;if(1===e)return 28;throw new w({value:e})}(t.signature.yParity)}:void 0!==e.r&&void 0!==e.s?{r:e.r,s:e.s,v:e.v}:void 0;if(d){let e=(()=>{if(d.v>=35)return Math.floor((d.v-35)/2)>0?d.v:27+ +(35!==d.v);if(i>0)return 2*i+35+d.v-27;let e=27+ +(27!==d.v);if(d.v!==e)throw new m({value:d.v});return e})();c=[...c,o.oB(e),0n===d.r?"0x":o.Mr(o.oB(d.r)),0n===d.s?"0x":o.Mr(o.oB(d.s))]}else i>0&&(c=[...c,o.oB(i),"0x","0x"]);return A(c)}(t,{signature:r});if("eip2930"===i)return F(t),function(e,t={}){let{chainId:i,gas:r,data:n,input:s,nonce:a,to:u,value:l,accessList:h,gasPrice:d}=e;F(e);let f=P(h),v=c(t.signature||e),y=[o.oB(i),a?o.oB(a):"0x",d?o.oB(d):"0x",r?o.oB(r):"0x",u??"0x",l?o.oB(l):"0x",n??s??"0x",f,...v?p(v):[]];return o.xW("0x01",A(y))}(t,{signature:r});if("eip7702"===i)return T(t),function(e,t={}){let{authorizationList:i,chainId:r,gas:n,nonce:s,to:a,value:u,maxFeePerGas:l,maxPriorityFeePerGas:h,accessList:d,data:f,input:v}=e;T(e);let y=P(d),g=function(e){if(!e||0===e.length)return[];let t=[];for(let i of e)t.push(function(e){let{address:t,chainId:i,nonce:r}=e,n=c(e);return[i?o.oB(i):"0x",t,r?o.oB(r):"0x",...n?p(n):[]]}(i));return t}(i),b=c(t.signature||e),w=[o.oB(r),s?o.oB(s):"0x",h?o.oB(h):"0x",l?o.oB(l):"0x",n?o.oB(n):"0x",a??"0x",u?o.oB(u):"0x",f??v??"0x",y,g,...b?p(b):[]];return o.xW("0x04",A(w))}(t,{signature:r});throw Error("Invalid transaction type")}({transaction:l});return(0,s.readContract)({contract:a,method:"function getL1Fee(bytes memory _data) view returns (uint256)",params:[h]})}}}]);