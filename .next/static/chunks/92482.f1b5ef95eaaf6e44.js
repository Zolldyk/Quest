"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92482],{25955:(e,t,s)=>{s.d(t,{O:()=>a});var r=s(23471);function a(e=32){return(0,r.EY)(function(e=32){return globalThis.crypto.getRandomValues(new Uint8Array(e))}(e))}},29510:(e,t,s)=>{s.d(t,{t:()=>i});var r=s(31564);let a=new Map;class i{constructor({storage:e,clientId:t,ecosystem:s}){Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ecosystem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.storage=e,this.key=n(t,s?.id),this.ecosystem=s}async getItem(e){return this.storage?this.storage.getItem(e):a.get(e)??null}async setItem(e,t){if(this.storage)return this.storage.setItem(e,t);a.set(e,t)}async removeItem(e){let t=await this.getItem(e);return!!this.storage&&!!t&&(this.storage.removeItem(e),!0)}async getWalletConnectSessions(){return this.getItem((0,r.BG)(this.key))}async saveWalletConnectSessions(e){await this.setItem((0,r.BG)(this.key),e)}async savePasskeyCredentialId(e){await this.setItem((0,r.RI)(this.key),e)}async getPasskeyCredentialId(){return this.getItem((0,r.RI)(this.key))}async saveAuthCookie(e){await this.setItem((0,r.HM)(this.key),e)}async getAuthCookie(){return this.getItem((0,r.HM)(this.key))}async removeAuthCookie(){return this.removeItem((0,r.HM)(this.key))}async saveDeviceShare(e,t){await this.saveWalletUserId(t),await this.setItem((0,r.Zo)(this.key,t),e)}async getDeviceShare(){let e=await this.getWalletUserId();return e?this.getItem((0,r.Zo)(this.key,e)):null}async removeDeviceShare(){let e=await this.getWalletUserId();return!!e&&this.removeItem((0,r.Zo)(this.key,e))}async getWalletUserId(){return this.getItem((0,r._p)(this.key))}async saveWalletUserId(e){await this.setItem((0,r._p)(this.key),e)}async removeWalletUserId(){return this.removeItem((0,r._p)(this.key))}async getGuestSessionId(){return this.getItem((0,r.a0)(this.key))}async saveGuestSessionId(e){await this.setItem((0,r.a0)(this.key),e)}}let n=(e,t)=>`${e}${t?`-${t}`:""}`},31564:(e,t,s)=>{s.d(t,{BG:()=>l,CW:()=>r,HM:()=>i,RI:()=>n,Zo:()=>o,_p:()=>a,a0:()=>d});let r="/sdk/2022-08-12/embedded-wallet",a=e=>`thirdwebEwsWalletUserId-${e}`,i=e=>`walletToken-${e}`,n=e=>`passkey-credential-id-${e}`,o=(e,t)=>`a-${e}-${t}`,l=e=>`walletConnectSessions-${e}`,d=e=>`thirdweb_guest_session_id_${e}`},43265:(e,t,s)=>{s.d(t,{x:()=>o,N:()=>n});var r=s(17273),a=s(55866);let i=({isWindowOpenedByFn:e,win:t,closeOpenedWindow:s})=>{e?t?.close():t&&s?s(t):t&&t.close()};async function n(e){let t=(0,a.f)({...e,mode:e.mode||"redirect"});"redirect"===e.mode?window.location.href=t:window.open(t),await new Promise(e=>setTimeout(e,5e3))}let o=async e=>{let t=e.openedWindow,s=!1;if(t||(t=window.open((0,a.f)({...e,mode:"popup"}),`Login to ${e.authOption}`,"width=350, height=500"),s=!0),!t)throw Error("Something went wrong opening pop-up");return await new Promise((a,n)=>{let o=window.setInterval(async()=>{t.closed&&(clearInterval(o),window.removeEventListener("message",l),n(Error("User closed login window")))},1e3),l=async d=>{if(d.origin===(0,r.getThirdwebBaseUrl)("inAppWallet")){if("object"!=typeof d.data)return void n(Error("Invalid event data"));switch(d.data.eventType){case"oauthSuccessResult":window.removeEventListener("message",l),clearInterval(o),i({closeOpenedWindow:e.closeOpenedWindow,isWindowOpenedByFn:s,win:t}),d.data.authResult&&a(d.data.authResult);break;case"oauthFailureResult":window.removeEventListener("message",l),clearInterval(o),i({closeOpenedWindow:e.closeOpenedWindow,isWindowOpenedByFn:s,win:t}),n(Error(d.data.errorString))}}};window.addEventListener("message",l)})}},55866:(e,t,s)=>{s.d(t,{K:()=>o,f:()=>n});var r=s(17273),a=s(57634);let i=e=>{if(!a.N.includes(e))throw Error(`Unknown auth option ${e}`);return"wallet"===e?"siwe":e},n=({authOption:e,client:t,ecosystem:s,mode:a="popup",redirectUrl:n})=>{if("popup"===a&&n)throw Error("Redirect URL is not supported for popup mode");if("window"===a&&!n)throw Error("Redirect URL is required for window mode");let o=i(e),l=`${(0,r.getThirdwebBaseUrl)("inAppWallet")}/api/2024-05-05/login/${o}?clientId=${t.clientId}`;if(s?.partnerId?l=`${l}&ecosystemId=${s.id}&ecosystemPartnerId=${s.partnerId}`:s&&(l=`${l}&ecosystemId=${s.id}`),"popup"!==a){let t=new URL(n||window.location.href);t.searchParams.set("walletId",s?.id||"inApp"),t.searchParams.set("authProvider",e),l=`${l}&redirectUrl=${encodeURIComponent(t.toString())}`}return l},o=({authOption:e,client:t,ecosystem:s})=>{let a=i(e),n=`${(0,r.getThirdwebBaseUrl)("inAppWallet")}/api/2024-05-05/login/${a}/callback?clientId=${t.clientId}`;return s?.partnerId?n=`${n}&ecosystemId=${s.id}&ecosystemPartnerId=${s.partnerId}`:s&&(n=`${n}&ecosystemId=${s.id}`),n}},57634:(e,t,s)=>{s.d(t,{N:()=>a,Y:()=>r});let r=["google","apple","facebook","discord","line","x","coinbase","farcaster","telegram","github","twitch","steam"],a=[...r,"guest","backend","email","phone","passkey","wallet"]}}]);