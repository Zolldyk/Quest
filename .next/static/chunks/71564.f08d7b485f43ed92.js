"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71564],{49862:(e,t,r)=>{r.d(t,{Bh:()=>s,CL:()=>i,D5:()=>l,Di:()=>p,G1:()=>T,Gi:()=>d,L5:()=>x,MI:()=>U,Qc:()=>n,RV:()=>P,Sf:()=>C,WT:()=>j,XU:()=>c,YW:()=>m,ab:()=>f,bq:()=>u,cg:()=>O,ch:()=>M,hA:()=>h,hl:()=>E,jz:()=>I,qZ:()=>b,s0:()=>g,sV:()=>y,uL:()=>q,vx:()=>w,xQ:()=>v,xq:()=>R});var a=r(45858),o=r(54512);class n extends a.C{constructor(e,{code:t,docsPath:r,metaMessages:a,name:n,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:a||e?.metaMessages,name:n||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=n||e.name,this.code=e instanceof o.J8?e.code:t??-1}}class s extends n{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class c extends n{constructor(e){super(e,{code:c.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class i extends n{constructor(e){super(e,{code:i.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class d extends n{constructor(e,{method:t}={}){super(e,{code:d.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class l extends n{constructor(e){super(e,{code:l.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class u extends n{constructor(e){super(e,{code:u.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class p extends n{constructor(e){super(e,{code:p.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends n{constructor(e){super(e,{code:h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class b extends n{constructor(e){super(e,{code:b.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class m extends n{constructor(e){super(e,{code:m.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class f extends n{constructor(e,{method:t}={}){super(e,{code:f.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class g extends n{constructor(e){super(e,{code:g.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class v extends n{constructor(e){super(e,{code:v.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class w extends s{constructor(e){super(e,{code:w.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class y extends s{constructor(e){super(e,{code:y.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class C extends s{constructor(e,{method:t}={}){super(e,{code:C.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class P extends s{constructor(e){super(e,{code:P.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class R extends s{constructor(e){super(e,{code:R.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class M extends s{constructor(e){super(e,{code:M.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(M,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class x extends s{constructor(e){super(e,{code:x.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class j extends s{constructor(e){super(e,{code:j.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(j,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class E extends s{constructor(e){super(e,{code:E.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class O extends s{constructor(e){super(e,{code:O.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class q extends s{constructor(e){super(e,{code:q.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(q,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class T extends s{constructor(e){super(e,{code:T.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class I extends s{constructor(e){super(e,{code:I.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class U extends n{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},54512:(e,t,r)=>{r.d(t,{Ci:()=>s,J8:()=>i,MU:()=>l,Oz:()=>d,Pr:()=>c});var a=r(83732),o=r(45858),n=r(89692);class s extends o.C{constructor({body:e,cause:t,details:r,headers:o,status:s,url:c}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,n.I)(c)}`,e&&`Request body: ${(0,a.A)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=o,this.status=s,this.url=c}}class c extends o.C{constructor({body:e,cause:t,details:r,url:o}){super("WebSocket request failed.",{cause:t,details:r,metaMessages:[`URL: ${(0,n.I)(o)}`,e&&`Request body: ${(0,a.A)(e)}`].filter(Boolean),name:"WebSocketRequestError"})}}class i extends o.C{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,n.I)(r)}`,`Request body: ${(0,a.A)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class d extends o.C{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${(0,n.I)(e)}`].filter(Boolean),name:"SocketClosedError"})}}class l extends o.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,n.I)(t)}`,`Request body: ${(0,a.A)(e)}`],name:"TimeoutError"})}}},71564:(e,t,r)=>{r.d(t,{autoConnectWC:()=>y,connectWC:()=>w});var a=r(59785),o=r(49862),n=r(55389),s=r(23802),c=r(99232),i=r(23471),d=r(8118),l=r(94879),u=r(92212),p=r(58669),h=r(66900),b=r(28462),m=r(72126),f=r(86633);let g=null,v={lastUsedChainId:"tw.wc.lastUsedChainId",requestedChains:"tw.wc.requestedChains"};async function w(e,t,r,a,o){let n=await C(e,r,o),c=e.walletConnect,{onDisplayUri:i}=c||{};if(!i&&o){let e=await (0,h.u)(r);i=t=>{let r=e.mobile.native||e.mobile.universal;if(!r)return void o(t);o((0,p.YP)(r,t).redirect)}}i&&n.events.addListener("display_uri",i);let d=c?.optionalChains,l=e.chain;"global.safe"===r&&(d=j.map(s.Q4),l&&!d.includes(l)&&(l=void 0));let{chains:b,rpcMap:g}=function(e){let t={},r=[];e.chain&&(t[e.chain.id]=(0,s.r8)({chain:e.chain,client:e.client}),r.push(e.chain.id));let a=(e?.optionalChains||[]).slice(0,10);for(let o of a)t[o.id]=(0,s.r8)({chain:o,client:e.client}),r.push(o.id);return e.chain||0!==a.length||(t[1]=(0,s.Q4)(1).rpc,r.push(1)),{chains:r.map(e=>`eip155:${e}`),rpcMap:t}}({chain:l,client:e.client,optionalChains:d});n.session||await n.connect({...c?.pairingTopic?{pairingTopic:c?.pairingTopic}:{},namespaces:{[f.C]:{chains:b,events:["chainChanged","accountsChanged"],methods:["eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData","wallet_switchEthereumChain","wallet_addEthereumChain"],rpcMap:g}}}),x(b.map(e=>Number(e.split(":")[1])),a);let v=b[0]?.split(":")[1]||1,w=(0,m.A)(v),y=(await n.request({method:"eth_requestAccounts",params:[]},`eip155:${w}`))[0];if(!y)throw Error("No accounts found on provider.");let P=e.chain&&e.chain.id===w?e.chain:(0,s.Q4)(w);if(e){let t={chain:e.chain,optionalChains:e.walletConnect?.optionalChains,pairingTopic:e.walletConnect?.pairingTopic};a&&(0,u.O7)(a,r,t)}return c?.onDisplayUri&&n.events.removeListener("display_uri",c.onDisplayUri),R(y,P,n,t,a,e.client)}async function y(e,t,r,a,o){let n=a?await (0,u.lh)(a,r):null,c=await C(n?{chain:n.chain,client:e.client,walletConnect:{optionalChains:n.optionalChains,pairingTopic:n.pairingTopic}}:{client:e.client,walletConnect:{}},r,o),i=(await c.enable())[0];if(!i)throw Error("No accounts found on provider.");let d=e.chain?.id||1,l=(0,m.A)(d);return R(i,e.chain&&e.chain.id===l?e.chain:(0,s.Q4)(l),c,t,a,e.client)}async function C(e,t,a){if(g)return g;let o=await (0,h.u)(t),n=e.walletConnect,{UniversalProvider:c}=await r.e(92738).then(r.bind(r,92738)),i=n?.optionalChains,d=e.chain;"global.safe"===t&&(i=j.map(s.Q4),d&&!i.includes(d)&&(d=void 0));let l=await c.init({metadata:{description:n?.appMetadata?.description||(0,b.o)().description,icons:[n?.appMetadata?.logoUrl||(0,b.o)().logoUrl],name:n?.appMetadata?.name||(0,b.o)().name,url:n?.appMetadata?.url||(0,b.o)().url},projectId:n?.projectId||f.S});if(l.events.setMaxListeners(1/0),"walletConnect"!==t){async function u(){let e=l.session?.peer?.metadata?.redirect?.native||o.mobile.native||o.mobile.universal;a&&e&&await a(e)}l.on("session_request_sent",u),l.events.addListener("disconnect",()=>{l.off("session_request_sent",u),g=null})}return g=l,l}function P({provider:e,address:t,client:r,chain:o}){return{address:(0,c.bv)(t),async sendTransaction(a){let o=await e.request({method:"eth_sendTransaction",params:[{data:a.data,from:(0,c.bv)(t),gas:a.gas?(0,i.cK)(a.gas):void 0,to:a.to,value:a.value?(0,i.cK)(a.value):void 0}]},`eip155:${a.chainId}`);return(0,n.E)({chainId:a.chainId,client:r,contractAddress:a.to??void 0,gasPrice:a.gasPrice,transactionHash:o,walletAddress:(0,c.bv)(t),walletType:"walletConnect"}),{transactionHash:o}},async signMessage({message:t}){let r="string"==typeof t?(0,i.i3)(t):t.raw instanceof Uint8Array?(0,i.EY)(t.raw):t.raw;return e.request({method:"personal_sign",params:[r,this.address]},`eip155:${o.id}`)},async signTypedData(t){let r=(0,l.y)(t),{domain:n,message:s,primaryType:c}=r,i={EIP712Domain:(0,a.H4)({domain:n}),...r.types};(0,a.$$)({domain:n,message:s,primaryType:c,types:i});let d=(0,a.v8)({domain:n??{},message:s,primaryType:c,types:i});return await e.request({method:"eth_signTypedData_v4",params:[this.address,d]},`eip155:${o.id}`)}}}function R(e,t,r,a,o,n){let i=P({address:e,chain:t,client:n,provider:r});async function d(){r.removeListener("accountsChanged",u),r.removeListener("chainChanged",p),r.removeListener("disconnect",l),await r.disconnect(),g=null}function l(){x([],o),o?.removeItem(v.lastUsedChainId),d(),a.emit("disconnect",void 0)}function u(e){if(e[0]){let o=P({address:(0,c.bv)(e[0]),chain:t,client:n,provider:r});a.emit("accountChanged",o),a.emit("accountsChanged",e)}else l()}function p(e){let t=(0,s.Q4)((0,m.A)(e));a.emit("chainChanged",t),o?.setItem(v.lastUsedChainId,String(e))}return r.on("accountsChanged",u),r.on("chainChanged",p),r.on("disconnect",l),r.on("session_delete",l),[i,t,d,e=>M(r,e)]}async function M(e,t){let r=t.id;try{e.setDefaultChain(`eip155:${r}`)}catch(t){let e="string"==typeof t?t:t?.message;if(/user rejected request/i.test(e))throw new o.vx(t);throw new o.ch(t)}}function x(e,t){t?.setItem(v.requestedChains,(0,d.stringify)(e))}let j=[1,0xaa36a7,42161,43114,8453,0x4e454152,84532,56,42220,100,10,137,1101,324,534352]},89692:(e,t,r)=>{r.d(t,{I:()=>o,R:()=>a});let a=e=>e,o=e=>e}}]);