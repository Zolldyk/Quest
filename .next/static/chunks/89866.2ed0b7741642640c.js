"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89866],{27305:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(12115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},55233:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(12115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})},78046:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(12115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},89866:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var r=s(95155),a=s(12115),l=s(49112);let n=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}),o=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});var i=s(27305),c=s(78046),d=s(55233);let m=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}),x=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))});var u=s(98359),h=s(89629),g=s(31530);let b=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}),f=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}),j=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}),w=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}),p=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))});function v(e){let{className:t="",showBalance:s=!0,showDisconnect:n=!0,variant:o="default"}=e,i=(0,l.UD)(),c=(0,l.vT)(),{disconnect:d}=(0,l.uP)(),[m,x]=(0,a.useState)(!1),[u,w]=(0,a.useState)("0"),[p,v]=(0,a.useState)(!1),[y,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=async()=>{if(i&&c)try{w("0")}catch(e){console.error("Error fetching balance:",e),w("0")}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[i,c]),(0,a.useEffect)(()=>{let e=e=>{e.target.closest("[data-wallet-dropdown]")||x(!1)};if(m)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m]);let C=async()=>{try{await d(),x(!1),g.oR.success("Wallet disconnected")}catch(e){console.error("Disconnect error:",e),g.oR.error("Failed to disconnect wallet")}},L=e=>"".concat(e.slice(0,6),"...").concat(e.slice(-4));return i?"compact"===o?(0,r.jsxs)("div",{className:"flex items-center space-x-2 ".concat(t),children:[(0,r.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg px-3 py-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:L(i)})]}),n&&(0,r.jsx)("button",{onClick:C,className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Disconnect",children:(0,r.jsx)(b,{className:"h-4 w-4"})})]}):"icon-only"===o?(0,r.jsxs)("div",{className:"relative","data-wallet-dropdown":!0,children:[(0,r.jsxs)("button",{onClick:()=>x(!m),className:"\n            flex items-center p-2 rounded-lg border border-green-300 bg-green-50 \n            hover:bg-green-100 transition-all duration-200 ".concat(t,"\n          "),title:"Connected: ".concat(L(i)),children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),(0,r.jsx)(f,{className:"h-5 w-5 text-green-600"})]}),m&&(0,r.jsx)(N,{address:i,balance:s?u:void 0,onDisconnect:C})]}):(0,r.jsxs)("div",{className:"relative ".concat(t),"data-wallet-dropdown":!0,children:[(0,r.jsxs)("button",{onClick:()=>x(!m),className:" flex items-center space-x-3 bg-white border border-gray-300 rounded-lg px-4 py-2 hover:border-primary-500 hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,r.jsx)(f,{className:"h-5 w-5 text-gray-600"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-start",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:L(i)}),s&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[(e=>{let t=parseFloat(e);return 0===t?"0":t<.001?"< 0.001":t<1?t.toFixed(3):t.toFixed(2)})(u)," XTZ"]})]}),(0,r.jsx)(j,{className:"h-4 w-4 text-gray-400 transition-transform duration-200 ".concat(m?"rotate-180":"")})]}),m&&(0,r.jsx)(N,{address:i,balance:s?u:void 0,onDisconnect:C})]}):(0,r.jsx)("div",{className:t,children:(0,r.jsx)(h.Ay,{variant:o,className:"icon-only"===o?"p-2 rounded-lg border border-gray-300 hover:border-primary-500 bg-white hover:bg-gray-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed":"!bg-primary-600 hover:!bg-primary-700 !text-white !font-medium !rounded-lg !px-6 !py-3 !transition-all !duration-200"})})}function N(e){let{address:t,balance:s,onDisconnect:l}=e,[n,o]=(0,a.useState)(!1),i=async()=>{try{await navigator.clipboard.writeText(t),o(!0),g.oR.success("Address copied!"),setTimeout(()=>o(!1),2e3)}catch(e){g.oR.error("Failed to copy address")}};return(0,r.jsxs)("div",{className:" absolute top-full mt-2 right-0 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden animate-slide-down ",children:[(0,r.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Connected"})]})}),(0,r.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Address"}),(0,r.jsx)("p",{className:"text-sm font-mono text-gray-900 mt-1",children:"".concat(t.slice(0,8),"...").concat(t.slice(-6))})]}),(0,r.jsx)("button",{onClick:i,className:" p-2 text-gray-400 hover:text-gray-600 rounded-md  hover:bg-gray-100 transition-colors duration-200 ",title:"Copy address",children:n?(0,r.jsx)(w,{className:"h-4 w-4 text-green-500"}):(0,r.jsx)(p,{className:"h-4 w-4"})})]})}),s&&(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Balance"}),(0,r.jsxs)("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[(e=>{let t=parseFloat(e);return 0===t?"0":t<.001?"< 0.001":t<1?t.toFixed(3):t.toFixed(2)})(s)," XTZ"]})]}),(0,r.jsx)("div",{className:"px-4 py-3",children:(0,r.jsxs)("button",{onClick:l,className:" flex items-center space-x-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors duration-200 ",children:[(0,r.jsx)(b,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Disconnect Wallet"})]})})]})}function y(e){let{children:t,fallback:s,className:n=""}=e,{isConnected:o}=function(){let e=(0,l.UD)(),t=(0,l.vT)(),{disconnect:s}=(0,l.uP)(),[r]=(0,a.useState)(!1),[n,o]=(0,a.useState)("0"),i=async()=>!0,c=async()=>{try{return await s(),!0}catch(e){return console.error("Disconnect failed:",e),!1}};return(0,a.useEffect)(()=>{let s=async()=>{if(e&&t)try{o("0")}catch(e){console.error("Error fetching balance:",e),o("0")}};s();let r=setInterval(s,3e4);return()=>clearInterval(r)},[e,t]),{address:e,wallet:t,balance:n,isConnected:!!e,isConnecting:r,connectWallet:i,disconnectWallet:c}}();return o?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)("div",{className:"text-center py-12 ".concat(n),children:s||(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsx)(f,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Wallet Required"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Please connect your wallet to access this feature."}),(0,r.jsx)(v,{variant:"default"})]})})}var k=s(45125);function C(){let e=(0,l.UD)(),{getUserBadges:t,getBadge:s,getUserBadgeCount:m,getTokenURI:x,totalSupply:h}=(0,u.jO)(),[b,f]=(0,a.useState)([]),[j,w]=(0,a.useState)(!0),[p,v]=(0,a.useState)("grid"),[N,C]=(0,a.useState)(""),[S,B]=(0,a.useState)("all"),[V,F]=(0,a.useState)("newest"),[R,D]=(0,a.useState)(null),[T,W]=(0,a.useState)(!1),[q,H]=(0,a.useState)(0);(0,a.useEffect)(()=>{(async()=>{if(!e){f([]),H(0),w(!1);return}w(!0);try{let r=[],a=0;try{r=await t(e)||[]}catch(e){console.warn("Failed to fetch user badges:",e)}try{a=await m(e)}catch(e){console.warn("Failed to fetch badge count:",e)}if(H(a),0===r.length){f([]),w(!1);return}let l=r.map(async e=>{try{let t=await s(Number(e));if(!t)return null;let r="";try{r=await x(Number(e))||""}catch(t){console.warn("Failed to fetch token URI for ".concat(e,":"),t)}return{...t,tokenId:Number(e),tokenURI:r}}catch(t){return console.warn("Failed to fetch badge data for ".concat(e,":"),t),null}}),n=(await Promise.all(l)).filter(e=>null!==e);f(n)}catch(e){console.error("Error fetching user badges:",e),f([])}finally{w(!1)}})()},[e,t,s,m,x]);let I=(0,a.useMemo)(()=>{let e=[...b];if(N){let t=N.toLowerCase();e=e.filter(e=>e.questTitle.toLowerCase().includes(t)||e.questId.toString().includes(t))}if("recent"===S){let t=Date.now()-6048e5;e=e.filter(e=>1e3*Number(e.mintTime)>t)}return e.sort((e,t)=>{switch(V){case"newest":return Number(t.mintTime)-Number(e.mintTime);case"oldest":return Number(e.mintTime)-Number(t.mintTime);case"quest":return e.questTitle.localeCompare(t.questTitle);default:return 0}}),e},[b,N,S,V]),Z=e=>{let t="".concat(window.location.origin,"/badge/").concat(e.tokenId);navigator.clipboard.writeText(t),g.oR.success("Badge link copied to clipboard!")},O=async()=>{try{(0,g.oR)("Download feature coming soon!",{icon:"ℹ️"})}catch(e){g.oR.error("Failed to download badge")}};return j?(0,r.jsx)(y,{children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-48 mb-2 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-96 animate-pulse"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,r.jsx)(k.Qv,{},t))})]})}):(0,r.jsx)(y,{children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My NFT Badges"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Your collection of quest completion badges (",q," badges)"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>v("grid"),className:"p-2 rounded-md transition-colors ".concat("grid"===p?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"),children:(0,r.jsx)(n,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>v("list"),className:"p-2 rounded-md transition-colors ".concat("list"===p?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"),children:(0,r.jsx)(o,{className:"h-5 w-5"})})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)(L,{title:"Badges Earned",value:q,icon:(0,r.jsx)(i.A,{className:"h-6 w-6 text-yellow-600"}),color:"yellow"}),(0,r.jsx)(L,{title:"Quests Completed",value:b.length,icon:(0,r.jsx)(i.A,{className:"h-6 w-6 text-green-600"}),color:"green"}),(0,r.jsx)(L,{title:"Collection Rarity",value:h?"".concat((q/Number(h)*100).toFixed(1),"%"):"0%",icon:(0,r.jsx)(i.A,{className:"h-6 w-6 text-purple-600"}),color:"purple"})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsx)("div",{className:"flex-1 max-w-md",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(c.A,{className:"h-4 w-4 text-gray-400"})}),(0,r.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Search badges..."})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsxs)("select",{value:S,onChange:e=>B(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"All Badges"}),(0,r.jsx)("option",{value:"recent",children:"Recent (7 days)"}),(0,r.jsx)("option",{value:"oldest",children:"Oldest First"})]})]}),(0,r.jsxs)("select",{value:V,onChange:e=>F(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"newest",children:"Newest First"}),(0,r.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,r.jsx)("option",{value:"quest",children:"By Quest"})]})]})]})}),0===I.length?(0,r.jsx)(E,{hasFilters:""!==N||"all"!==S,onClearFilters:()=>{C(""),B("all")}}):(0,r.jsx)("div",{className:"\n            ".concat("grid"===p?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4","\n          "),children:I.map(e=>(0,r.jsx)(M,{badge:e,viewMode:p,onView:()=>{D(e),W(!0)},onShare:()=>Z(e),onDownload:()=>O()},e.tokenId))}),T&&R&&(0,r.jsx)(A,{badge:R,onClose:()=>{W(!1),D(null)},onShare:()=>Z(R),onDownload:()=>O()})]})})}function L(e){let{title:t,value:s,icon:a,color:l}=e;return(0,r.jsx)("div",{className:"rounded-lg border p-4 ".concat({yellow:"bg-yellow-50 border-yellow-200",green:"bg-green-50 border-green-200",purple:"bg-purple-50 border-purple-200"}[l]),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:a}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:s})]})]})})}function E(e){let{hasFilters:t,onClearFilters:s}=e;return(0,r.jsx)("div",{className:"text-center py-12",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No badges found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"No badges match your current search or filter criteria."}),(0,r.jsx)("button",{onClick:s,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Clear all filters"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No badges yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Complete quests to earn your first NFT badge!"}),(0,r.jsxs)("a",{href:"/quests",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Browse Available Quests"]})]})})}function A(e){let{badge:t,onClose:s,onShare:a,onDownload:l}=e;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Badge Details"}),(0,r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"w-32 h-32 mx-auto mb-4 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(i.A,{className:"h-16 w-16 text-white"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.questTitle}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Token ID: #",t.tokenId]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Badge Information"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Quest ID:"}),(0,r.jsxs)("span",{className:"font-medium",children:["#",t.questId.toString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Earned:"}),(0,r.jsx)("span",{className:"font-medium",children:new Date(1e3*Number(t.mintTime)).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Reward:"}),(0,r.jsxs)("span",{className:"font-medium text-green-600",children:[(Number(t.questReward)/1e6).toFixed(2)," USDC"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,r.jsx)("span",{className:"font-medium ".concat(t.isValid?"text-green-600":"text-red-600"),children:t.isValid?"Valid":"Invalid"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Proof of Completion"}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:"Original submission:"}),(0,r.jsx)("a",{href:t.tweetUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 break-all",children:t.tweetUrl})]})]})]})]}),(0,r.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 transition-colors",children:"Close"}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("button",{onClick:a,className:"flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(m,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,r.jsxs)("button",{onClick:l,className:"flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:[(0,r.jsx)(x,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})]})})}function M(e){let{badge:t,viewMode:s,onView:a,onShare:l,onDownload:n}=e,o=e=>new Date(1e3*e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return"grid"===s?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-200 group",children:[(0,r.jsxs)("div",{className:"relative bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500 h-48 flex items-center justify-center",children:[(0,r.jsx)(i.A,{className:"h-20 w-20 text-white drop-shadow-lg"}),(0,r.jsxs)("div",{className:"absolute top-3 right-3 bg-black bg-opacity-30 text-white text-xs font-bold px-2 py-1 rounded-full",children:["#",t.tokenId]}),t.isValid&&(0,r.jsx)("div",{className:"absolute top-3 left-3 bg-green-500 bg-opacity-90 text-white p-1 rounded-full",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 text-sm mb-1 line-clamp-1",children:t.questTitle}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Quest #",t.questId.toString()]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("span",{children:(e=>{let t=Math.floor((Date.now()-1e3*e)/6e4);return t<60?"".concat(t,"m ago"):t<1440?"".concat(Math.floor(t/60),"h ago"):t<10080?"".concat(Math.floor(t/1440),"d ago"):o(e)})(Number(t.mintTime))})]}),(0,r.jsxs)("div",{className:"flex items-center text-green-600 font-medium",children:[(0,r.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 713.138-3.138z"})}),(0,r.jsxs)("span",{children:[(Number(t.questReward)/1e6).toFixed(1)," USDC"]})]})]}),(0,r.jsx)("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-colors duration-200",children:"View Badge"})]})]}):(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4 hover:shadow-xl transition-all duration-200",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsxs)("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500 rounded-lg flex items-center justify-center relative",children:[(0,r.jsx)(i.A,{className:"h-8 w-8 text-white"}),t.isValid&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white p-0.5 rounded-full",children:(0,r.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:t.questTitle}),(0,r.jsxs)("span",{className:"text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["#",t.tokenId]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-600 mb-2",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"font-medium",children:["Quest #",t.questId.toString()]})}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("span",{children:o(Number(t.mintTime))})]}),(0,r.jsxs)("div",{className:"flex items-center text-green-600 font-medium",children:[(0,r.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 714.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 713.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 710 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 710-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 713.138-3.138z"})}),(0,r.jsxs)("span",{children:[(Number(t.questReward)/1e6).toFixed(2)," USDC"]})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 truncate mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Proof: "}),(0,r.jsx)("a",{href:t.tweetUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:t.tweetUrl.length>40?"".concat(t.tweetUrl.substring(0,40),"..."):t.tweetUrl})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:a,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"View details",children:(0,r.jsxs)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 616 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,r.jsx)("button",{onClick:l,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"Share badge",children:(0,r.jsx)(m,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:n,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"Download badge",children:(0,r.jsx)(x,{className:"h-4 w-4"})})]})]})})}}}]);