"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26489,71007],{26489:(t,e,i)=>{i.d(e,{readContract:()=>f});var r=i(57368),n=i(31276),s=i(23471);async function o(t,e){let{blockNumber:i,blockTag:r,...n}=e,o=(i?(0,s.cK)(i):void 0)||r||"latest";return await t({method:"eth_call",params:e.stateOverrides?[n,o,Object.fromEntries(Object.entries(e.stateOverrides).map(([t,e])=>[t,{balance:e.balance?(0,s.cK)(e.balance):void 0,code:e.code,nonce:e.nonce?(0,s.cK)(e.nonce):void 0,state:e.state,stateDiff:e.stateDiff}]))]:[n,o]})}var a=i(92942),u=i(33267),h=i(79840),l=i(99232),c=i(36217);async function f(t){let e,{contract:i,method:s,params:f}=t,p=async()=>{if(Array.isArray(s))return s;if((0,c.d)(s))return(0,h.v)(s);if("function"==typeof s)return(0,h.v)(await s(i));if("string"==typeof s&&s.startsWith("function ")){let t=(0,r.$)(s);if("function"===t.type)return(0,h.v)(t);throw Error('"method" passed is not of type "function"')}if(i.abi&&i.abi?.length>0){let t=i.abi?.find(t=>"function"===t.type&&t.name===s);if(t)return(0,h.v)(t)}throw Error(`Could not resolve method "${s}".`)},[d,v]=await Promise.all([p(),"function"==typeof f?f():f]);e=0===d[1].length?d[0]:d[0]+(0,u.hd)(d[1],v).slice(2);let y=(0,a.getRpcClient)({chain:i.chain,client:i.client}),g=await o(y,{data:e,from:t.from?(0,l.bv)(t.from):void 0,to:i.address}),b=(0,n.n)(d[2],g);return Array.isArray(b)&&1===b.length?b[0]:b}},71007:(t,e,i)=>{i.d(e,{estimateL1Fee:()=>M});var r=i(2579),n=i(81647),s=i(26489),o=i(56484),a=i(54924),u=i(90065),h=i(40310);function l(t){if(130!==t.length&&132!==t.length)throw new v({signature:t});let e=BigInt(o.di(t,0,32)),i=BigInt(o.di(t,32,64)),r=(()=>{let e=Number(`0x${t.slice(130)}`);if(!Number.isNaN(e))try{return d(e)}catch{throw new w({value:e})}})();return void 0===r?{r:e,s:i}:{r:e,s:i,yParity:r}}function c(t){if(void 0!==t.r&&void 0!==t.s){var e=t;let i=(()=>{if("string"==typeof e)return l(e);if(e instanceof Uint8Array)return l(o.uK(e));return"string"==typeof e.r?function(t){let e=(()=>{let e=t.v?Number(t.v):void 0,i=t.yParity?Number(t.yParity):void 0;if("number"==typeof e&&"number"!=typeof i&&(i=d(e)),"number"!=typeof i)throw new w({value:t.yParity});return i})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}(e):e.v?f(e):{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}}})();return!function(t,e={}){let{recovered:i}=e;if(void 0===t.r||void 0===t.s||i&&void 0===t.yParity)throw new y({signature:t});if(t.r<0n||t.r>h.Ao)throw new g({value:t.r});if(t.s<0n||t.s>h.Ao)throw new b({value:t.s});if("number"==typeof t.yParity&&0!==t.yParity&&1!==t.yParity)throw new w({value:t.yParity})}(i),i}}function f(t){return{r:t.r,s:t.s,yParity:d(t.v)}}function p(t){let{r:e,s:i,yParity:r}=t;return[r?"0x01":"0x",0n===e?"0x":o.Mr(o.oB(e)),0n===i?"0x":o.Mr(o.oB(i))]}function d(t){if(0===t||27===t)return 0;if(1===t||28===t)return 1;if(t>=35)return+(t%2==0);throw new m({value:t})}class v extends a.C{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${o.Ej(o.HT(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class y extends a.C{constructor({signature:t}){super(`Signature \`${u.A(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class g extends a.C{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class b extends a.C{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class w extends a.C{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class m extends a.C{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var x=i(52686);function P(t){if(!t||0===t.length)return[];let e=[];for(let{address:i,storageKeys:r}of t){for(let t=0;t<r.length;t++)if(32!==o.Ej(r[t]))throw new B({storageKey:r[t]});i&&x.vA(i,{strict:!1}),e.push([i,r])}return e}class B extends a.C{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${o.Ej(t)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccessList.InvalidStorageKeySizeError"})}}var C=i(52866);let U={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new R({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new $({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new E({offset:t});let e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new E({offset:t});let e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){let e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){let i=e??this.position;return this.assertPosition(i+t-1),this.bytes.subarray(i,i+t)},inspectUint8(t){let e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){let e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){let e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){let e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,255&t),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();let i=this.inspectBytes(t);return this.position+=e??t,i},readUint8(){this.assertReadLimit(),this._touch();let t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();let t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();let t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();let t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){let e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===1/0)return;let t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};class E extends a.C{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class $ extends a.C{constructor({length:t,position:e}){super(`Position \`${e}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class R extends a.C{constructor({count:t,limit:e}){super(`Recursive read limit of \`${e}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function O(t,e={}){let{as:i="Hex"}=e;return function(t,e){let{as:i}=e,r=function t(e){return Array.isArray(e)?function(t){let e=t.reduce((t,e)=>t+e.length,0),i=j(e);return{length:e<=55?1+e:1+i+e,encode(r){for(let{encode:n}of(e<=55?r.pushByte(192+e):(r.pushByte(247+i),1===i?r.pushUint8(e):2===i?r.pushUint16(e):3===i?r.pushUint24(e):r.pushUint32(e)),t))n(r)}}}(e.map(e=>t(e))):function(t){let e="string"==typeof t?C.aD(t):t,i=j(e.length);return{length:1===e.length&&e[0]<128?1:e.length<=55?1+e.length:1+i+e.length,encode(t){1===e.length&&e[0]<128||(e.length<=55?t.pushByte(128+e.length):(t.pushByte(183+i),1===i?t.pushUint8(e.length):2===i?t.pushUint16(e.length):3===i?t.pushUint24(e.length):t.pushUint32(e.length))),t.pushBytes(e)}}}(e)}(t),n=function(t,{recursiveReadLimit:e=8192}={}){let i=Object.create(U);return i.bytes=t,i.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),i.positionReadCount=new Map,i.recursiveReadLimit=e,i}(new Uint8Array(r.length));return(r.encode(n),"Hex"===i)?o.uK(n.bytes):n.bytes}(t,{as:i})}function j(t){if(t<256)return 1;if(t<65536)return 2;if(t<0x1000000)return 3;if(t<0x100000000)return 4;throw new a.C("Length is too large.")}let A={wei:0,gwei:9,szabo:12,finney:15,ether:18};function I(t,e="wei"){return function(t,e=0){let i=t.toString(),r=i.startsWith("-");r&&(i=i.slice(1));let[n,s]=[(i=i.padStart(e,"0")).slice(0,i.length-e),i.slice(i.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${n||"0"}${s?`.${s}`:""}`}(t,A.gwei-A[e])}a.C;class L extends a.C{constructor({feeCap:t}={}){super(`The fee cap (\`maxFeePerGas\`/\`maxPriorityFeePerGas\`${t?` = ${I(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.FeeCapTooHighError"})}}class V extends a.C{constructor({gasPrice:t}={}){super(`The gas price (\`gasPrice\`${t?` = ${I(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.GasPriceTooHighError"})}}class S extends a.C{constructor({chainId:t}){super(void 0!==t?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.InvalidChainIdError"})}}a.C;class D extends a.C{constructor({maxPriorityFeePerGas:t,maxFeePerGas:e}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${I(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${e?` = ${I(e)} gwei`:""}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.TipAboveFeeCapError"})}}function N(t){let{chainId:e,maxPriorityFeePerGas:i,maxFeePerGas:r,to:n}=t;if(e<=0)throw new S({chainId:e});if(n&&x.vA(n,{strict:!1}),r&&BigInt(r)>2n**256n-1n)throw new L({feeCap:r});if(i&&r&&i>r)throw new D({maxFeePerGas:r,maxPriorityFeePerGas:i})}function _(t){let{chainId:e,gasPrice:i,to:r}=t;if(e<=0)throw new S({chainId:e});if(r&&x.vA(r,{strict:!1}),i&&BigInt(i)>2n**256n-1n)throw new V({gasPrice:i})}function F(t){let{authorizationList:e}=t;if(e)for(let t of e){let{address:e,chainId:i}=t;if(e&&x.vA(e,{strict:!1}),0>Number(i))throw new S({chainId:i})}N(t)}function T(t){let{chainId:e,gasPrice:i,to:r}=t;if(r&&x.vA(r,{strict:!1}),void 0!==e&&e<=0)throw new S({chainId:e});if(i&&BigInt(i)>2n**256n-1n)throw new V({gasPrice:i})}async function M(t){let{transaction:e,gasPriceOracleAddress:i}=t,a=(0,r.P)({address:i||"0x420000000000000000000000000000000000000F",chain:e.chain,client:e.client}),{gasPrice:u,...h}=await (0,n.$)({transaction:e}),l=function(t){let{transaction:e}=t,i=function(t){if(void 0!==t.type)return t.type;if(void 0!==t.authorizationList)return"eip7702";if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)return"eip1559";if(void 0!==t.gasPrice)return void 0!==t.accessList?"eip2930":"legacy";throw Error("Invalid transaction type")}(e),r=(()=>{if(t.signature)return"v"in t.signature&&void 0!==t.signature.v?f({r:o.Dg(t.signature.r),s:o.Dg(t.signature.s),v:Number(t.signature.v)}):{r:o.Dg(t.signature.r),s:o.Dg(t.signature.s),yParity:t.signature.yParity};if(void 0!==e.v||void 0!==e.yParity){if(void 0===e.r||void 0===e.s)throw Error("Invalid signature provided with transaction");return{r:"bigint"==typeof e.r?e.r:o.Dg(e.r),s:"bigint"==typeof e.s?e.s:o.Dg(e.s),yParity:void 0!==e.v&&void 0===e.yParity?d(Number(e.v)):Number(e.yParity)}}})();if("eip1559"===i)return N(e),function(t,e={}){let{chainId:i,gas:r,nonce:n,to:s,value:a,maxFeePerGas:u,maxPriorityFeePerGas:h,accessList:l,data:f,input:d}=t;N(t);let v=P(l),y=c(e.signature||t),g=[o.oB(i),n?o.oB(n):"0x",h?o.oB(h):"0x",u?o.oB(u):"0x",r?o.oB(r):"0x",s??"0x",a?o.oB(a):"0x",f??d??"0x",v,...y?p(y):[]];return o.xW("0x02",O(g))}(e,{signature:r});if("legacy"===i)return T(e),function(t,e={}){let{chainId:i=0,gas:r,data:n,input:s,nonce:a,to:u,value:h,gasPrice:l}=t;T(t);let c=[a?o.oB(a):"0x",l?o.oB(l):"0x",r?o.oB(r):"0x",u??"0x",h?o.oB(h):"0x",n??s??"0x"],f=e.signature?{r:e.signature.r,s:e.signature.s,v:function(t){if(0===t)return 27;if(1===t)return 28;throw new w({value:t})}(e.signature.yParity)}:void 0!==t.r&&void 0!==t.s?{r:t.r,s:t.s,v:t.v}:void 0;if(f){let t=(()=>{if(f.v>=35)return Math.floor((f.v-35)/2)>0?f.v:27+ +(35!==f.v);if(i>0)return 2*i+35+f.v-27;let t=27+ +(27!==f.v);if(f.v!==t)throw new m({value:f.v});return t})();c=[...c,o.oB(t),0n===f.r?"0x":o.Mr(o.oB(f.r)),0n===f.s?"0x":o.Mr(o.oB(f.s))]}else i>0&&(c=[...c,o.oB(i),"0x","0x"]);return O(c)}(e,{signature:r});if("eip2930"===i)return _(e),function(t,e={}){let{chainId:i,gas:r,data:n,input:s,nonce:a,to:u,value:h,accessList:l,gasPrice:f}=t;_(t);let d=P(l),v=c(e.signature||t),y=[o.oB(i),a?o.oB(a):"0x",f?o.oB(f):"0x",r?o.oB(r):"0x",u??"0x",h?o.oB(h):"0x",n??s??"0x",d,...v?p(v):[]];return o.xW("0x01",O(y))}(e,{signature:r});if("eip7702"===i)return F(e),function(t,e={}){let{authorizationList:i,chainId:r,gas:n,nonce:s,to:a,value:u,maxFeePerGas:h,maxPriorityFeePerGas:l,accessList:f,data:d,input:v}=t;F(t);let y=P(f),g=function(t){if(!t||0===t.length)return[];let e=[];for(let i of t)e.push(function(t){let{address:e,chainId:i,nonce:r}=t,n=c(t);return[i?o.oB(i):"0x",e,r?o.oB(r):"0x",...n?p(n):[]]}(i));return e}(i),b=c(e.signature||t),w=[o.oB(r),s?o.oB(s):"0x",l?o.oB(l):"0x",h?o.oB(h):"0x",n?o.oB(n):"0x",a??"0x",u?o.oB(u):"0x",d??v??"0x",y,g,...b?p(b):[]];return o.xW("0x04",O(w))}(e,{signature:r});throw Error("Invalid transaction type")}({transaction:h});return(0,s.readContract)({contract:a,method:"function getL1Fee(bytes memory _data) view returns (uint256)",params:[l]})}}}]);