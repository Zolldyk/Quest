(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[223],{621:(e,t)=>{"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function i(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=i,t.getDocumentOrThrow=function(){return i("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return i("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return i("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return i("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return i("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},977:(e,t,r)=>{"use strict";r.d(t,{Sn:()=>s,T_:()=>x});var i=Object.defineProperty,n=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},s={};function o(e){return Uint8Array.from(e,e=>e.charCodeAt(0)).buffer}function a(e){return String.fromCharCode(...new Uint8Array(e))}function l(e){return null!==e.match(/^[a-zA-Z0-9\-_]+=*$/)}function c(e){return btoa(a(e)).replaceAll("+","-").replaceAll("/","_")}function u(e){return o(atob(e=e.replaceAll("-","+").replaceAll("_","/")))}async function d(e){return await crypto.subtle.digest("SHA-256",e)}function h(e){return[...new Uint8Array(e)].map(e=>e.toString(16).padStart(2,"0")).join("")}function f(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r}function p(){return!!window.PublicKeyCredential}async function g(){return await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}n(s,{authenticate:()=>v,isAutocompleteAvailable:()=>b,isAvailable:()=>p,isLocalAuthenticator:()=>g,register:()=>m}),n({},{bufferToHex:()=>h,concatenateBuffers:()=>f,isBase64url:()=>l,parseBase64url:()=>u,parseBuffer:()=>a,sha256:()=>d,toBase64url:()=>c,toBuffer:()=>o});var y=null;async function m(e){if(!e.challenge)throw Error('"challenge" required');if(!e.user)throw Error('"user" required');if(!l(e.challenge))throw Error("Provided challenge is not properly encoded in Base64url");let t="string"==typeof e.user?{name:e.user}:e.user;t.id||(t.id=crypto.randomUUID());let r={challenge:u(e.challenge),rp:{id:e.domain??window.location.hostname,name:e.domain??window.location.hostname},user:{id:o(t.id),name:t.name,displayName:t.displayName??t.name},hints:e.hints,pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],timeout:e.timeout,authenticatorSelection:{userVerification:e.userVerification,authenticatorAttachment:function(e){if(!(!e||0===e.length))return e.includes("client-device")?e.includes("security-key")||e.includes("hybrid")?void 0:"platform":"cross-platform"}(e.hints),residentKey:e.discoverable??"preferred",requireResidentKey:"required"===e.discoverable},attestation:"direct",...e.customProperties};console.debug(r),y?.abort("Cancel ongoing authentication"),y=new AbortController;let i=await navigator.credentials.create({publicKey:r,signal:y?.signal}),n=i.response;if(y=null,console.debug(i),"public-key"!=i.type)throw"Unexpected credential type!";let s=n.getPublicKey();if(!s)throw"Non-compliant browser or authenticator!";return{type:i.type,id:i.id,rawId:c(i.rawId),authenticatorAttachment:i.authenticatorAttachment,clientExtensionResults:i.getClientExtensionResults(),response:{attestationObject:c(n.attestationObject),authenticatorData:c(n.getAuthenticatorData()),clientDataJSON:c(n.clientDataJSON),publicKey:c(s),publicKeyAlgorithm:n.getPublicKeyAlgorithm(),transports:n.getTransports()},user:t}}async function b(){return PublicKeyCredential.isConditionalMediationAvailable&&PublicKeyCredential.isConditionalMediationAvailable()}async function v(e){if(!l(e.challenge))throw Error("Provided challenge is not properly encoded in Base64url");if(e.autocomplete&&!await b())throw Error("Passkeys autocomplete with conditional mediation is not available in this browser.");let t={challenge:u(e.challenge),rpId:e.domain??window.location.hostname,allowCredentials:e.allowCredentials?.map(w),hints:e.hints,userVerification:e.userVerification,timeout:e.timeout,...e.customProperties};console.debug(t),y?.abort("Cancel ongoing authentication"),y=new AbortController;let r=await navigator.credentials.get({publicKey:t,mediation:e.autocomplete?"conditional":void 0,signal:y?.signal});if("public-key"!=r.type)throw"Unexpected credential type!";y=null,console.debug(r);let i=r.response;return{clientExtensionResults:r.getClientExtensionResults(),id:r.id,rawId:c(r.rawId),type:r.type,authenticatorAttachment:r.authenticatorAttachment,response:{authenticatorData:c(i.authenticatorData),clientDataJSON:c(i.clientDataJSON),signature:c(i.signature),userHandle:i.userHandle?c(i.userHandle):void 0}}}function w(e){return"string"==typeof e?{id:u(e),type:"public-key"}:{id:u(e.id),type:"public-key",transports:e.transports}}n({},{parseCryptoKey:()=>M,randomChallenge:()=>N,verifyAuthentication:()=>L,verifyRegistration:()=>k,verifySignature:()=>U});var x={};n(x,{getAlgoName:()=>A,parseAuthentication:()=>R,parseAuthenticator:()=>C,parseClient:()=>I,parseRegistration:()=>D,toAuthenticationInfo:()=>_,toRegistrationInfo:()=>O});var E={"00000000-0000-0000-0000-000000000000":"Unknown authenticator","0076631b-d4a0-427f-5773-0ec71c9e0279":"HYPR FIDO2 Authenticator","01020304-0506-0708-0102-030405060708":"Chromium Virtual Authenticator (browser dev tools)","050dd0bc-ff20-4265-8d5d-305c4b215192":"eToken Fusion FIPS","07a9f89c-6407-4594-9d56-621d5f1e358b":"NXP Semiconductros FIDO2 Conformance Testing CTAP2 Authenticator","08987058-cadc-4b81-b6e1-30de50dcbe96":"Windows Hello","092277e5-8437-46b5-b911-ea64b294acb7":"Taglio CTAP2.1 CS","09591fc6-9811-48f7-8f57-b9f23df6413f":"Pone Biometrics OFFPAD Authenticator","0acf3011-bc60-f375-fb53-6f05f43154e0":"Nymi FIDO2 Authenticator","0bb43545-fd2c-4185-87dd-feb0b2916ace":"Security Key NFC by Yubico - Enterprise Edition","0d9b2e56-566b-c393-2940-f821b7f15d6d":"Excelsecu eSecu FIDO2 Pro Security Key","0db01cd6-5618-455b-bb46-1ec203d3213e":"GoldKey Security Token","0ea242b4-43c4-4a1b-8b17-dd6d0b6baec6":"Keeper","10c70715-2a9a-4de1-b0aa-3cff6d496d39":"eToken Fusion NFC FIPS","1105e4ed-af1d-02ff-ffff-ffffffffffff":"Egomet FIDO2 Authenticator for Android","12755c32-8ad1-46eb-881c-e0b38d848b09":"Feitian ePass FIDO Authenticator (CTAP2.1, CTAP2.0, U2F)","12ded745-4bed-47d4-abaa-e713f51d6393":"Feitian AllinOne FIDO2 Authenticator","146e77ef-11eb-4423-b847-ce77864e9411":"eToken Fusion NFC PIV","149a2021-8ef6-4133-96b8-81f8d5b7f1f5":"Security Key by Yubico with NFC","17290f1e-c212-34d0-1423-365d729f09d9":"Thales PIN iOS SDK","175cd298-83d2-4a26-b637-313c07a6434e":"Chunghwa Telecom FIDO2 Smart Card Authenticator","19083c3d-8383-4b18-bc03-8f1c9ab2fd1b":"YubiKey 5 Series","1ac71f64-468d-4fe0-bef1-0e5f2f551f18":"YubiKey 5 Series with NFC (Enterprise Profile)","1c086528-58d5-f211-823c-356786e36140":"Atos CardOS FIDO2","1d1b4e33-76a1-47fb-97a0-14b10d0933f1":"Cryptnox FIDO2.1","1d8cac46-47a1-3386-af50-e88ae46fe802":"Ledger Flex FIDO2 Authenticator","1e906e14-77af-46bc-ae9f-fe6ef18257e4":"VeridiumID Passkey iOS SDK","20ac7a17-c814-4833-93fe-539f0d5e3389":"YubiKey 5 Series (Enterprise Profile)","20f0be98-9af9-986a-4b42-8eca4acb28e4":"Excelsecu eSecu FIDO2 Fingerprint Security Key","2194b428-9397-4046-8f39-007a1605a482":"IDPrime 931 Fido","22248c4c-7a12-46e2-9a41-44291b373a4d":"LogMeOnce","234cd403-35a2-4cc2-8015-77ea280c77f5":"Feitian ePass FIDO2-NFC Series (CTAP2.1, CTAP2.0, U2F)","23786452-f02d-4344-87ed-aaf703726881":"SafeNet eToken Fusion CC","24673149-6c86-42e7-98d9-433fb5b73296":"YubiKey 5 Series with Lightning","260e3021-482d-442d-838c-7edfbe153b7e":"Feitian ePass FIDO2-NFC Plus Authenticator","2772ce93-eb4b-4090-8b73-330f48477d73":"Security Key NFC by Yubico - Enterprise Edition Preview","2a55aee6-27cb-42c0-bc6e-04efe999e88a":"HID Crescendo 4000","2bff89f2-323a-48fc-b7c8-9ff7fe87c07e":"Feitian BioPass FIDO2 Pro (Enterprise Profile)","2c0df832-92de-4be1-8412-88a8f074df4a":"Feitian FIDO Smart Card","2c2aeed8-8174-4159-814b-486e92a261d0":"NEOWAVE WINKEO V2.0","2cd2f727-f6ca-44da-8f48-5c2e5da000a2":"Nitrokey 3 AM","2d3bec26-15ee-4f5d-88b2-53622490270b":"HID Crescendo Key V2","2fc0579f-8113-47ea-b116-bb5a8db9202a":"YubiKey 5 Series with NFC","2ffd6452-01da-471f-821b-ea4bf6c8676a":"IDPrime 941 Fido","30b5035e-d297-4fc1-b00b-addc96ba6a97":"OneSpan FIDO Touch","30b5035e-d297-4ff1-010b-addc96ba6a98":"OneSpan DIGIPASS FX1a","30b5035e-d297-4ff1-b00b-addc96ba6a98":"OneSpan DIGIPASS FX1 BIO","30b5035e-d297-4ff7-b00b-addc96ba6a98":"OneSpan DIGIPASS FX7","3124e301-f14e-4e38-876d-fbeeb090e7bf":"YubiKey 5 Series with Lightning Preview","31c3f7ff-bf15-4327-83ec-9336abcbcd34":"WinMagic FIDO Eazy - Software","341e4da9-3c2e-8103-5a9f-aad887135200":"Ledger Nano S FIDO2 Authenticator","34744913-4f57-4e6e-a527-e9ec3c4b94e6":"YubiKey Bio Series - Multi-protocol Edition","34f5766d-1536-4a24-9033-0e294e510fb0":"YubiKey 5 Series with NFC Preview","361a3082-0278-4583-a16f-72a527f973e4":"eWBM eFA500 FIDO2 Authenticator","3789da91-f943-46bc-95c3-50ea2012f03a":"NEOWAVE Winkeo FIDO2","39589099-9a75-49fc-afaa-801ca211c62a":"Feitian ePass FIDO-NFC (Enterprise Profile) (CTAP2.1, CTAP2.0, U2F)","39a5647e-1853-446c-a1f6-a79bae9f5bc7":"IDmelon","3a662962-c6d4-4023-bebb-98ae92e78e20":"YubiKey 5 FIPS Series with Lightning (Enterprise Profile)","3b1adb99-0dfe-46fd-90b8-7f7614a4de2a":"GoTrust Idem Key FIDO2 Authenticator","3b24bf49-1d45-4484-a917-13175df0867b":"YubiKey 5 Series with Lightning (Enterprise Profile)","3e078ffd-4c54-4586-8baa-a77da113aec5":"Hideez Key 3 FIDO2","3e22415d-7fdf-4ea4-8a0c-dd60c4249b9d":"Feitian iePass FIDO Authenticator","3f59672f-20aa-4afe-b6f4-7e5e916b6d98":"Arculus FIDO 2.1 Key Card [P71]","3fd410dc-8ab7-4b86-a1cb-c7174620b2dc":"IDEMIA SOLVO Fly 80 R1 FIDO Card Draft","42b4fb4a-2866-43b2-9bf7-6c6669c2e5d3":"Google Titan Security Key v2","42df17de-06ba-4177-a2bb-6701be1380d6":"Feitian BioPass FIDO2 Plus Authenticator","454e5346-4944-4ffd-6c93-8e9267193e9a":"Ensurity ThinC","454e5346-4944-4ffd-6c93-8e9267193e9b":"Ensurity AUTH BioPro","4599062e-6926-4fe7-9566-9e8fb1aedaa0":"YubiKey 5 Series (Enterprise Profile)","46544d5d-8f5d-4db4-89ac-ea8977073fff":"Foongtone FIDO Authenticator","47ab2fb4-66ac-4184-9ae1-86be814012d5":"Security Key NFC by Yubico - Enterprise Edition","4b3f8944-d4f2-4d21-bb19-764a986ec160":"KeyXentic FIDO2 Secp256R1 FIDO2 CTAP2 Authenticator","4b89f401-464e-4745-a520-486ddfc5d80e":"IIST FIDO2 Authenticator","4c0cf95d-2f40-43b5-ba42-4c83a11c04ba":"Feitian BioPass FIDO2 Pro Authenticator","4c50ff10-1057-4fc6-b8ed-43a529530c3c":"ImproveID Authenticator","4d41190c-7beb-4a84-8018-adf265a6352d":"Thales IDPrime FIDO Bio","4e768f2c-5fab-48b3-b300-220eb487752b":"Hideez Key 4 FIDO2 SDK","504d7149-4e4c-3841-4555-55445a677357":"WiSECURE AuthTron USB FIDO2 Authenticator","50726f74-6f6e-5061-7373-50726f746f6e":"Proton Pass","50a45b0c-80e7-f944-bf29-f552bfa2e048":"ACS FIDO Authenticator","516d3969-5a57-5651-5958-4e7a49434167":"SmartDisplayer BobeePass FIDO2 Authenticator","531126d6-e717-415c-9320-3d9aa6981239":"Dashlane","53414d53-554e-4700-0000-000000000000":"Samsung Pass","5343502d-5343-5343-6172-644649444f32":"ESS Smart Card Inc. Authenticator","54d9fee8-e621-4291-8b18-7157b99c5bec":"HID Crescendo Enabled","5626bed4-e756-430b-a7ff-ca78c8b12738":"VALMIDO PRO FIDO","57235694-51a5-4a4d-a81a-f42185df6502":"SHALO AUTH","5753362b-4e6b-6345-7b2f-255438404c75":"WiSECURE Blentity FIDO2 Authenticator","57f7de54-c807-4eab-b1c6-1c9be7984e92":"YubiKey 5 FIPS Series","58276709-bb4b-4bb3-baf1-60eea99282a7":"YubiKey Bio Series - Multi-protocol Edition 1VDJSN","58b44d0b-0a7c-f33a-fd48-f7153c871352":"Ledger Nano S Plus FIDO2 Authenticator","59f85fe7-faa5-4c92-9f52-697b9d4d5473":"RSA Authenticator 4 for Android","5b0e46ba-db02-44ac-b979-ca9b84f5e335":"YubiKey 5 FIPS Series with Lightning Preview","5ca1ab1e-1337-fa57-f1d0-a117e71ca702":"Allthenticator iOS App: roaming BLE FIDO2 Allthenticator for Windows, Mac, Linux, and Allthenticate door readers","5ca1ab1e-fa57-1337-f1d0-a117371ca702":"Allthenticator Android App: roaming BLE FIDO2 Allthenticator for Windows, Mac, Linux, and Allthenticate door readers","5d629218-d3a5-11ed-afa1-0242ac120002":"Swissbit iShield Key Pro","5e264d9d-28ef-4d34-95b4-5941e7a4faa8":"Ideem ZSM FIDO2 Authenticator","5ea308b2-7ac7-48b9-ac09-7e2da9015f8c":"Veridium Android SDK","5eaff75a-dd43-451f-af9f-87c9eeae293e":"Swissbit iShield Key 2 FIPS Enterprise","5fdb81b8-53f0-4967-a881-f5ec26fe4d18":"VinCSS FIDO2 Authenticator","6002f033-3c07-ce3e-d0f7-0ffe5ed42543":"Excelsecu eSecu FIDO2 Fingerprint Key","6028b017-b1d4-4c02-b4b3-afcdafc96bb2":"Windows Hello","61250591-b2bc-4456-b719-0b17be90bb30":"eWBM eFPA FIDO2 Authenticator","62e54e98-c209-4df3-b692-de71bb6a8528":"YubiKey 5 FIPS Series with NFC Preview","662ef48a-95e2-4aaa-a6c1-5b9c40375824":"YubiKey 5 Series with NFC - Enhanced PIN","664d9f67-84a2-412a-9ff7-b4f7d8ee6d05":"OpenSK authenticator","66a0ccb3-bd6a-191f-ee06-e375c50b9846":"Thales Bio iOS SDK","692db549-7ae5-44d5-a1e5-dd20a493b723":"HID Crescendo Key","69700f79-d1fb-472e-bd9b-a3a3b9a9eda0":"Pone Biometrics OFFPAD Authenticator","69e7c36f-f2f6-9e0d-07a6-bcc243262e6b":"OneKey FIDO2 Authenticator","6ab56fad-881f-4a43-acb2-0be065924522":"YubiKey 5 Series with NFC (Enterprise Profile)","6d44ba9b-f6ec-2e49-b930-0c8fe920cb73":"Security Key by Yubico with NFC","6dae43be-af9c-417b-8b9f-1b611168ec60":"Dapple Authenticator from Dapple Security Inc.","6e24d385-004a-16a0-7bfe-efd963845b34":"Ledger Stax FIDO2 Authenticator","6e8d1eae-8d40-4c25-bcf8-4633959afc71":"Veridium iOS SDK","6ec5cff2-a0f9-4169-945b-f33b563f7b99":"YubiKey Bio Series - Multi-protocol Edition (Enterprise Profile)","70e7c36f-f2f6-9e0d-07a6-bcc243262e6b":"OneKey FIDO2 Bluetooth Authenticator","72c6b72d-8512-4c66-8359-9d3d10d9222f":"Security Key NFC by Yubico - Enterprise Edition (Enterprise Profile)","73402251-f2a8-4f03-873e-3cb6db604b03":"uTrust FIDO2 Security Key","73bb0cd4-e502-49b8-9c6f-b59445bf720b":"YubiKey 5 FIPS Series","7409272d-1ff9-4e10-9fc9-ac0019c124fd":"YubiKey Bio Series - FIDO Edition","74820b05-a6c9-40f9-8fb0-9f86aca93998":"SafeNet eToken Fusion","760eda36-00aa-4d29-855b-4012a182cdeb":"Security Key NFC by Yubico Preview","77010bd7-212a-4fc9-b236-d2ca5e9d4084":"Feitian BioPass FIDO2 Authenticator","771b48fd-d3d4-4f74-9232-fc157ab0507a":"Edge on Mac","773c30d9-5919-4e96-a4f5-db65e95cf890":"GSTAG OAK FIDO2 Authenticator","7787a482-13e8-4784-8a06-c7ed49a7aaf4":"Swissbit iShield Key 2","78ba3993-d784-4f44-8d6e-cc0a8ad5230e":"Feitian ePass FIDO-NFC(CTAP2.1, CTAP2.0, U2F)","7991798a-a7f3-487f-98c0-3faf7a458a04":"HID Crescendo Key V3","79f3c8ba-9e35-484b-8f47-53a5a0f5c630":"YubiKey 5 FIPS Series with NFC (Enterprise Profile)","7b96457d-e3cd-432b-9ceb-c9fdd7ef7432":"YubiKey 5 FIPS Series with Lightning","7d1351a6-e097-4852-b8bf-c9ac5c9ce4a3":"YubiKey Bio Series - Multi-protocol Edition","7d2afadd-bf6b-44a2-a66b-e831fceb8eff":"Taglio CTAP2.1 EP","7e3f3d30-3557-4442-bdae-139312178b39":"RSA DS100","817cdab8-0d51-4de1-a821-e25b88519cf3":"Swissbit iShield Key 2 FIPS","820d89ed-d65a-409e-85cb-f73f0578f82a":"IDmelon iOS Authenticator","82b0a720-127a-4788-b56d-d1d4b2d82eac":"ID-One Key","833b721a-ff5f-4d00-bb2e-bdda3ec01e29":"Feitian ePass FIDO2 Authenticator","83c47309-aabb-4108-8470-8be838b573cb":"YubiKey Bio Series - FIDO Edition (Enterprise Profile)","85203421-48f9-4355-9bc8-8a53846e5083":"YubiKey 5 FIPS Series with Lightning","8681a073-5f50-4d52-bce4-e21658d207b3":"RSA Authenticator 4 for iOS","87dbc5a1-4c94-4dc8-8a47-97d800fd1f3c":"eWBM eFA320 FIDO2 Authenticator","882adaf5-3aa9-4708-8e7d-3957103775b4":"T-Shield TrustSec FIDO2 Bio and client PIN version","8836336a-f590-0921-301d-46427531eee6":"Thales Bio Android SDK","8876631b-d4a0-427f-5773-0ec71c9e0279":"Solo Secp256R1 FIDO2 CTAP2 Authenticator","88bbd2f0-342a-42e7-9729-dd158be5407a":"Precision InnaIT Key FIDO 2 Level 2 certified","891494da-2c90-4d31-a9cd-4eab0aed1309":"S\xe9same","8976631b-d4a0-427f-5773-0ec71c9e0279":"Solo Tap Secp256R1 FIDO2 CTAP2 Authenticator","89b19028-256b-4025-8872-255358d950e4":"Sentry Enterprises CTAP2 Authenticator","8c39ee86-7f9a-4a95-9ba3-f6b097e5c2ee":"YubiKey Bio Series - FIDO Edition (Enterprise Profile)","8c97a730-3f7b-41a6-87d6-1e9b62bda6f0":"FT-JCOS FIDO Fingerprint Card","8d1b1fcb-3c76-49a9-9129-5515b346aa02":"IDEMIA ID-ONE Card","8d4378b0-725d-4432-b3c2-01fcdaf46286":"VeridiumID Passkey Android SDK","8da0e4dc-164b-454e-972e-88f362b23d59":"CardOS FIDO2 Token","905b4cb4-ed6f-4da9-92fc-45e0d4e9b5c7":"YubiKey 5 FIPS Series (Enterprise Profile)","90636e1f-ef82-43bf-bdcf-5255f139d12f":"YubiKey Bio Series - Multi-protocol Edition","912435d9-4a88-42f3-972d-1244b0d51420":"SI0X FIDO CL WRIST v1.0","91ad6b93-264b-4987-8737-3a690cad6917":"Token Ring FIDO2 Authenticator","931327dd-c89b-406c-a81e-ed7058ef36c6":"Swissbit iShield Key FIDO2","95442b2e-f15e-4def-b270-efb106facb4e":"eWBM eFA310 FIDO2 Authenticator","95e4d58c-056e-4a65-866d-f5a69659e880":"TruU Windows Authenticator","970c8d9c-19d2-46af-aa32-3f448db49e35":"WinMagic FIDO Eazy - TPM","973446ca-e21c-9a9b-99f5-9b985a67af0f":"ACS FIDO Authenticator Card","97e6a830-c952-4740-95fc-7c78dc97ce47":"YubiKey Bio Series - Multi-protocol Edition (Enterprise Profile)","9876631b-d4a0-427f-5773-0ec71c9e0279":"Somu Secp256R1 FIDO2 CTAP2 Authenticator","998f358b-2dd2-4cbe-a43a-e8107438dfb3":"OnlyKey Secp256R1 FIDO2 CTAP2 Authenticator","99bf4610-ec26-4252-b31f-7380ccd59db5":"ZTPass SmartAuth","99ed6c29-4573-4847-816d-78ad8f1c75ef":"VeroCard FIDO2 Authenticator","9c835346-796b-4c27-8898-d6032f515cc5":"Cryptnox FIDO2","9d3df6ba-282f-11ed-a261-0242ac120002":"Arculus FIDO2/U2F Key Card","9ddd1817-af5a-4672-a2b9-3e3dd95000a9":"Windows Hello","9e66c661-e428-452a-a8fb-51f7ed088acf":"YubiKey 5 FIPS Series with Lightning (RC Preview)","9eb7eabc-9db5-49a1-b6c3-555a802093f4":"YubiKey 5 Series with NFC KVZR57","9f0d8150-baa5-4c00-9299-ad62c8bb4e87":"GoTrust Idem Card FIDO2 Authenticator","9f77e279-a6e2-4d58-b700-31e5943c6a98":"Hyper FIDO Pro","9ff4cc65-6154-4fff-ba09-9e2af7882ad2":"Security Key NFC by Yubico - Enterprise Edition (Enterprise Profile)","a02140b7-0cbd-42e1-a9b5-a39da2545114":"Feitian BioPass FIDO2 Plus (Enterprise Profile)","a02167b9-ae71-4ac7-9a07-06432ebb6f1c":"YubiKey 5 Series with Lightning","a10c6dd9-465e-4226-8198-c7c44b91c555":"Kaspersky Password Manager","a1f52be5-dfab-4364-b51c-2bd496b14a56":"OCTATCO EzFinger2 FIDO2 AUTHENTICATOR","a25342c0-3cdc-4414-8e46-f4807fca511c":"YubiKey 5 Series with NFC","a3975549-b191-fd67-b8fb-017e2917fdb3":"Excelsecu eSecu FIDO2 NFC Security Key","a4e9fc6d-4cbe-4758-b8ba-37598bb5bbaa":"Security Key NFC by Yubico","a7fc3f84-86a3-4da4-a3d7-eb6485a066d8":"NEOWAVE Badgeo FIDO2 (CTAP 2.1)","ab32f0c6-2239-afbb-c470-d2ef4e254db6":"TEST (DUMMY RECORD)","ab32f0c6-2239-afbb-c470-d2ef4e254db7":"TOKEN2 FIDO2 Security Key","ad08c78a-4e41-49b9-86a2-ac15b06899e2":"YubiKey Bio Series - FIDO Edition (Enterprise Profile)","adce0002-35bc-c60a-648b-0b25f1f05503":"Chrome on Mac","aeb6569c-f8fb-4950-ac60-24ca2bbe2e52":"HID Crescendo C2300","b12eac35-586c-4809-a4b1-d81af6c305cf":"Deepnet SafeKey/Classic (NFC)","b267239b-954f-4041-a01b-ee4f33c145b6":"authenton1 - CTAP2.1","b2c1a50b-dad8-4dc7-ba4d-0ce9597904bc":"YubiKey 5 Series with NFC - Enhanced PIN (Enterprise Profile)","b35a26b2-8f6e-4697-ab1d-d44db4da28c6":"Zoho Vault","b415094c-49d3-4c8b-b3fe-7d0ad28a6bc4":"ZTPass SmartAuth","b50d5e0a-7f81-4959-9b12-f45407407503":"IDPrime 3940 FIDO","b5397666-4885-aa6b-cebf-e52262a439a2":"Chromium Browser","b6ede29c-3772-412c-8a78-539c1f4c62d2":"Feitian BioPass FIDO2 Plus Authenticator","b78a0a55-6ef8-d246-a042-ba0f6d55050c":"LastPass","b7d3f68e-88a6-471e-9ecf-2df26d041ede":"Security Key NFC by Yubico","b84e4048-15dc-4dd0-8640-f4f60813c8af":"NordPass","b90e7dc1-316e-4fee-a25a-56a666a670fe":"YubiKey 5 Series with Lightning (Enterprise Profile)","b92c3f9a-c014-4056-887f-140a2501163b":"Security Key by Yubico","b93fd961-f2e6-462f-b122-82002247de78":"Android Authenticator","b9f6b7b6-f929-4189-bca9-dd951240c132":"Deepnet SafeKey/Classic (USB)","ba76a271-6eb6-4171-874d-b6428dbe3437":"ATKey.ProS","ba86dc56-635f-4141-aef6-00227b1b9af6":"TruU Windows Authenticator","bada5566-a7aa-401f-bd96-45619a55120d":"1Password","bb405265-40cf-4115-93e5-a332c1968d8c":"ID-One Card","bbf4b6a7-679d-f6fc-c4f2-8ac0ddf9015a":"Excelsecu eSecu FIDO2 PRO Security Key","bc2fe499-0d8e-4ffe-96f3-94a82840cf8c":"OCTATCO EzQuant FIDO2 AUTHENTICATOR","be727034-574a-f799-5c76-0929e0430973":"Crayonic KeyVault K1 (USB-NFC-BLE FIDO2 Authenticator)","bfc748bb-3429-4faa-b9f9-7cfa9f3b76d0":"iPasswords","c1f9a0bc-1dd2-404a-b27f-8e29047a43fd":"YubiKey 5 FIPS Series with NFC","c3f47802-de73-4dfc-ba22-671fe3304f90":"eToken Fusion NFC PIV Enterprise","c4ddaf11-3032-4e77-b3b9-3a340369b9ad":"HID Crescendo Fusion","c5703116-972b-4851-a3e7-ae1259843399":"NEOWAVE Badgeo FIDO2","c5ef55ff-ad9a-4b9f-b580-adebafe026d0":"YubiKey 5 Series with Lightning","c62100de-759b-4bf8-b22b-63b3e3a80401":"Token Ring 3 FIDO2 Authenticator","c80dbd9a-533f-4a17-b941-1a2f1c7cedff":"HID Crescendo C3000","c89674e3-a765-4b07-888a-7c086fbdf04b":"StarSign FIDO Card","c89e6a38-6c00-5426-5aa5-c9cbf48f0382":"ACS FIDO Authenticator NFC","ca4cff1b-5a81-4404-8194-59aabcf1660b":"IDPrime 3930 FIDO","ca87cb70-4c1b-4579-a8e8-4efdd7c007e0":"FIDO Alliance TruU Sample FIDO2 Authenticator","cb69481e-8ff7-4039-93ec-0a2729a154a8":"YubiKey 5 Series","cc45f64e-52a2-451b-831a-4edd8022a202":"ToothPic Passkey Provider","cd69adb5-3c7a-deb9-3177-6800ea6cb72a":"Thales PIN Android SDK","cdbdaea2-c415-5073-50f7-c04e968640b6":"Excelsecu eSecu FIDO2 Security Key","ce6bf97f-9f69-4ba7-9032-97adc6ca5cf1":"YubiKey 5 FIPS Series with NFC (RC Preview)","cfcb13a2-244f-4b36-9077-82b79d6a7de7":"USB/NFC Passcode Authenticator","d2fbd093-ee62-488d-9dad-1e36389f8826":"YubiKey 5 FIPS Series (RC Preview)","d350af52-0351-4ba2-acd3-dfeeadc3f764":"pwSafe","d384db22-4d50-ebde-2eac-5765cf1e2a44":"Excelsecu eSecu FIDO2 Fingerprint Security Key","d41f5a69-b817-4144-a13c-9ebd6d9254d6":"ATKey.Card CTAP2.0","d548826e-79b4-db40-a3d8-11116f7e8349":"Bitwarden","d61d3b87-3e7c-4aea-9c50-441c371903ad":"KeyVault Secp256R1 FIDO2 CTAP2 Authenticator","d7781e5d-e353-46aa-afe2-3ca49f13332a":"YubiKey 5 Series with NFC","d7a423ad-3e19-4492-9200-78137dccc136":"VivoKey Apex FIDO2","d821a7d4-e97c-4cb6-bd82-4237731fd4be":"Hyper FIDO Bio Security Key","d8522d9f-575b-4866-88a9-ba99fa02f35b":"YubiKey Bio Series - FIDO Edition","d91c5288-0ef0-49b7-b8ae-21ca0aa6b3f3":"KEY-ID FIDO2 Authenticator","d94a29d9-52dd-4247-9c2d-8b818b610389":"VeriMark Guard Fingerprint Key","da1fa263-8b25-42b6-a820-c0036f21ba7f":"ATKey.Card NFC","dd4ec289-e01d-41c9-bb89-70fa845d4bf2":"iCloud Keychain (Managed)","dd86a2da-86a0-4cbe-b462-4bd31f57bc6f":"YubiKey Bio Series - FIDO Edition","de503f9c-21a4-4f76-b4b7-558eb55c6f89":"Devolutions","e1a96183-5016-4f24-b55b-e3ae23614cc6":"ATKey.Pro CTAP2.0","e400ef8c-711d-4692-af46-7f2cf7da23ad":"Swissbit iShield Key 2 Enterprise","e416201b-afeb-41ca-a03d-2281c28322aa":"ATKey.Pro CTAP2.1","e41b42a3-60ac-4afb-8757-a98f2d7f6c9f":"Deepnet SafeKey/Classic (FP)","e77e3c64-05e3-428b-8824-0cbeb04b829d":"Security Key NFC by Yubico","e86addcd-7711-47e5-b42a-c18257b0bf61":"IDCore 3121 Fido","ea9b8d66-4d01-1d21-3ce4-b6b48cb575d4":"Google Password Manager","eabb46cc-e241-80bf-ae9e-96fa6d2975cf":"TOKEN2 PIN Plus Security Key Series ","eb3b131e-59dc-536a-d176-cb7306da10f5":"ellipticSecure MIRkey USB Authenticator","ec31b4cc-2acc-4b8e-9c01-bade00ccbe26":"KeyXentic FIDO2 Secp256R1 FIDO2 CTAP2 Authenticator","ed042a3a-4b22-4455-bb69-a267b652ae7e":"Security Key NFC by Yubico - Enterprise Edition","ee041bce-25e5-4cdb-8f86-897fd6418464":"Feitian ePass FIDO2-NFC Authenticator","ee882879-721c-4913-9775-3dfcce97072a":"YubiKey 5 Series","efb96b10-a9ee-4b6c-a4a9-d32125ccd4a4":"Safenet eToken FIDO","f2145e86-211e-4931-b874-e22bba7d01cc":"ID-One Key","f3809540-7f14-49c1-a8b3-8f813b225541":"Enpass","f4c63eff-d26c-4248-801c-3736c7eaa93a":"FIDO KeyPass S3","f56f58b3-d711-4afc-ba7d-6ac05f88cb19":"WinMagic FIDO Eazy - Phone","f7c558a0-f465-11e8-b568-0800200c9a66":"KONAI Secp256R1 FIDO2 Conformance Testing CTAP2 Authenticator","f8a011f3-8c0a-4d15-8006-17111f9edc7d":"Security Key by Yubico","f8d5c4e9-e539-4c06-8662-ec2a4155a555":"StarSign Key Fob","fa2b99dc-9e39-4257-8f92-4a30d23c4118":"YubiKey 5 Series with NFC","fbefdf68-fe86-0106-213e-4d5fa24cbe2e":"Excelsecu eSecu FIDO2 NFC Security Key","fbfc3007-154e-4ecc-8c0b-6e020557d7bd":"iCloud Keychain","fcb1bcb4-f370-078c-6993-bc24d0ae3fbe":"Ledger Nano X FIDO2 Authenticator","fcc0118f-cd45-435b-8da1-9782b2da0715":"YubiKey 5 FIPS Series with NFC","fdb141b2-5d84-443e-8a35-4698c205a502":"KeePassXC","fec067a1-f1d0-4c5e-b4c0-cc3237475461":"KX701 SmartToken FIDO","ff4dac45-ede8-4ec2-aced-cf66103f4335":"YubiKey 5 Series"},S=new TextDecoder("utf-8");function I(e){return"string"==typeof e&&(e=u(e)),JSON.parse(S.decode(e))}function C(e){"string"==typeof e&&(e=u(e));let t=new DataView(e.slice(32,33)).getUint8(0);return{rpIdHash:c(e.slice(0,32)),flags:{userPresent:!!(1&t),userVerified:!!(4&t),backupEligibility:!!(8&t),backupState:!!(16&t),attestedData:!!(64&t),extensionsIncluded:!!(128&t)},signCount:new DataView(e.slice(33,37)).getUint32(0,!1),aaguid:function(e){if(e.byteLength<53)return"00000000-0000-0000-0000-000000000000";let t=h(e.slice(37,53));return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16,20)}-${t.substring(20,32)}`}(e)}}function A(e){switch(e){case -7:return"ES256";case -8:return"EdDSA";case -257:return"RS256";default:throw Error(`Unknown algorithm code: ${e}`)}}function D(e){let t=C(e.response.authenticatorData);return O(e,t)}function O(e,t){let r=t.aaguid;return{authenticator:{aaguid:r,counter:t.signCount,icon_light:"https://webauthn.passwordless.id/authenticators/"+r+"-light.png",icon_dark:"https://webauthn.passwordless.id/authenticators/"+r+"-dark.png",name:E[r]??"Unknown"},credential:{id:e.id,publicKey:e.response.publicKey,algorithm:A(e.response.publicKeyAlgorithm),transports:e.response.transports},synced:t.flags.backupEligibility,user:e.user,userVerified:t.flags.userVerified}}function _(e,t){return{credentialId:e.id,userId:e.response.userHandle,counter:t.signCount,userVerified:t.flags.userVerified,authenticatorAttachment:e.authenticatorAttachment}}function R(e){let t=C(e.response.authenticatorData);return _(e,t)}function N(){return c(crypto.getRandomValues(new Uint8Array(18)))}async function P(e,t){if("function"==typeof e){let r=e(t);return r instanceof Promise?await r:r}return e===t}async function j(e,t){return!await P(e,t)}async function k(e,t){let r=I(e.response.clientDataJSON),i=C(e.response.authenticatorData);if(!i.aaguid)throw Error("Unexpected error, no AAGUID.");if("webauthn.create"!==r.type)throw Error(`Unexpected ClientData type: ${r.type}`);if(await j(t.origin,r.origin))throw Error(`Unexpected ClientData origin: ${r.origin}`);if(await j(t.challenge,r.challenge))throw Error(`Unexpected ClientData challenge: ${r.challenge}`);return x.toRegistrationInfo(e,i)}async function L(e,t,r){if(e.id!==t.id)throw Error(`Credential ID mismatch: ${e.id} vs ${t.id}`);if(!await U({algorithm:t.algorithm,publicKey:t.publicKey,authenticatorData:e.response.authenticatorData,clientData:e.response.clientDataJSON,signature:e.response.signature,verbose:r.verbose}))throw Error(`Invalid signature: ${e.response.signature}`);let i=I(e.response.clientDataJSON),n=C(e.response.authenticatorData);if(r.verbose&&(console.debug(i),console.debug(n)),"webauthn.get"!==i.type)throw Error(`Unexpected clientData type: ${i.type}`);if(await j(r.origin,i.origin))throw Error(`Unexpected ClientData origin: ${i.origin}`);if(await j(r.challenge,i.challenge))throw Error(`Unexpected ClientData challenge: ${i.challenge}`);let s=r.domain??new URL(i.origin).hostname,a=c(await d(o(s)));if(n.rpIdHash!==a)throw Error(`Unexpected RpIdHash: ${n.rpIdHash} vs ${a}`);if(!n.flags.userPresent)throw Error("Unexpected authenticator flags: missing userPresent");if(!n.flags.userVerified&&r.userVerified)throw Error("Unexpected authenticator flags: missing userVerified");if(r.counter&&n.signCount<=r.counter)throw Error(`Unexpected authenticator counter: ${n.signCount} (should be > ${r.counter})`);return _(e,n)}function B(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:"SHA-256"};default:throw Error(`Unknown or unsupported crypto algorithm: ${e}. Only 'RS256' and 'ES256' are supported.`)}}async function M(e,t){let r=B(e),i=u(t);return crypto.subtle.importKey("spki",i,r,!1,["verify"])}async function U({algorithm:e,publicKey:t,authenticatorData:r,clientData:i,signature:n,verbose:s}){let o,a,l,h,p=await M(e,t);s&&console.debug(p);let g=await d(u(i)),y=f(u(r),g);s&&(console.debug("Algorithm: "+e),console.debug("Public key: "+t),console.debug("Data: "+c(y)),console.debug("Signature: "+n));let m=u(n);"ES256"==e&&(l=(a=0===(o=new Uint8Array(m))[4]?5:4)+32,h=0===o[l+2]?l+3:l+2,m=new Uint8Array([...o.slice(a,l),...o.slice(h)]));let b=B(e);return await crypto.subtle.verify(b,p,m,y)}},2671:(e,t,r)=>{"use strict";let i;function n(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function s(e,t){let r;return(i,s)=>(()=>{if(r)return r;let i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),(r=n(i)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r})().then(e=>s(e.transaction(t,i).objectStore(t)))}function o(){return i||(i=s("keyval-store","keyval")),i}function a(e,t=o()){return t("readonly",t=>n(t.get(e)))}function l(e,t,r=o()){return r("readwrite",r=>(r.put(t,e),n(r.transaction)))}function c(e,t=o()){return t("readwrite",t=>(t.delete(e),n(t.transaction)))}function u(e=o()){return e("readwrite",e=>(e.clear(),n(e.transaction)))}function d(e=o()){return e("readonly",e=>{var t;if(e.getAllKeys)return n(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},n(e.transaction)).then(()=>r)})}r.d(t,{HP:()=>d,IU:()=>u,Jt:()=>a,hZ:()=>l,y$:()=>s,yH:()=>c})},3531:(e,t,r)=>{"use strict";r.d(t,{X:()=>a,k:()=>l});var i=r(13330),n=r(22447),s=r(91302),o=r(61190),a=class extends o.k{#e;#t;#r;#i;#n;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#r=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,i=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#r.remove(this)}setData(e,t){let r=(0,i.pl)(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(i.lQ).catch(i.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>!1!==(0,i.Eh)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===i.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,i.d2)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,i.j3)(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{let e=(0,i.ZM)(this.options,t),r=(()=>{let e={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(e),e})();return(this.#o=!1,this.options.persister)?this.options.persister(e,r,this):e(r)},a=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:o};return n(e),e})();this.options.behavior?.onFetch(a,this),this.#t=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta});let l=e=>{(0,s.wm)(e)&&e.silent||this.#a({type:"error",error:e}),(0,s.wm)(e)||(this.#r.config.onError?.(e,this),this.#r.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#n=(0,s.II)({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0===e)return void l(Error(`${this.queryHash} data is undefined`));try{this.setData(e)}catch(e){l(e);return}this.#r.config.onSuccess?.(e,this),this.#r.config.onSettled?.(e,this.state.error,this),this.scheduleGc()},onError:l,onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#a(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...l(t.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if((0,s.wm)(r)&&r.revert&&this.#t)return{...this.#t,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),n.jG.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,s.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}},4791:(e,t,r)=>{"use strict";r.d(t,{EU:()=>s,iL:()=>o,jv:()=>i,nE:()=>n});var i=e=>{if(e.suspense){let t=e=>"static"===e?e:Math.max(e??1e3,1e3),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>t(r(...e)):t(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}},n=(e,t)=>e.isLoading&&e.isFetching&&!t,s=(e,t)=>e?.suspense&&t.isPending,o=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()})},5500:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))})},5845:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var i,n=r(12115),s=r(52712),o=(i||(i=r.t(n,2)))[" useInsertionEffect ".trim().toString()]||s.N;function a({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){let[s,a,l]=function({defaultProp:e,onChange:t}){let[r,i]=n.useState(e),s=n.useRef(r),a=n.useRef(t);return o(()=>{a.current=t},[t]),n.useEffect(()=>{s.current!==r&&(a.current?.(r),s.current=r)},[r,s]),[r,i,a]}({defaultProp:t,onChange:r}),c=void 0!==e,u=c?e:s;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==c){let t=c?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=c},[c,i])}return[u,n.useCallback(t=>{if(c){let r="function"==typeof t?t(e):t;r!==e&&l.current?.(r)}else a(t)},[c,e,a,l])]}Symbol("RADIX:SYNC_STATE")},6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>o,t:()=>s});var i=r(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,i=e.map(e=>{let i=n(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():n(e[t],null)}}}}function o(...e){return i.useCallback(s(...e),e)}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let i=r(12115);function n(e,t){let r=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,i)),t&&(n.current=s(t,i))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6865:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},6874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return y},useLinkStatus:function(){return b}});let i=r(6966),n=r(95155),s=i._(r(12115)),o=r(82757),a=r(95227),l=r(69818),c=r(6654),u=r(69991),d=r(85929);r(43230);let h=r(24930),f=r(92664),p=r(6634);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function y(e){let t,r,i,[o,y]=(0,s.useOptimistic)(h.IDLE_LINK_STATUS),b=(0,s.useRef)(null),{href:v,as:w,children:x,prefetch:E=null,passHref:S,replace:I,shallow:C,scroll:A,onClick:D,onMouseEnter:O,onTouchStart:_,legacyBehavior:R=!1,onNavigate:N,ref:P,unstable_dynamicOnHover:j,...k}=e;t=x,R&&("string"==typeof t||"number"==typeof t)&&(t=(0,n.jsx)("a",{children:t}));let L=s.default.useContext(a.AppRouterContext),B=!1!==E,M=null===E||"auto"===E?l.PrefetchKind.AUTO:l.PrefetchKind.FULL,{href:U,as:F}=s.default.useMemo(()=>{let e=g(v);return{href:e,as:w?g(w):e}},[v,w]);R&&(r=s.default.Children.only(t));let q=R?r&&"object"==typeof r&&r.ref:P,$=s.default.useCallback(e=>(null!==L&&(b.current=(0,h.mountLinkInstance)(e,U,L,M,B,y)),()=>{b.current&&((0,h.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,h.unmountPrefetchableInstance)(e)}),[B,U,L,M,y]),z={ref:(0,c.useMergedRef)($,q),onClick(e){R||"function"!=typeof D||D(e),R&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),L&&(e.defaultPrevented||function(e,t,r,i,n,o,a){let{nodeName:l}=e.currentTarget;if(!("A"===l.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,f.isLocalURL)(t)){n&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),a){let e=!1;if(a({preventDefault:()=>{e=!0}}),e)return}s.default.startTransition(()=>{(0,p.dispatchNavigateAction)(r||t,n?"replace":"push",null==o||o,i.current)})}}(e,U,F,b,I,A,N))},onMouseEnter(e){R||"function"!=typeof O||O(e),R&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),L&&B&&(0,h.onNavigationIntent)(e.currentTarget,!0===j)},onTouchStart:function(e){R||"function"!=typeof _||_(e),R&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),L&&B&&(0,h.onNavigationIntent)(e.currentTarget,!0===j)}};return(0,u.isAbsoluteUrl)(F)?z.href=F:R&&!S&&("a"!==r.type||"href"in r.props)||(z.href=(0,d.addBasePath)(F)),i=R?s.default.cloneElement(r,z):(0,n.jsx)("a",{...k,...z,children:t}),(0,n.jsx)(m.Provider,{value:o,children:i})}r(73180);let m=(0,s.createContext)(h.IDLE_LINK_STATUS),b=()=>(0,s.useContext)(m);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7488:(e,t,r)=>{"use strict";var i=r(49509);function n(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==i&&void 0!==i.versions&&void 0!==i.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=s,t.isBrowser=function(){return!n()&&!s()}},7500:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var i=r(68321);class n extends i.C{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}},7610:(e,t)=>{t.read=function(e,t,r,i,n){var s,o,a=8*n-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=r?n-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),s-=c}return(f?-1:1)*o*Math.pow(2,s-i)},t.write=function(e,t,r,i,n,s){var o,a,l,c=8*s-n-1,u=(1<<c)-1,d=u>>1,h=5960464477539062e-23*(23===n),f=i?0:s-1,p=i?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,n),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;e[r+f]=255&a,f+=p,a/=256,n-=8);for(o=o<<n|a,c+=n;c>0;e[r+f]=255&o,f+=p,o/=256,c-=8);e[r+f-p]|=128*g}},8381:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var i=r(68321);class n extends i.C{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}},8816:(e,t,r)=>{"use strict";function i(e,t,r){var i="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(i+=r+" ")}),i}r.d(t,{Rk:()=>i,SF:()=>n,sk:()=>s});var n=function(e,t,r){var i=e.key+"-"+t.name;!1===r&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},s=function(e,t,r){n(e,t,r);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(void 0!==s)}}},10184:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},10255:(e,t,r)=>{"use strict";function i(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}}),r(95155),r(47650),r(85744),r(20589)},10351:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(85006);i.__exportStar(r(27104),t),i.__exportStar(r(40052),t)},10973:(e,t,r)=>{"use strict";r.d(t,{CG:()=>i});let i={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},11275:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var i=r(12115),n=r(52712);function s(e){let[t,r]=i.useState(void 0);return(0,n.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let i,n;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,n=t.blockSize}else i=e.offsetWidth,n=e.offsetHeight;r({width:i,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},12513:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))})},12977:(e,t,r)=>{"use strict";r.d(t,{aB:()=>o});var i=r(95155),n=r(12115),s=r(93662);function o(e){let{children:t,fallback:r,className:o}=e;return(0,i.jsx)("div",{className:o,children:(0,i.jsx)(n.Suspense,{fallback:r||(0,i.jsx)(s.jt,{variant:"card"}),children:t})})}},13330:(e,t,r)=>{"use strict";r.d(t,{BH:()=>g,Cp:()=>p,EN:()=>f,Eh:()=>c,F$:()=>h,GU:()=>A,MK:()=>u,S$:()=>i,ZM:()=>C,ZZ:()=>S,Zw:()=>s,d2:()=>l,f8:()=>y,gn:()=>o,hT:()=>I,j3:()=>a,lQ:()=>n,nJ:()=>d,pl:()=>x,y9:()=>E,yy:()=>w});var i="undefined"==typeof window||"Deno"in globalThis;function n(){}function s(e,t){return"function"==typeof e?e(t):e}function o(e){return"number"==typeof e&&e>=0&&e!==1/0}function a(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(e,t){return"function"==typeof e?e(t):e}function c(e,t){return"function"==typeof e?e(t):e}function u(e,t){let{type:r="all",exact:i,fetchStatus:n,predicate:s,queryKey:o,stale:a}=e;if(o){if(i){if(t.queryHash!==h(o,t.options))return!1}else if(!p(t.queryKey,o))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(!n||n===t.state.fetchStatus)&&(!s||!!s(t))}function d(e,t){let{exact:r,status:i,predicate:n,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(f(t.options.mutationKey)!==f(s))return!1}else if(!p(t.options.mutationKey,s))return!1}return(!i||t.state.status===i)&&(!n||!!n(t))}function h(e,t){return(t?.queryKeyHashFn||f)(e)}function f(e){return JSON.stringify(e,(e,t)=>b(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function p(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>p(e[r],t[r]))}function g(e,t){if(e===t)return e;let r=m(e)&&m(t);if(r||b(e)&&b(t)){let i=r?e:Object.keys(e),n=i.length,s=r?t:Object.keys(t),o=s.length,a=r?[]:{},l=new Set(i),c=0;for(let i=0;i<o;i++){let n=r?i:s[i];(!r&&l.has(n)||r)&&void 0===e[n]&&void 0===t[n]?(a[n]=void 0,c++):(a[n]=g(e[n],t[n]),a[n]===e[n]&&void 0!==e[n]&&c++)}return n===o&&c===n?e:a}return t}function y(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function m(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b(e){if(!v(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!v(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e){return new Promise(t=>{setTimeout(t,e)})}function x(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?g(e,t):t}function E(e,t,r=0){let i=[...e,t];return r&&i.length>r?i.slice(1):i}function S(e,t,r=0){let i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var I=Symbol();function C(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==I?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function A(e,t){return"function"==typeof e?e(...t):!!e}},13380:(e,t,r)=>{"use strict";r.d(t,{i7:()=>l});var i=r(64453),n=r(12115);r(38862);var s=r(77726);r(25041),r(62243);var o=function(e,t){var r=arguments;if(null==t||!i.h.call(t,"css"))return n.createElement.apply(void 0,r);var s=r.length,o=Array(s);o[0]=i.E,o[1]=(0,i.c)(e,t);for(var a=2;a<s;a++)o[a]=r[a];return n.createElement.apply(null,o)};function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.J)(t)}function l(){var e=a.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(o||(o={}))},14088:(e,t,r)=>{"use strict";function i(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}r.d(t,{A:()=>i})},14911:(e,t,r)=>{"use strict";function i(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function n(e){return i(e,"^https?:")}function s(e){return i(e,"^wss?:")}function o(e){return RegExp("wss?://localhost(:d{2,5})?").test(e)}r.d(t,{A1:()=>s,q$:()=>n,z:()=>o})},15933:(e,t,r)=>{"use strict";function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{_:()=>i})},16652:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var i=r(45446);function n(e){return"function"===e.type?`function ${e.name}(${(0,i.Q)(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${(0,i.Q)(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${(0,i.Q)(e.inputs)})`:"error"===e.type?`error ${e.name}(${(0,i.Q)(e.inputs)})`:"constructor"===e.type?`constructor(${(0,i.Q)(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}},16784:(e,t,r)=>{"use strict";let i=r(68928);e.exports=s;let n=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function s(e){var t,r;(e=e||{}).browser=e.browser||{};let i=e.browser.transmit;if(i&&"function"!=typeof i.send)throw Error("pino: transmit option must have a send function");let u=e.browser.write||n;e.browser.write&&(e.browser.asObject=!0);let d=e.serializers||{},g=(t=e.browser.serialize,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(d)),y=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(y=!1),"function"==typeof u&&(u.error=u.fatal=u.warn=u.info=u.debug=u.trace=u),!1===e.enabled&&(e.level="silent");let m=e.level||"info",b=Object.create(u);b.log||(b.log=h),Object.defineProperty(b,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(b,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,o(v,b,"error","log"),o(v,b,"fatal","error"),o(v,b,"warn","error"),o(v,b,"info","log"),o(v,b,"debug","log"),o(v,b,"trace","log")}});let v={transmit:i,serialize:g,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?f:p};return b.levels=s.levels,b.level=m,b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=h,b.serializers=d,b._serialize=g,b._stdErrSerialize=y,b.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},g&&t.serializers&&(r.serializers=t.serializers);let n=r.serializers;if(g&&n){var s=Object.assign({},d,n),o=!0===e.browser.serialize?Object.keys(s):g;delete t.serializers,a([t],o,s,this._stdErrSerialize)}function u(e){this._childLevel=(0|e._childLevel)+1,this.error=l(e,t,"error"),this.fatal=l(e,t,"fatal"),this.warn=l(e,t,"warn"),this.info=l(e,t,"info"),this.debug=l(e,t,"debug"),this.trace=l(e,t,"trace"),s&&(this.serializers=s,this._serialize=o),i&&(this._logEvent=c([].concat(e._logEvent.bindings,t)))}return u.prototype=this,new u(this)},i&&(b._logEvent=c()),b}function o(e,t,r,o){let l=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?h:l[r]?l[r]:n[r]||n[o]||h,function(e,t,r){if(e.transmit||t[r]!==h){var o;t[r]=(o=t[r],function(){let l=e.timestamp(),u=Array(arguments.length),d=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var h=0;h<u.length;h++)u[h]=arguments[h];if(e.serialize&&!e.asObject&&a(u,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?o.call(d,function(e,t,r,n){e._serialize&&a(r,e._serialize,e.serializers,e._stdErrSerialize);let o=r.slice(),l=o[0],c={};n&&(c.time=n),c.level=s.levels.values[t];let u=(0|e._childLevel)+1;if(u<1&&(u=1),null!==l&&"object"==typeof l){for(;u--&&"object"==typeof o[0];)Object.assign(c,o.shift());l=o.length?i(o.shift(),o):void 0}else"string"==typeof l&&(l=i(o.shift(),o));return void 0!==l&&(c.msg=l),c}(this,r,u,l)):o.apply(d,u),e.transmit){let i=e.transmit.level||t.level,n=s.levels.values[i],o=s.levels.values[r];if(o<n)return;!function(e,t,r){let i=t.send,n=t.ts,s=t.methodLevel,o=t.methodValue,l=t.val,u=e._logEvent.bindings;a(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=n,e._logEvent.messages=r.filter(function(e){return -1===u.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,i(s,e._logEvent,l),e._logEvent=c(u)}(this,{ts:l,methodLevel:r,methodValue:o,transmitLevel:i,transmitValue:s.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},u)}})}}(e,t,r)}function a(e,t,r,i){for(let n in e)if(i&&e[n]instanceof Error)e[n]=s.stdSerializers.err(e[n]);else if("object"==typeof e[n]&&!Array.isArray(e[n]))for(let i in e[n])t&&t.indexOf(i)>-1&&i in r&&(e[n][i]=r[i](e[n][i]))}function l(e,t,r){return function(){let i=Array(1+arguments.length);i[0]=t;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return e[r].apply(this,i)}}function c(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function u(){return{}}function d(e){return e}function h(){}function f(){return!1}function p(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers={mapHttpRequest:u,mapHttpResponse:u,wrapRequestSerializer:d,wrapResponseSerializer:d,wrapErrorSerializer:d,req:u,res:u,err:function(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}},s.stdTimeFunctions=Object.assign({},{nullTime:f,epochTime:p,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},17130:(e,t,r)=>{"use strict";r.d(t,{Dv:()=>I,FO:()=>g,If:()=>x,Ji:()=>d,Rv:()=>l,WL:()=>p,Yo:()=>b,ej:()=>h,fC:()=>C,iB:()=>c,kz:()=>o,l9:()=>m,pc:()=>s,sP:()=>S,v7:()=>A,v8:()=>w});var i=r(59126);let n=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function s(e){return n.test(e)}function o(e){return(0,i.Yv)(n,e)}let a=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function l(e){return a.test(e)}function c(e){return(0,i.Yv)(a,e)}let u=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function d(e){return u.test(e)}function h(e){return(0,i.Yv)(u,e)}let f=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function p(e){return f.test(e)}function g(e){return(0,i.Yv)(f,e)}let y=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function m(e){return y.test(e)}function b(e){return(0,i.Yv)(y,e)}let v=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function w(e){return v.test(e)}function x(e){return(0,i.Yv)(v,e)}let E=/^receive\(\) external payable$/;function S(e){return E.test(e)}let I=new Set(["memory","indexed","storage","calldata"]),C=new Set(["indexed"]),A=new Set(["calldata","memory","storage"])},17199:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var i=r(17130),n=r(23097),s=r(20263);function o(e){let t=(0,n.e)(e),r=[],o=e.length;for(let n=0;n<o;n++){let o=e[n];(0,i.WL)(o)||r.push((0,s.uT)(o,t))}return r}},17828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return i}});let i=(0,r(64054).createAsyncLocalStorage)()},17831:(e,t,r)=>{"use strict";r.d(t,{Fo:()=>eB});var i={};r.r(i),r.d(i,{identity:()=>D});var n={};r.r(n),r.d(n,{base2:()=>O});var s={};r.r(s),r.d(s,{base8:()=>_});var o={};r.r(o),r.d(o,{base10:()=>R});var a={};r.r(a),r.d(a,{base16:()=>N,base16upper:()=>P});var l={};r.r(l),r.d(l,{base32:()=>j,base32hex:()=>M,base32hexpad:()=>F,base32hexpadupper:()=>q,base32hexupper:()=>U,base32pad:()=>L,base32padupper:()=>B,base32upper:()=>k,base32z:()=>$});var c={};r.r(c),r.d(c,{base36:()=>z,base36upper:()=>K});var u={};r.r(u),r.d(u,{base58btc:()=>V,base58flickr:()=>H});var d={};r.r(d),r.d(d,{base64:()=>W,base64pad:()=>Q,base64url:()=>J,base64urlpad:()=>Y});var h={};r.r(h),r.d(h,{base256emoji:()=>ee});var f={};r.r(f),r.d(f,{sha256:()=>eh,sha512:()=>ef});var p={};r.r(p),r.d(p,{identity:()=>ep});var g={};r.r(g),r.d(g,{code:()=>ey,decode:()=>eb,encode:()=>em,name:()=>eg});var y={};r.r(y),r.d(y,{code:()=>eE,decode:()=>eI,encode:()=>eS,name:()=>ex});let m=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=n}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===l;)i++,t++;for(var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<n)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,c=new Uint8Array(o);n!==s;){for(var d=t[n],h=0,f=o-1;(0!==d||h<i)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");i=h,n++}for(var p=o-i;p!==o&&0===c[p];)p++;for(var g=l.repeat(r);p<o;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let b=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class v{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class w{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return E(this,e)}}class x{constructor(e){this.decoders=e}or(e){return E(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let E=(e,t)=>new x({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class S{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new v(e,t,r),this.decoder=new w(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let I=({name:e,prefix:t,encode:r,decode:i})=>new S(e,t,r,i),C=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:n}=m(r,t);return I({prefix:e,name:t,encode:i,decode:e=>b(n(e))})},A=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>I({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,s="",o=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,l=0,c=0;for(let t=0;t<s;++t){let s=n[e[t]];if(void 0===s)throw SyntaxError(`Non-${i} character`);l=l<<r|s,(a+=r)>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,i,r,e)}),D=I({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)}),O=A({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),_=A({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),R=C({prefix:"9",name:"base10",alphabet:"0123456789"}),N=A({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),P=A({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),j=A({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),k=A({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L=A({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),B=A({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),M=A({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),U=A({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),F=A({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),q=A({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$=A({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),z=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),K=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),V=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),H=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),W=A({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Q=A({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J=A({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Y=A({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),G=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),Z=G.reduce((e,t,r)=>(e[r]=t,e),[]),X=G.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),ee=I({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Z[t],"")},decode:function(e){let t=[];for(let r of e){let e=X[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});function et(e,t,r){t=t||[];for(var i=r=r||0;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,et.bytes=r-i+1,t}function er(e,t){var r,i=0,t=t||0,n=0,s=t,o=e.length;do{if(s>=o)throw er.bytes=0,RangeError("Could not decode varint");r=e[s++],i+=n<28?(127&r)<<n:(127&r)*Math.pow(2,n),n+=7}while(r>=128);return er.bytes=s-t,i}let ei={encode:et,decode:er,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}},en=(e,t=0)=>[ei.decode(e,t),ei.decode.bytes],es=(e,t,r=0)=>(ei.encode(e,t,r),t),eo=e=>ei.encodingLength(e),ea=(e,t)=>{let r=t.byteLength,i=eo(e),n=i+eo(r),s=new Uint8Array(n+r);return es(e,s,0),es(r,s,i),s.set(t,n),new el(e,r,t,s)};class el{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let ec=({name:e,code:t,encode:r})=>new eu(e,t,r);class eu{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?ea(this.code,t):t.then(e=>ea(this.code,e))}throw Error("Unknown type, must be binary type")}}let ed=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),eh=ec({name:"sha2-256",code:18,encode:ed("SHA-256")}),ef=ec({name:"sha2-512",code:19,encode:ed("SHA-512")}),ep={code:0,name:"identity",encode:b,digest:e=>ea(0,b(e))},eg="raw",ey=85,em=e=>b(e),eb=e=>b(e),ev=new TextEncoder,ew=new TextDecoder,ex="json",eE=512,eS=e=>ev.encode(JSON.stringify(e)),eI=e=>JSON.parse(ew.decode(e));class eC{constructor(e,t,r,i){this.code=t,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ek,byteLength:ek,code:ej,version:ej,multihash:ej,bytes:ej,_baseCache:ek,asCID:ek})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==e_)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eR)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return eC.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=ea(e,t);return eC.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){var t,r;return e&&this.code===e.code&&this.version===e.version&&((t=this.multihash)===(r=e.multihash)||t.code===r.code&&t.size===r.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(t.bytes,r.bytes))}toString(e){let{bytes:t,version:r,_baseCache:i}=this;return 0===r?eD(t,i,e||V.encoder):eO(t,i,e||j.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eT(/^0\.0/,eL),!!(e&&(e[eP]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof eC)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:i,bytes:n}=e;return new eC(t,r,i,n||eN(t,r,i.bytes))}if(null==e||!0!==e[eP])return null;{let{version:t,multihash:r,code:i}=e,n=(e=>{let t=b(e),[r,i]=en(t),[n,s]=en(t.subarray(i)),o=t.subarray(i+s);if(o.byteLength!==n)throw Error("Incorrect length");return new el(r,n,o,t)})(r);return eC.create(t,i,n)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===e_)return new eC(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${e_}) block encoding`);case 1:{let i=eN(e,t,r.bytes);return new eC(e,t,r,i)}default:throw Error("Invalid version")}}static createV0(e){return eC.create(0,e_,e)}static createV1(e,t){return eC.create(1,e,t)}static decode(e){let[t,r]=eC.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=eC.inspectBytes(e),r=t.size-t.multihashSize,i=b(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw Error("Incorrect length");let n=i.subarray(t.multihashSize-t.digestSize),s=new el(t.multihashCode,t.digestSize,n,i);return[0===t.version?eC.createV0(s):eC.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,i]=en(e.subarray(t));return t+=i,r},i=r(),n=e_;if(18===i?(i=0,t=0):1===i&&(n=r()),0!==i&&1!==i)throw RangeError(`Invalid CID version ${i}`);let s=t,o=r(),a=r(),l=t+a;return{version:i,codec:n,multihashCode:o,digestSize:a,multihashSize:l-s,size:l}}static parse(e,t){let[r,i]=eA(e,t),n=eC.decode(i);return n._baseCache.set(r,e),n}}let eA=(e,t)=>{switch(e[0]){case"Q":{let r=t||V;return[V.prefix,r.decode(`${V.prefix}${e}`)]}case V.prefix:{let r=t||V;return[V.prefix,r.decode(e)]}case j.prefix:{let r=t||j;return[j.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eD=(e,t,r)=>{let{prefix:i}=r;if(i!==V.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=t.get(i);if(null!=n)return n;{let n=r.encode(e).slice(1);return t.set(i,n),n}},eO=(e,t,r)=>{let{prefix:i}=r,n=t.get(i);if(null!=n)return n;{let n=r.encode(e);return t.set(i,n),n}},e_=112,eR=18,eN=(e,t,r)=>{let i=eo(e),n=i+eo(t),s=new Uint8Array(n+r.byteLength);return es(e,s,0),es(t,s,i),s.set(r,n),s},eP=Symbol.for("@ipld/js-cid/CID"),ej={writable:!1,configurable:!1,enumerable:!0},ek={writable:!1,enumerable:!1,configurable:!1},eT=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},eL=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,eB={...i,...n,...s,...o,...a,...l,...c,...u,...d,...h};({...f,...p})},18067:(e,t,r)=>{"use strict";r.d(t,{Uf:()=>o,XW:()=>a,fO:()=>n,jf:()=>s,zR:()=>i});let i="INTERNAL_ERROR",n="SERVER_ERROR",s=[-32700,-32600,-32601,-32602,-32603],o={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[i]:{code:-32603,message:"Internal error"},[n]:{code:-32e3,message:"Server error"}},a=n},19393:()=>{},19655:(e,t,r)=>{"use strict";r.d(t,{D5:()=>C,U5:()=>I,h6:()=>n.a,iP:()=>E,oI:()=>S});var i=r(16784),n=r.n(i),s=r(71075);let o={level:"info"},a="custom_context";class l{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class c{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new l(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}}class u{constructor(e,t=1024e3){this.level=e??"error",this.levelValue=i.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new c(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===i.levels.values.error?console.error(e):t===i.levels.values.warn?console.warn(e):t===i.levels.values.debug?console.debug(e):t===i.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,s.h)({timestamp:new Date().toISOString(),log:e}));let t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new c(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let t=this.getLogArray();return t.push((0,s.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class d{constructor(e,t=1024e3){this.baseChunkLogger=new u(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}class h{constructor(e,t=1024e3){this.baseChunkLogger=new u(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var f=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&v(e,r,t[r]);if(y)for(var r of y(t))b.call(t,r)&&v(e,r,t[r]);return e},x=(e,t)=>p(e,g(t));function E(e){return x(w({},e),{level:e?.level||o.level})}function S(e,t=a){return typeof e.bindings>"u"?function(e,t=a){return e[t]||""}(e,t):e.bindings().context||""}function I(e,t,r=a){let i=function(e,t,r=a){let i=S(e,r);return i.trim()?`${i}/${t}`:t}(e,t,r);return function(e,t,r=a){return e[r]=t,e}(e.child({context:i}),i,r)}function C(e){return"u">typeof e.loggerOverride&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:"u">typeof window?function(e){var t,r;let i=new d(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:n()(x(w({},e.opts),{level:"trace",browser:x(w({},null==(r=e.opts)?void 0:r.browser),{write:e=>i.write(e)})})),chunkLoggerController:i}}(e):function(e){var t;let r=new h(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:n()(x(w({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}},20263:(e,t,r)=>{"use strict";r.d(t,{_o:()=>y,Pj:()=>p,uT:()=>u,NV:()=>g});var i=r(59126),n=r(84701),s=r(99901),o=r(30686),a=r(7500);let l=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var c=r(17130);function u(e,t={}){if((0,c.Ji)(e))return function(e,t={}){let r=(0,c.ej)(e);if(!r)throw new o.s7({signature:e,type:"function"});let i=g(r.parameters),n=[],s=i.length;for(let e=0;e<s;e++)n.push(p(i[e],{modifiers:c.v7,structs:t,type:"function"}));let a=[];if(r.returns){let e=g(r.returns),i=e.length;for(let r=0;r<i;r++)a.push(p(e[r],{modifiers:c.v7,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:n,outputs:a}}(e,t);if((0,c.Rv)(e))return function(e,t={}){let r=(0,c.iB)(e);if(!r)throw new o.s7({signature:e,type:"event"});let i=g(r.parameters),n=[],s=i.length;for(let e=0;e<s;e++)n.push(p(i[e],{modifiers:c.fC,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:n}}(e,t);if((0,c.pc)(e))return function(e,t={}){let r=(0,c.kz)(e);if(!r)throw new o.s7({signature:e,type:"error"});let i=g(r.parameters),n=[],s=i.length;for(let e=0;e<s;e++)n.push(p(i[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:n}}(e,t);if((0,c.l9)(e))return function(e,t={}){let r=(0,c.Yo)(e);if(!r)throw new o.s7({signature:e,type:"constructor"});let i=g(r.parameters),n=[],s=i.length;for(let e=0;e<s;e++)n.push(p(i[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:n}}(e,t);if((0,c.v8)(e)){var r=e;let t=(0,c.If)(r);if(!t)throw new o.s7({signature:r,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}if((0,c.sP)(e))return{type:"receive",stateMutability:"payable"};throw new o.x8({signature:e})}let d=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,h=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f=/^u?int$/;function p(e,t){var r,o;let a,u=function(e,t,r){let i="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;i+=`(${e[0]}{${t}})`}return t?`${t}:${e}${i}`:e}(e,t?.type,t?.structs);if(l.has(u))return l.get(u);let b=i.wj.test(e),v=(0,i.Yv)(b?h:d,e);if(!v)throw new s.dV({param:e});if(v.name&&("address"===(r=v.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||i.BD.test(r)||i.Ge.test(r)||m.test(r)))throw new s.zd({param:e,name:v.name});let w=v.name?{name:v.name}:{},x="indexed"===v.modifier?{indexed:!0}:{},E=t?.structs??{},S={};if(b){a="tuple";let e=g(v.type),t=[],r=e.length;for(let i=0;i<r;i++)t.push(p(e[i],{structs:E}));S={components:t}}else if(v.type in E)a="tuple",S={components:E[v.type]};else if(f.test(v.type))a=`${v.type}256`;else if(a=v.type,t?.type!=="struct"&&!y(a))throw new n.UG({type:a});if(v.modifier){if(!t?.modifiers?.has?.(v.modifier))throw new s.NO({param:e,type:t?.type,modifier:v.modifier});if(c.v7.has(v.modifier)&&(o=a,!v.array&&"bytes"!==o&&"string"!==o&&"tuple"!==o))throw new s.Pj({param:e,type:t?.type,modifier:v.modifier})}let I={type:`${a}${v.array??""}`,...w,...x,...S};return l.set(u,I),I}function g(e,t=[],r="",i=0){let n=e.trim().length;for(let s=0;s<n;s++){let n=e[s],o=e.slice(s+1);switch(n){case",":return 0===i?g(o,[...t,r.trim()]):g(o,t,`${r}${n}`,i);case"(":return g(o,t,`${r}${n}`,i+1);case")":return g(o,t,`${r}${n}`,i-1);default:return g(o,t,`${r}${n}`,i)}}if(""===r)return t;if(0!==i)throw new a.I({current:r,depth:i});return t.push(r.trim()),t}function y(e){return"address"===e||"bool"===e||"function"===e||"string"===e||i.BD.test(e)||i.Ge.test(e)}let m=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},21858:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var i=r(44088),n=r(13330),s=new class extends i.Q{#l;#c;#u;constructor(){super(),this.#u=e=>{if(!n.S$&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#c||this.setEventListener(this.#u)}onUnsubscribe(){this.hasListeners()||(this.#c?.(),this.#c=void 0)}setEventListener(e){this.#u=e,this.#c?.(),this.#c=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#l!==e&&(this.#l=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#l?this.#l:globalThis.document?.visibilityState!=="hidden"}}},22447:(e,t,r)=>{"use strict";r.d(t,{jG:()=>n});var i=e=>setTimeout(e,0),n=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},s=i,o=i=>{t?e.push(i):s(()=>{r(i)})};return{batch:i=>{let o;t++;try{o=i()}finally{--t||(()=>{let t=e;e=[],t.length&&s(()=>{n(()=>{t.forEach(e=>{r(e)})})})})()}return o},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{s=e}}}()},22450:(e,t,r)=>{"use strict";r.d(t,{$1:()=>a,LJ:()=>s,wZ:()=>o});var i=r(12115),n=r(13330),s=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},o=e=>{i.useEffect(()=>{e.clearReset()},[e])},a=e=>{let{result:t,errorResetBoundary:r,throwOnError:i,query:s,suspense:o}=e;return t.isError&&!r.isReset()&&!t.isFetching&&s&&(o&&void 0===t.data||(0,n.GU)(i,[t.error,s]))}},22475:(e,t,r)=>{"use strict";r.d(t,{UE:()=>eD,ll:()=>ex,rD:()=>e_,UU:()=>eI,jD:()=>eA,ER:()=>eO,cY:()=>eE,BN:()=>eS,Ej:()=>eC});let i=["top","right","bottom","left"],n=Math.min,s=Math.max,o=Math.round,a=Math.floor,l=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function d(e,t){return"function"==typeof e?e(t):e}function h(e){return e.split("-")[0]}function f(e){return e.split("-")[1]}function p(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}let y=new Set(["top","bottom"]);function m(e){return y.has(h(e))?"y":"x"}function b(e){return e.replace(/start|end/g,e=>u[e])}let v=["left","right"],w=["right","left"],x=["top","bottom"],E=["bottom","top"];function S(e){return e.replace(/left|right|bottom|top/g,e=>c[e])}function I(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function C(e){let{x:t,y:r,width:i,height:n}=e;return{width:i,height:n,top:r,left:t,right:t+i,bottom:r+n,x:t,y:r}}function A(e,t,r){let i,{reference:n,floating:s}=e,o=m(t),a=p(m(t)),l=g(a),c=h(t),u="y"===o,d=n.x+n.width/2-s.width/2,y=n.y+n.height/2-s.height/2,b=n[l]/2-s[l]/2;switch(c){case"top":i={x:d,y:n.y-s.height};break;case"bottom":i={x:d,y:n.y+n.height};break;case"right":i={x:n.x+n.width,y:y};break;case"left":i={x:n.x-s.width,y:y};break;default:i={x:n.x,y:n.y}}switch(f(t)){case"start":i[a]-=b*(r&&u?-1:1);break;case"end":i[a]+=b*(r&&u?-1:1)}return i}let D=async(e,t,r)=>{let{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),c=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:d}=A(c,i,l),h=i,f={},p=0;for(let r=0;r<a.length;r++){let{name:s,fn:g}=a[r],{x:y,y:m,data:b,reset:v}=await g({x:u,y:d,initialPlacement:i,placement:h,strategy:n,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=y?y:u,d=null!=m?m:d,f={...f,[s]:{...f[s],...b}},v&&p<=50&&(p++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await o.getElementRects({reference:e,floating:t,strategy:n}):v.rects),{x:u,y:d}=A(c,h,l)),r=-1)}return{x:u,y:d,placement:h,strategy:n,middlewareData:f}};async function O(e,t){var r;void 0===t&&(t={});let{x:i,y:n,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=d(t,e),g=I(p),y=a[f?"floating"===h?"reference":"floating":h],m=C(await s.getClippingRect({element:null==(r=await (null==s.isElement?void 0:s.isElement(y)))||r?y:y.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b="floating"===h?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,v=await (null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),w=await (null==s.isElement?void 0:s.isElement(v))&&await (null==s.getScale?void 0:s.getScale(v))||{x:1,y:1},x=C(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:l}):b);return{top:(m.top-x.top+g.top)/w.y,bottom:(x.bottom-m.bottom+g.bottom)/w.y,left:(m.left-x.left+g.left)/w.x,right:(x.right-m.right+g.right)/w.x}}function _(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function R(e){return i.some(t=>e[t]>=0)}let N=new Set(["left","top"]);async function P(e,t){let{placement:r,platform:i,elements:n}=e,s=await (null==i.isRTL?void 0:i.isRTL(n.floating)),o=h(r),a=f(r),l="y"===m(r),c=N.has(o)?-1:1,u=s&&l?-1:1,p=d(t,e),{mainAxis:g,crossAxis:y,alignmentAxis:b}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&"number"==typeof b&&(y="end"===a?-1*b:b),l?{x:y*u,y:g*c}:{x:g*c,y:y*u}}function j(){return"undefined"!=typeof window}function k(e){return M(e)?(e.nodeName||"").toLowerCase():"#document"}function L(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function B(e){var t;return null==(t=(M(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function M(e){return!!j()&&(e instanceof Node||e instanceof L(e).Node)}function U(e){return!!j()&&(e instanceof Element||e instanceof L(e).Element)}function F(e){return!!j()&&(e instanceof HTMLElement||e instanceof L(e).HTMLElement)}function q(e){return!!j()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof L(e).ShadowRoot)}let $=new Set(["inline","contents"]);function z(e){let{overflow:t,overflowX:r,overflowY:i,display:n}=ee(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!$.has(n)}let K=new Set(["table","td","th"]),V=[":popover-open",":modal"];function H(e){return V.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let W=["transform","translate","scale","rotate","perspective"],Q=["transform","translate","scale","rotate","perspective","filter"],J=["paint","layout","strict","content"];function Y(e){let t=G(),r=U(e)?ee(e):e;return W.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||Q.some(e=>(r.willChange||"").includes(e))||J.some(e=>(r.contain||"").includes(e))}function G(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let Z=new Set(["html","body","#document"]);function X(e){return Z.has(k(e))}function ee(e){return L(e).getComputedStyle(e)}function et(e){return U(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function er(e){if("html"===k(e))return e;let t=e.assignedSlot||e.parentNode||q(e)&&e.host||B(e);return q(t)?t.host:t}function ei(e,t,r){var i;void 0===t&&(t=[]),void 0===r&&(r=!0);let n=function e(t){let r=er(t);return X(r)?t.ownerDocument?t.ownerDocument.body:t.body:F(r)&&z(r)?r:e(r)}(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),o=L(n);if(s){let e=en(o);return t.concat(o,o.visualViewport||[],z(n)?n:[],e&&r?ei(e):[])}return t.concat(n,ei(n,[],r))}function en(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function es(e){let t=ee(e),r=parseFloat(t.width)||0,i=parseFloat(t.height)||0,n=F(e),s=n?e.offsetWidth:r,a=n?e.offsetHeight:i,l=o(r)!==s||o(i)!==a;return l&&(r=s,i=a),{width:r,height:i,$:l}}function eo(e){return U(e)?e:e.contextElement}function ea(e){let t=eo(e);if(!F(t))return l(1);let r=t.getBoundingClientRect(),{width:i,height:n,$:s}=es(t),a=(s?o(r.width):r.width)/i,c=(s?o(r.height):r.height)/n;return a&&Number.isFinite(a)||(a=1),c&&Number.isFinite(c)||(c=1),{x:a,y:c}}let el=l(0);function ec(e){let t=L(e);return G()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:el}function eu(e,t,r,i){var n;void 0===t&&(t=!1),void 0===r&&(r=!1);let s=e.getBoundingClientRect(),o=eo(e),a=l(1);t&&(i?U(i)&&(a=ea(i)):a=ea(e));let c=(void 0===(n=r)&&(n=!1),i&&(!n||i===L(o))&&n)?ec(o):l(0),u=(s.left+c.x)/a.x,d=(s.top+c.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(o){let e=L(o),t=i&&U(i)?L(i):i,r=e,n=en(r);for(;n&&i&&t!==r;){let e=ea(n),t=n.getBoundingClientRect(),i=ee(n),s=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;u*=e.x,d*=e.y,h*=e.x,f*=e.y,u+=s,d+=o,n=en(r=L(n))}}return C({width:h,height:f,x:u,y:d})}function ed(e,t){let r=et(e).scrollLeft;return t?t.left+r:eu(B(e)).left+r}function eh(e,t,r){void 0===r&&(r=!1);let i=e.getBoundingClientRect();return{x:i.left+t.scrollLeft-(r?0:ed(e,i)),y:i.top+t.scrollTop}}let ef=new Set(["absolute","fixed"]);function ep(e,t,r){let i;if("viewport"===t)i=function(e,t){let r=L(e),i=B(e),n=r.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;let e=G();(!e||e&&"fixed"===t)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a,y:l}}(e,r);else if("document"===t)i=function(e){let t=B(e),r=et(e),i=e.ownerDocument.body,n=s(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=s(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),a=-r.scrollLeft+ed(e),l=-r.scrollTop;return"rtl"===ee(i).direction&&(a+=s(t.clientWidth,i.clientWidth)-n),{width:n,height:o,x:a,y:l}}(B(e));else if(U(t))i=function(e,t){let r=eu(e,!0,"fixed"===t),i=r.top+e.clientTop,n=r.left+e.clientLeft,s=F(e)?ea(e):l(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y;return{width:o,height:a,x:n*s.x,y:i*s.y}}(t,r);else{let r=ec(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return C(i)}function eg(e){return"static"===ee(e).position}function ey(e,t){if(!F(e)||"fixed"===ee(e).position)return null;if(t)return t(e);let r=e.offsetParent;return B(e)===r&&(r=r.ownerDocument.body),r}function em(e,t){var r;let i=L(e);if(H(e))return i;if(!F(e)){let t=er(e);for(;t&&!X(t);){if(U(t)&&!eg(t))return t;t=er(t)}return i}let n=ey(e,t);for(;n&&(r=n,K.has(k(r)))&&eg(n);)n=ey(n,t);return n&&X(n)&&eg(n)&&!Y(n)?i:n||function(e){let t=er(e);for(;F(t)&&!X(t);){if(Y(t))return t;if(H(t))break;t=er(t)}return null}(e)||i}let eb=async function(e){let t=this.getOffsetParent||em,r=this.getDimensions,i=await r(e.floating);return{reference:function(e,t,r){let i=F(t),n=B(t),s="fixed"===r,o=eu(e,!0,s,t),a={scrollLeft:0,scrollTop:0},c=l(0);if(i||!i&&!s)if(("body"!==k(t)||z(n))&&(a=et(t)),i){let e=eu(t,!0,s,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else n&&(c.x=ed(n));s&&!i&&n&&(c.x=ed(n));let u=!n||i||s?l(0):eh(n,a);return{x:o.left+a.scrollLeft-c.x-u.x,y:o.top+a.scrollTop-c.y-u.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},ev={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:i,strategy:n}=e,s="fixed"===n,o=B(i),a=!!t&&H(t.floating);if(i===o||a&&s)return r;let c={scrollLeft:0,scrollTop:0},u=l(1),d=l(0),h=F(i);if((h||!h&&!s)&&(("body"!==k(i)||z(o))&&(c=et(i)),F(i))){let e=eu(i);u=ea(i),d.x=e.x+i.clientLeft,d.y=e.y+i.clientTop}let f=!o||h||s?l(0):eh(o,c,!0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-c.scrollTop*u.y+d.y+f.y}},getDocumentElement:B,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:i,strategy:o}=e,a=[..."clippingAncestors"===r?H(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let i=ei(e,[],!1).filter(e=>U(e)&&"body"!==k(e)),n=null,s="fixed"===ee(e).position,o=s?er(e):e;for(;U(o)&&!X(o);){let t=ee(o),r=Y(o);r||"fixed"!==t.position||(n=null),(s?!r&&!n:!r&&"static"===t.position&&!!n&&ef.has(n.position)||z(o)&&!r&&function e(t,r){let i=er(t);return!(i===r||!U(i)||X(i))&&("fixed"===ee(i).position||e(i,r))}(e,o))?i=i.filter(e=>e!==o):n=t,o=er(o)}return t.set(e,i),i}(t,this._c):[].concat(r),i],l=a[0],c=a.reduce((e,r)=>{let i=ep(t,r,o);return e.top=s(i.top,e.top),e.right=n(i.right,e.right),e.bottom=n(i.bottom,e.bottom),e.left=s(i.left,e.left),e},ep(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:em,getElementRects:eb,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=es(e);return{width:t,height:r}},getScale:ea,isElement:U,isRTL:function(e){return"rtl"===ee(e).direction}};function ew(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ex(e,t,r,i){let o;void 0===i&&(i={});let{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:h=!1}=i,f=eo(e),p=l||c?[...f?ei(f):[],...ei(t)]:[];p.forEach(e=>{l&&e.addEventListener("scroll",r,{passive:!0}),c&&e.addEventListener("resize",r)});let g=f&&d?function(e,t){let r,i=null,o=B(e);function l(){var e;clearTimeout(r),null==(e=i)||e.disconnect(),i=null}return!function c(u,d){void 0===u&&(u=!1),void 0===d&&(d=1),l();let h=e.getBoundingClientRect(),{left:f,top:p,width:g,height:y}=h;if(u||t(),!g||!y)return;let m=a(p),b=a(o.clientWidth-(f+g)),v={rootMargin:-m+"px "+-b+"px "+-a(o.clientHeight-(p+y))+"px "+-a(f)+"px",threshold:s(0,n(1,d))||1},w=!0;function x(t){let i=t[0].intersectionRatio;if(i!==d){if(!w)return c();i?c(!1,i):r=setTimeout(()=>{c(!1,1e-7)},1e3)}1!==i||ew(h,e.getBoundingClientRect())||c(),w=!1}try{i=new IntersectionObserver(x,{...v,root:o.ownerDocument})}catch(e){i=new IntersectionObserver(x,v)}i.observe(e)}(!0),l}(f,r):null,y=-1,m=null;u&&(m=new ResizeObserver(e=>{let[i]=e;i&&i.target===f&&m&&(m.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),f&&!h&&m.observe(f),m.observe(t));let b=h?eu(e):null;return h&&function t(){let i=eu(e);b&&!ew(b,i)&&r(),b=i,o=requestAnimationFrame(t)}(),r(),()=>{var e;p.forEach(e=>{l&&e.removeEventListener("scroll",r),c&&e.removeEventListener("resize",r)}),null==g||g(),null==(e=m)||e.disconnect(),m=null,h&&cancelAnimationFrame(o)}}let eE=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,i;let{x:n,y:s,placement:o,middlewareData:a}=t,l=await P(t,e);return o===(null==(r=a.offset)?void 0:r.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},eS=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:i,placement:o}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...u}=d(e,t),f={x:r,y:i},g=await O(t,u),y=m(h(o)),b=p(y),v=f[b],w=f[y];if(a){let e="y"===b?"top":"left",t="y"===b?"bottom":"right",r=v+g[e],i=v-g[t];v=s(r,n(v,i))}if(l){let e="y"===y?"top":"left",t="y"===y?"bottom":"right",r=w+g[e],i=w-g[t];w=s(r,n(w,i))}let x=c.fn({...t,[b]:v,[y]:w});return{...x,data:{x:x.x-r,y:x.y-i,enabled:{[b]:a,[y]:l}}}}}},eI=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,i,n,s,o;let{placement:a,middlewareData:l,rects:c,initialPlacement:u,platform:y,elements:I}=t,{mainAxis:C=!0,crossAxis:A=!0,fallbackPlacements:D,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:N=!0,...P}=d(e,t);if(null!=(r=l.arrow)&&r.alignmentOffset)return{};let j=h(a),k=m(u),L=h(u)===u,B=await (null==y.isRTL?void 0:y.isRTL(I.floating)),M=D||(L||!N?[S(u)]:function(e){let t=S(e);return[b(e),t,b(t)]}(u)),U="none"!==R;!D&&U&&M.push(...function(e,t,r,i){let n=f(e),s=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?w:v;return t?v:w;case"left":case"right":return t?x:E;default:return[]}}(h(e),"start"===r,i);return n&&(s=s.map(e=>e+"-"+n),t&&(s=s.concat(s.map(b)))),s}(u,N,R,B));let F=[u,...M],q=await O(t,P),$=[],z=(null==(i=l.flip)?void 0:i.overflows)||[];if(C&&$.push(q[j]),A){let e=function(e,t,r){void 0===r&&(r=!1);let i=f(e),n=p(m(e)),s=g(n),o="x"===n?i===(r?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=S(o)),[o,S(o)]}(a,c,B);$.push(q[e[0]],q[e[1]])}if(z=[...z,{placement:a,overflows:$}],!$.every(e=>e<=0)){let e=((null==(n=l.flip)?void 0:n.index)||0)+1,t=F[e];if(t&&("alignment"!==A||k===m(t)||z.every(e=>e.overflows[0]>0&&m(e.placement)===k)))return{data:{index:e,overflows:z},reset:{placement:t}};let r=null==(s=z.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!r)switch(_){case"bestFit":{let e=null==(o=z.filter(e=>{if(U){let t=m(e.placement);return t===k||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(r=e);break}case"initialPlacement":r=u}if(a!==r)return{reset:{placement:r}}}return{}}}},eC=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,i;let o,a,{placement:l,rects:c,platform:u,elements:p}=t,{apply:g=()=>{},...y}=d(e,t),b=await O(t,y),v=h(l),w=f(l),x="y"===m(l),{width:E,height:S}=c.floating;"top"===v||"bottom"===v?(o=v,a=w===(await (null==u.isRTL?void 0:u.isRTL(p.floating))?"start":"end")?"left":"right"):(a=v,o="end"===w?"top":"bottom");let I=S-b.top-b.bottom,C=E-b.left-b.right,A=n(S-b[o],I),D=n(E-b[a],C),_=!t.middlewareData.shift,R=A,N=D;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(N=C),null!=(i=t.middlewareData.shift)&&i.enabled.y&&(R=I),_&&!w){let e=s(b.left,0),t=s(b.right,0),r=s(b.top,0),i=s(b.bottom,0);x?N=E-2*(0!==e||0!==t?e+t:s(b.left,b.right)):R=S-2*(0!==r||0!==i?r+i:s(b.top,b.bottom))}await g({...t,availableWidth:N,availableHeight:R});let P=await u.getDimensions(p.floating);return E!==P.width||S!==P.height?{reset:{rects:!0}}:{}}}},eA=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:i="referenceHidden",...n}=d(e,t);switch(i){case"referenceHidden":{let e=_(await O(t,{...n,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:R(e)}}}case"escaped":{let e=_(await O(t,{...n,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:R(e)}}}default:return{}}}}},eD=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:i,placement:o,rects:a,platform:l,elements:c,middlewareData:u}=t,{element:h,padding:y=0}=d(e,t)||{};if(null==h)return{};let b=I(y),v={x:r,y:i},w=p(m(o)),x=g(w),E=await l.getDimensions(h),S="y"===w,C=S?"clientHeight":"clientWidth",A=a.reference[x]+a.reference[w]-v[w]-a.floating[x],D=v[w]-a.reference[w],O=await (null==l.getOffsetParent?void 0:l.getOffsetParent(h)),_=O?O[C]:0;_&&await (null==l.isElement?void 0:l.isElement(O))||(_=c.floating[C]||a.floating[x]);let R=_/2-E[x]/2-1,N=n(b[S?"top":"left"],R),P=n(b[S?"bottom":"right"],R),j=_-E[x]-P,k=_/2-E[x]/2+(A/2-D/2),L=s(N,n(k,j)),B=!u.arrow&&null!=f(o)&&k!==L&&a.reference[x]/2-(k<N?N:P)-E[x]/2<0,M=B?k<N?k-N:k-j:0;return{[w]:v[w]+M,data:{[w]:L,centerOffset:k-L-M,...B&&{alignmentOffset:M}},reset:B}}}),eO=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:i,placement:n,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=d(e,t),u={x:r,y:i},f=m(n),g=p(f),y=u[g],b=u[f],v=d(a,t),w="number"==typeof v?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){let e="y"===g?"height":"width",t=s.reference[g]-s.floating[e]+w.mainAxis,r=s.reference[g]+s.reference[e]-w.mainAxis;y<t?y=t:y>r&&(y=r)}if(c){var x,E;let e="y"===g?"width":"height",t=N.has(h(n)),r=s.reference[f]-s.floating[e]+(t&&(null==(x=o.offset)?void 0:x[f])||0)+(t?0:w.crossAxis),i=s.reference[f]+s.reference[e]+(t?0:(null==(E=o.offset)?void 0:E[f])||0)-(t?w.crossAxis:0);b<r?b=r:b>i&&(b=i)}return{[g]:y,[f]:b}}}},e_=(e,t,r)=>{let i=new Map,n={platform:ev,...r},s={...n.platform,_c:i};return D(e,t,{...n,platform:s})}},22761:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var i=r(21858),n=r(22447),s=r(3531),o=r(44088),a=r(44414),l=r(13330),c=class extends o.Q{constructor(e,t){super(),this.options=t,this.#i=e,this.#d=null,this.#h=(0,a.T)(),this.options.experimental_prefetchInRender||this.#h.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#i;#f=void 0;#p=void 0;#g=void 0;#y;#m;#h;#d;#b;#v;#w;#x;#E;#S;#I=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#f.addObserver(this),u(this.#f,this.options)?this.#C():this.updateResult(),this.#A())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#f,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#f,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#D(),this.#O(),this.#f.removeObserver(this)}setOptions(e){let t=this.options,r=this.#f;if(this.options=this.#i.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.Eh)(this.options.enabled,this.#f))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#f.setOptions(this.options),t._defaulted&&!(0,l.f8)(this.options,t)&&this.#i.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#f,observer:this});let i=this.hasListeners();i&&h(this.#f,r,this.options,t)&&this.#C(),this.updateResult(),i&&(this.#f!==r||(0,l.Eh)(this.options.enabled,this.#f)!==(0,l.Eh)(t.enabled,this.#f)||(0,l.d2)(this.options.staleTime,this.#f)!==(0,l.d2)(t.staleTime,this.#f))&&this.#R();let n=this.#N();i&&(this.#f!==r||(0,l.Eh)(this.options.enabled,this.#f)!==(0,l.Eh)(t.enabled,this.#f)||n!==this.#S)&&this.#P(n)}getOptimisticResult(e){var t,r;let i=this.#i.getQueryCache().build(this.#i,e),n=this.createResult(i,e);return t=this,r=n,(0,l.f8)(t.getCurrentResult(),r)||(this.#g=n,this.#m=this.options,this.#y=this.#f.state),n}getCurrentResult(){return this.#g}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),Reflect.get(e,r))})}trackProp(e){this.#I.add(e)}getCurrentQuery(){return this.#f}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#i.defaultQueryOptions(e),r=this.#i.getQueryCache().build(this.#i,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#C({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#g))}#C(e){this.#_();let t=this.#f.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.lQ)),t}#R(){this.#D();let e=(0,l.d2)(this.options.staleTime,this.#f);if(l.S$||this.#g.isStale||!(0,l.gn)(e))return;let t=(0,l.j3)(this.#g.dataUpdatedAt,e);this.#x=setTimeout(()=>{this.#g.isStale||this.updateResult()},t+1)}#N(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#f):this.options.refetchInterval)??!1}#P(e){this.#O(),this.#S=e,!l.S$&&!1!==(0,l.Eh)(this.options.enabled,this.#f)&&(0,l.gn)(this.#S)&&0!==this.#S&&(this.#E=setInterval(()=>{(this.options.refetchIntervalInBackground||i.m.isFocused())&&this.#C()},this.#S))}#A(){this.#R(),this.#P(this.#N())}#D(){this.#x&&(clearTimeout(this.#x),this.#x=void 0)}#O(){this.#E&&(clearInterval(this.#E),this.#E=void 0)}createResult(e,t){let r,i=this.#f,n=this.options,o=this.#g,c=this.#y,d=this.#m,p=e!==i?e.state:this.#p,{state:g}=e,y={...g},m=!1;if(t._optimisticResults){let r=this.hasListeners(),o=!r&&u(e,t),a=r&&h(e,i,t,n);(o||a)&&(y={...y,...(0,s.k)(g.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:w}=y;r=y.data;let x=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===w){let e;o?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(e=o.data,x=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#w?.state.data,this.#w):t.placeholderData,void 0!==e&&(w="success",r=(0,l.pl)(o?.data,e,t),m=!0)}if(t.select&&void 0!==r&&!x)if(o&&r===c?.data&&t.select===this.#b)r=this.#v;else try{this.#b=t.select,r=t.select(r),r=(0,l.pl)(o?.data,r,t),this.#v=r,this.#d=null}catch(e){this.#d=e}this.#d&&(b=this.#d,r=this.#v,v=Date.now(),w="error");let E="fetching"===y.fetchStatus,S="pending"===w,I="error"===w,C=S&&E,A=void 0!==r,D={status:w,fetchStatus:y.fetchStatus,isPending:S,isSuccess:"success"===w,isError:I,isInitialLoading:C,isLoading:C,data:r,dataUpdatedAt:y.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!S,isLoadingError:I&&!A,isPaused:"paused"===y.fetchStatus,isPlaceholderData:m,isRefetchError:I&&A,isStale:f(e,t),refetch:this.refetch,promise:this.#h};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===D.status?e.reject(D.error):void 0!==D.data&&e.resolve(D.data)},r=()=>{t(this.#h=D.promise=(0,a.T)())},n=this.#h;switch(n.status){case"pending":e.queryHash===i.queryHash&&t(n);break;case"fulfilled":("error"===D.status||D.data!==n.value)&&r();break;case"rejected":("error"!==D.status||D.error!==n.reason)&&r()}}return D}updateResult(){let e=this.#g,t=this.createResult(this.#f,this.options);if(this.#y=this.#f.state,this.#m=this.options,void 0!==this.#y.data&&(this.#w=this.#f),(0,l.f8)(t,e))return;this.#g=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#I.size)return!0;let i=new Set(r??this.#I);return this.options.throwOnError&&i.add("error"),Object.keys(this.#g).some(t=>this.#g[t]!==e[t]&&i.has(t))};this.#j({listeners:r()})}#_(){let e=this.#i.getQueryCache().build(this.#i,this.options);if(e===this.#f)return;let t=this.#f;this.#f=e,this.#p=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#A()}#j(e){n.jG.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#g)}),this.#i.getQueryCache().notify({query:this.#f,type:"observerResultsUpdated"})})}};function u(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,r){if(!1!==(0,l.Eh)(t.enabled,e)&&"static"!==(0,l.d2)(t.staleTime,e)){let i="function"==typeof r?r(e):r;return"always"===i||!1!==i&&f(e,t)}return!1}function h(e,t,r,i){return(e!==t||!1===(0,l.Eh)(i.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&e.isStaleByTime((0,l.d2)(t.staleTime,e))}},23097:(e,t,r)=>{"use strict";r.d(t,{e:()=>u});var i=r(59126),n=r(84701),s=r(99901),o=r(30686),a=r(8381),l=r(17130),c=r(20263);function u(e){let t={},r=e.length;for(let i=0;i<r;i++){let r=e[i];if(!(0,l.WL)(r))continue;let n=(0,l.FO)(r);if(!n)throw new o.s7({signature:r,type:"struct"});let s=n.properties.split(";"),a=[],u=s.length;for(let e=0;e<u;e++){let t=s[e].trim();if(!t)continue;let r=(0,c.Pj)(t,{type:"struct"});a.push(r)}if(!a.length)throw new o.X9({signature:r});t[n.name]=a}let u={},h=Object.entries(t),f=h.length;for(let e=0;e<f;e++){let[r,o]=h[e];u[r]=function e(t,r,o=new Set){let l=[],u=t.length;for(let h=0;h<u;h++){let u=t[h];if(i.wj.test(u.type))l.push(u);else{let t=(0,i.Yv)(d,u.type);if(!t?.type)throw new s.nx({abiParameter:u});let{array:h,type:f}=t;if(f in r){if(o.has(f))throw new a.F({type:f});l.push({...u,type:`tuple${h??""}`,components:e(r[f]??[],r,new Set([...o,f]))})}else if((0,c._o)(f))l.push(u);else throw new n.zz({type:f})}}return l}(o,t)}return u}let d=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/},25041:(e,t,r)=>{"use strict";r.d(t,{A:()=>V});var i=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{i.insertRule(e,i.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),n=Math.abs,s=String.fromCharCode,o=Object.assign;function a(e,t,r){return e.replace(t,r)}function l(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function u(e,t,r){return e.slice(t,r)}function d(e){return e.length}function h(e,t){return t.push(e),e}var f=1,p=1,g=0,y=0,m=0,b="";function v(e,t,r,i,n,s,o){return{value:e,root:t,parent:r,type:i,props:n,children:s,line:f,column:p,length:o,return:""}}function w(e,t){return o(v("",null,null,"",null,null,0),e,{length:-e.length},t)}function x(){return m=y<g?c(b,y++):0,p++,10===m&&(p=1,f++),m}function E(){return c(b,y)}function S(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(e){return f=p=1,g=d(b=e),y=0,[]}function C(e){var t,r;return(t=y-1,r=function e(t){for(;x();)switch(m){case t:return y;case 34:case 39:34!==t&&39!==t&&e(m);break;case 40:41===t&&e(t);break;case 92:x()}return y}(91===e?e+2:40===e?e+1:e),u(b,t,r)).trim()}var A="-ms-",D="-moz-",O="-webkit-",_="comm",R="rule",N="decl",P="@keyframes";function j(e,t){for(var r="",i=e.length,n=0;n<i;n++)r+=t(e[n],n,e,t)||"";return r}function k(e,t,r,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case N:return e.return=e.return||e.value;case _:return"";case P:return e.return=e.value+"{"+j(e.children,i)+"}";case R:e.value=e.props.join(",")}return d(r=j(e.children,i))?e.return=e.value+"{"+r+"}":""}function L(e,t,r,i,s,o,l,c,d,h,f){for(var p=s-1,g=0===s?o:[""],y=g.length,m=0,b=0,w=0;m<i;++m)for(var x=0,E=u(e,p+1,p=n(b=l[m])),S=e;x<y;++x)(S=(b>0?g[x]+" "+E:a(E,/&\f/g,g[x])).trim())&&(d[w++]=S);return v(e,t,r,0===s?R:c,d,h,f)}function B(e,t,r,i){return v(e,t,r,N,u(e,0,i),u(e,i+1,-1),i)}var M=function(e,t,r){for(var i=0,n=0;i=n,n=E(),38===i&&12===n&&(t[r]=1),!S(n);)x();return u(b,e,y)},U=function(e,t){var r=-1,i=44;do switch(S(i)){case 0:38===i&&12===E()&&(t[r]=1),e[r]+=M(y-1,t,r);break;case 2:e[r]+=C(i);break;case 4:if(44===i){e[++r]=58===E()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=s(i)}while(i=x());return e},F=function(e,t){var r;return r=U(I(e),t),b="",r},q=new WeakMap,$=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||q.get(r))&&!i){q.set(e,!0);for(var n=[],s=F(t,n),o=r.props,a=0,l=0;a<s.length;a++)for(var c=0;c<o.length;c++,l++)e.props[l]=n[a]?s[a].replace(/&\f/g,o[c]):o[c]+" "+s[a]}}},z=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},K=[function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case N:e.return=function e(t,r){switch(45^c(t,0)?(((r<<2^c(t,0))<<2^c(t,1))<<2^c(t,2))<<2^c(t,3):0){case 5103:return O+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return O+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return O+t+D+t+A+t+t;case 6828:case 4268:return O+t+A+t+t;case 6165:return O+t+A+"flex-"+t+t;case 5187:return O+t+a(t,/(\w+).+(:[^]+)/,O+"box-$1$2"+A+"flex-$1$2")+t;case 5443:return O+t+A+"flex-item-"+a(t,/flex-|-self/,"")+t;case 4675:return O+t+A+"flex-line-pack"+a(t,/align-content|flex-|-self/,"")+t;case 5548:return O+t+A+a(t,"shrink","negative")+t;case 5292:return O+t+A+a(t,"basis","preferred-size")+t;case 6060:return O+"box-"+a(t,"-grow","")+O+t+A+a(t,"grow","positive")+t;case 4554:return O+a(t,/([^-])(transform)/g,"$1"+O+"$2")+t;case 6187:return a(a(a(t,/(zoom-|grab)/,O+"$1"),/(image-set)/,O+"$1"),t,"")+t;case 5495:case 3959:return a(t,/(image-set\([^]*)/,O+"$1$`$1");case 4968:return a(a(t,/(.+:)(flex-)?(.*)/,O+"box-pack:$3"+A+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+O+t+t;case 4095:case 3583:case 4068:case 2532:return a(t,/(.+)-inline(.+)/,O+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(t)-1-r>6)switch(c(t,r+1)){case 109:if(45!==c(t,r+4))break;case 102:return a(t,/(.+:)(.+)-([^]+)/,"$1"+O+"$2-$3$1"+D+(108==c(t,r+3)?"$3":"$2-$3"))+t;case 115:return~l(t,"stretch")?e(a(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(115!==c(t,r+1))break;case 6444:switch(c(t,d(t)-3-(~l(t,"!important")&&10))){case 107:return a(t,":",":"+O)+t;case 101:return a(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+O+(45===c(t,14)?"inline-":"")+"box$3$1"+O+"$2$3$1"+A+"$2box$3")+t}break;case 5936:switch(c(t,r+11)){case 114:return O+t+A+a(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return O+t+A+a(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return O+t+A+a(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return O+t+A+t+t}return t}(e.value,e.length);break;case P:return j([w(e,{value:a(e.value,"@","@"+O)})],i);case R:if(e.length){var n,s;return n=e.props,s=function(t){var r;switch(r=t,(r=/(::plac\w+|:read-\w+)/.exec(r))?r[0]:r){case":read-only":case":read-write":return j([w(e,{props:[a(t,/:(read-\w+)/,":"+D+"$1")]})],i);case"::placeholder":return j([w(e,{props:[a(t,/:(plac\w+)/,":"+O+"input-$1")]}),w(e,{props:[a(t,/:(plac\w+)/,":"+D+"$1")]}),w(e,{props:[a(t,/:(plac\w+)/,A+"input-$1")]})],i)}return""},n.map(s).join("")}}}],V=function(e){var t,r,n,o,g,w=e.key;if("css"===w){var A=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(A,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var D=e.stylisPlugins||K,O={},R=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+w+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)O[t[r]]=!0;R.push(e)});var N=(r=(t=[$,z].concat(D,[k,(n=function(e){g.insert(e)},function(e){!e.root&&(e=e.return)&&n(e)})])).length,function(e,i,n,s){for(var o="",a=0;a<r;a++)o+=t[a](e,i,n,s)||"";return o}),P=function(e){var t,r;return j((r=function e(t,r,i,n,o,g,w,I,A){for(var D,O=0,R=0,N=w,P=0,j=0,k=0,M=1,U=1,F=1,q=0,$="",z=o,K=g,V=n,H=$;U;)switch(k=q,q=x()){case 40:if(108!=k&&58==c(H,N-1)){-1!=l(H+=a(C(q),"&","&\f"),"&\f")&&(F=-1);break}case 34:case 39:case 91:H+=C(q);break;case 9:case 10:case 13:case 32:H+=function(e){for(;m=E();)if(m<33)x();else break;return S(e)>2||S(m)>3?"":" "}(k);break;case 92:H+=function(e,t){for(var r;--t&&x()&&!(m<48)&&!(m>102)&&(!(m>57)||!(m<65))&&(!(m>70)||!(m<97)););return r=y+(t<6&&32==E()&&32==x()),u(b,e,r)}(y-1,7);continue;case 47:switch(E()){case 42:case 47:h((D=function(e,t){for(;x();)if(e+m===57)break;else if(e+m===84&&47===E())break;return"/*"+u(b,t,y-1)+"*"+s(47===e?e:x())}(x(),y),v(D,r,i,_,s(m),u(D,2,-2),0)),A);break;default:H+="/"}break;case 123*M:I[O++]=d(H)*F;case 125*M:case 59:case 0:switch(q){case 0:case 125:U=0;case 59+R:-1==F&&(H=a(H,/\f/g,"")),j>0&&d(H)-N&&h(j>32?B(H+";",n,i,N-1):B(a(H," ","")+";",n,i,N-2),A);break;case 59:H+=";";default:if(h(V=L(H,r,i,O,R,o,I,$,z=[],K=[],N),g),123===q)if(0===R)e(H,r,V,V,z,g,N,I,K);else switch(99===P&&110===c(H,3)?100:P){case 100:case 108:case 109:case 115:e(t,V,V,n&&h(L(t,V,V,0,0,o,I,$,o,z=[],N),K),o,K,N,I,n?z:K);break;default:e(H,V,V,V,[""],K,0,I,K)}}O=R=j=0,M=F=1,$=H="",N=w;break;case 58:N=1+d(H),j=k;default:if(M<1){if(123==q)--M;else if(125==q&&0==M++&&125==(m=y>0?c(b,--y):0,p--,10===m&&(p=1,f--),m))continue}switch(H+=s(q),q*M){case 38:F=R>0?1:(H+="\f",-1);break;case 44:I[O++]=(d(H)-1)*F,F=1;break;case 64:45===E()&&(H+=C(x())),P=E(),R=N=d($=H+=function(e){for(;!S(E());)x();return u(b,e,y)}(y)),q++;break;case 45:45===k&&2==d(H)&&(M=0)}}return g}("",null,null,null,[""],t=I(t=e),0,[0],t),b="",r),N)},M={key:w,sheet:new i({key:w,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:O,registered:{},insert:function(e,t,r,i){g=r,P(e?e+"{"+t.styles+"}":t.styles),i&&(M.inserted[t.name]=!0)}};return M.sheet.hydrate(R),M}},26715:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>a,jE:()=>o});var i=r(12115),n=r(95155),s=i.createContext(void 0),o=e=>{let t=i.useContext(s);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},a=e=>{let{client:t,children:r}=e;return i.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,n.jsx)(s.Provider,{value:t,children:r})}},26884:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))})},27104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},27305:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},27572:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))})},28094:(e,t,r)=>{"use strict";t.g=void 0;let i=r(621);t.g=function(){let e,t,r;try{e=i.getDocumentOrThrow(),t=i.getLocationOrThrow()}catch(e){return null}function n(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let i=r[e],n=["itemprop","property","name"].map(e=>i.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(n.length&&n){let e=i.getAttribute("content");if(e)return e}}return""}let s=((r=n("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),o=n("description","og:description","twitter:description","keywords"),a=t.origin;return{description:o,url:a,icons:function(){let r=e.getElementsByTagName("link"),i=[];for(let e=0;e<r.length;e++){let n=r[e],s=n.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){let e=n.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let i=t.pathname.split("/");i.pop(),r+=i.join("/")+"/"+e}i.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;i.push(r)}else i.push(e)}}return i}(),name:s}}},28185:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>h,Fc:()=>c,Id:()=>d,O8:()=>o,qv:()=>l,po:()=>p,Ow:()=>a,ZJ:()=>u,DH:()=>s,ld:()=>f});let i="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var n=r(61947);function s(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function o(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function a(e,t){return e<<32-t|e>>>t}let l=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function c(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}}function u(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),(0,n.DO)(e),e}function d(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];(0,n.DO)(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}class h{clone(){return this._cloneInto()}}function f(e){let t=t=>e().update(u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function p(e=32){if(i&&"function"==typeof i.getRandomValues)return i.getRandomValues(new Uint8Array(e));if(i&&"function"==typeof i.randomBytes)return i.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}},28755:(e,t,r)=>{"use strict";r.d(t,{I:()=>h});var i=r(22761),n=r(12115),s=r(22447),o=r(13330),a=r(26715),l=r(80382),c=r(22450),u=r(61581),d=r(4791);function h(e,t){return function(e,t,r){var i,h,f,p,g;let y=(0,u.w)(),m=(0,l.h)(),b=(0,a.jE)(r),v=b.defaultQueryOptions(e);null==(h=b.getDefaultOptions().queries)||null==(i=h._experimental_beforeQuery)||i.call(h,v),v._optimisticResults=y?"isRestoring":"optimistic",(0,d.jv)(v),(0,c.LJ)(v,m),(0,c.wZ)(m);let w=!b.getQueryCache().get(v.queryHash),[x]=n.useState(()=>new t(b,v)),E=x.getOptimisticResult(v),S=!y&&!1!==e.subscribed;if(n.useSyncExternalStore(n.useCallback(e=>{let t=S?x.subscribe(s.jG.batchCalls(e)):o.lQ;return x.updateResult(),t},[x,S]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),n.useEffect(()=>{x.setOptions(v)},[v,x]),(0,d.EU)(v,E))throw(0,d.iL)(v,x,m);if((0,c.$1)({result:E,errorResetBoundary:m,throwOnError:v.throwOnError,query:b.getQueryCache().get(v.queryHash),suspense:v.suspense}))throw E.error;if(null==(p=b.getDefaultOptions().queries)||null==(f=p._experimental_afterQuery)||f.call(p,v,E),v.experimental_prefetchInRender&&!o.S$&&(0,d.nE)(E,y)){let e=w?(0,d.iL)(v,x,m):null==(g=b.getQueryCache().get(v.queryHash))?void 0:g.promise;null==e||e.catch(o.lQ).finally(()=>{x.updateResult()})}return v.notifyOnChangeProps?E:x.trackResult(E)}(e,i.$,t)}},28960:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},29509:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))})},29611:(e,t,r)=>{"use strict";function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(null,arguments)}r.d(t,{A:()=>y});var n=r(64453),s=r(77726),o=r(38862),a=r(8816),l=r(12115),c=r(14088),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,c.A)(function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)}),h=function(e){return"theme"!==e},f=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?d:h},p=function(e,t,r){var i;if(t){var n=t.shouldForwardProp;i=e.__emotion_forwardProp&&n?function(t){return e.__emotion_forwardProp(t)&&n(t)}:n}return"function"!=typeof i&&r&&(i=e.__emotion_forwardProp),i},g=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return(0,a.SF)(t,r,i),(0,o.s)(function(){return(0,a.sk)(t,r,i)}),null},y=(function e(t,r){var o,c,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==r&&(o=r.label,c=r.target);var h=p(t,r,u),y=h||f(d),m=!y("as");return function(){var b=arguments,v=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&v.push("label:"+o+";"),null==b[0]||void 0===b[0].raw)v.push.apply(v,b);else{var w=b[0];v.push(w[0]);for(var x=b.length,E=1;E<x;E++)v.push(b[E],w[E])}var S=(0,n.w)(function(e,t,r){var i=m&&e.as||d,o="",u=[],p=e;if(null==e.theme){for(var b in p={},e)p[b]=e[b];p.theme=l.useContext(n.T)}"string"==typeof e.className?o=(0,a.Rk)(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var w=(0,s.J)(v.concat(u),t.registered,p);o+=t.key+"-"+w.name,void 0!==c&&(o+=" "+c);var x=m&&void 0===h?f(i):y,E={};for(var S in e)(!m||"as"!==S)&&x(S)&&(E[S]=e[S]);return E.className=o,r&&(E.ref=r),l.createElement(l.Fragment,null,l.createElement(g,{cache:t,serialized:w,isStringTag:"string"==typeof i}),l.createElement(i,E))});return S.displayName=void 0!==o?o:"Styled("+("string"==typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=v,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+c}}),S.withComponent=function(t,n){return e(t,i({},r,n,{shouldForwardProp:p(S,n,!0)})).apply(void 0,v)},S}}).bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){y[e]=y(e)})},29675:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))})},30294:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case g:case l:return e;default:return t}}case n:return t}}}function E(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=s,t.Lazy=y,t.Memo=g,t.Portal=n,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||x(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===s},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===n},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===a||e===o||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===v||e.$$typeof===w||e.$$typeof===m)},t.typeOf=x},30565:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>tx,FA:()=>tS,TZ:()=>tE,UF:()=>tw});var i=r(89101),n=r(71075);function s(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let a="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,l=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function c(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),s(e),e}class u{clone(){return this._cloneInto()}}function d(e=32){if(a&&"function"==typeof a.getRandomValues)return a.getRandomValues(new Uint8Array(e));if(a&&"function"==typeof a.randomBytes)return a.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class h extends u{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l(this.buffer)}update(e){o(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=c(e)).length;for(let s=0;s<n;){let o=Math.min(i-this.pos,n-s);if(o===i){let t=l(e);for(;i<=n-s;s+=i)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){o(this),function(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>n&s),a=Number(r&s),l=4*!!i,c=4*!i;e.setUint32(t+l,o,i),e.setUint32(t+c,a,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);let c=l(e),u=this.outputLen;if(u%4)throw Error("_sha2: outputLen should be aligned to 32bit");let d=u/4,h=this.get();if(d>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)c.setUint32(4*e,h[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}let f=BigInt(0x100000000-1),p=BigInt(32),g={split:function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){let{h:s,l:o}=function(e,t=!1){return t?{h:Number(e&f),l:Number(e>>p&f)}:{h:0|Number(e>>p&f),l:0|Number(e&f)}}(e[n],t);[r[n],i[n]]=[s,o]}return[r,i]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/0x100000000|0)|0,l:0|n}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/0x100000000|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/0x100000000|0)|0,add5H:(e,t,r,i,n,s)=>t+r+i+n+s+(e/0x100000000|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)},[y,m]=g.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),b=new Uint32Array(80),v=new Uint32Array(80);class w extends h{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,i,n,s,o,a,l,c,u,d,h,f,p,g]}set(e,t,r,i,n,s,o,a,l,c,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)b[r]=e.getUint32(t),v[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|b[e-15],r=0|v[e-15],i=g.rotrSH(t,r,1)^g.rotrSH(t,r,8)^g.shrSH(t,r,7),n=g.rotrSL(t,r,1)^g.rotrSL(t,r,8)^g.shrSL(t,r,7),s=0|b[e-2],o=0|v[e-2],a=g.rotrSH(s,o,19)^g.rotrBH(s,o,61)^g.shrSH(s,o,6),l=g.rotrSL(s,o,19)^g.rotrBL(s,o,61)^g.shrSL(s,o,6),c=g.add4L(n,l,v[e-7],v[e-16]),u=g.add4H(c,i,a,b[e-7],b[e-16]);b[e]=0|u,v[e]=0|c}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:w,Hh:x,Hl:E}=this;for(let e=0;e<80;e++){let t=g.rotrSH(u,d,14)^g.rotrSH(u,d,18)^g.rotrBH(u,d,41),S=g.rotrSL(u,d,14)^g.rotrSL(u,d,18)^g.rotrBL(u,d,41),I=u&h^~u&p,C=d&f^~d&w,A=g.add5L(E,S,C,m[e],v[e]),D=g.add5H(A,x,t,I,y[e],b[e]),O=0|A,_=g.rotrSH(r,i,28)^g.rotrBH(r,i,34)^g.rotrBH(r,i,39),R=g.rotrSL(r,i,28)^g.rotrBL(r,i,34)^g.rotrBL(r,i,39),N=r&n^r&o^n&o,P=i&s^i&a^s&a;x=0|p,E=0|w,p=0|h,w=0|f,h=0|u,f=0|d,({h:u,l:d}=g.add(0|l,0|c,0|D,0|O)),l=0|o,c=0|a,o=0|n,a=0|s,n=0|r,s=0|i;let j=g.add3L(O,R,P);r=g.add3H(j,D,_,N),i=0|j}({h:r,l:i}=g.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=g.add(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:a}=g.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=g.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=g.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=g.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:w}=g.add(0|this.Gh,0|this.Gl,0|p,0|w)),({h:x,l:E}=g.add(0|this.Hh,0|this.Hl,0|x,0|E)),this.set(r,i,n,s,o,a,l,c,u,d,h,f,p,w,x,E)}roundClean(){b.fill(0),v.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let x=function(e){let t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new w),E=BigInt(0),S=BigInt(1),I=BigInt(2);function C(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function A(e){if(!C(e))throw Error("Uint8Array expected")}function D(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let O=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _(e){A(e);let t="";for(let r=0;r<e.length;r++)t+=O[e[r]];return t}function R(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?E:BigInt("0x"+e)}let N={_0:48,_9:57,A:65,F:70,a:97,f:102};function P(e){return e>=N._0&&e<=N._9?e-N._0:e>=N.A&&e<=N.F?e-(N.A-10):e>=N.a&&e<=N.f?e-(N.a-10):void 0}function j(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=P(e.charCodeAt(n)),s=P(e.charCodeAt(n+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+s}return i}function k(e){return A(e),R(_(Uint8Array.from(e).reverse()))}function L(e,t){return j(e.toString(16).padStart(2*t,"0"))}function B(e,t){return L(e,t).reverse()}function M(e,t,r){let i;if("string"==typeof t)try{i=j(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(C(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=i.length;if("number"==typeof r&&n!==r)throw Error(e+" of length "+r+" expected, got "+n);return i}function U(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];A(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}let F=e=>"bigint"==typeof e&&E<=e;function q(e,t,r,i){if(!(F(t)&&F(r)&&F(i))||!(r<=t)||!(t<i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}let $={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||C(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function z(e,t,r={}){let i=(t,r,i)=>{let n=$[r];if("function"!=typeof n)throw Error("invalid validator function");let s=e[t];if(!(i&&void 0===s)&&!n(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}function K(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let s=e(r,...i);return t.set(r,s),s}}let V=BigInt(0),H=BigInt(1),W=BigInt(2),Q=BigInt(3),J=BigInt(4),Y=BigInt(5),G=BigInt(8);function Z(e,t){let r=e%t;return r>=V?r:t+r}function X(e,t,r){let i=e;for(;t-- >V;)i*=i,i%=r;return i}function ee(e,t){if(e===V)throw Error("invert: expected non-zero number");if(t<=V)throw Error("invert: expected positive modulus, got "+t);let r=Z(e,t),i=t,n=V,s=H;for(;r!==V;){let e=i/r,t=i%r,o=n-s*e;i=r,r=t,n=s,s=o}if(i!==H)throw Error("invert: does not exist");return Z(n,t)}let et=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function er(e,t){let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function ei(e,t,r=!1,i={}){let n;if(e<=V)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:o}=er(e,t);if(o>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:(I<<BigInt(s-1))-S,ZERO:V,ONE:H,create:t=>Z(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return V<=t&&t<e},is0:e=>e===V,isOdd:e=>(e&H)===H,neg:t=>Z(-t,e),eql:(e,t)=>e===t,sqr:t=>Z(t*t,e),add:(t,r)=>Z(t+r,e),sub:(t,r)=>Z(t-r,e),mul:(t,r)=>Z(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<V)throw Error("invalid exponent, negatives unsupported");if(r===V)return e.ONE;if(r===H)return t;let i=e.ONE,n=t;for(;r>V;)r&H&&(i=e.mul(i,n)),n=e.sqr(n),r>>=H;return i})(a,e,t),div:(t,r)=>Z(t*ee(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ee(t,e),sqrt:i.sqrt||(t=>(n||(n=function(e){if(e%J===Q){let t=(e+H)/J;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}if(e%G===Y){let t=(e-Y)/G;return function(e,r){let i=e.mul(r,W),n=e.pow(i,t),s=e.mul(r,n),o=e.mul(e.mul(s,W),n),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,i,n=(e-H)/W;for(t=e-H,r=0;t%W===V;t/=W,r++);for(i=W;i<e&&function(e,t,r){if(t<V)throw Error("invalid exponent, negatives unsupported");if(r<=V)throw Error("invalid modulus");if(r===H)return V;let i=H;for(;t>V;)t&H&&(i=i*e%r),e=e*e%r,t>>=H;return i}(i,n,e)!==e-H;i++)if(i>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+H)/J;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}let s=(t+H)/W;return function(e,o){if(e.pow(o,n)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),t),c=e.pow(o,s),u=e.pow(o,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,H<<BigInt(a-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),a=t}return c}}(e)}(e)),n(a,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),i=t.reduce((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i)),e.ONE),n=e.inv(i);return t.reduceRight((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i)),n),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?B(e,o):L(e,o),fromBytes:e=>{if(e.length!==o)throw Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return r?k(e):R(_(e))}});return Object.freeze(a)}let en=BigInt(0),es=BigInt(1);function eo(e,t){let r=t.negate();return e?r:t}function ea(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function el(e,t){return ea(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let ec=new WeakMap,eu=new WeakMap;function ed(e){return eu.get(e)||1}let eh=BigInt(0),ef=BigInt(1),ep=BigInt(2),eg=BigInt(8),ey={zip215:!0};BigInt(0),BigInt(1);let em=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eb=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let ev=BigInt(1),ew=BigInt(2);BigInt(3);let ex=BigInt(5),eE=BigInt(8),eS=ei(em,void 0,!0),eI=function(e){var t;let r=function(e){let t=(z(e.Fp,et.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),z(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...er(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return z(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:i,n:n,prehash:s,hash:o,randomBytes:a,nByteLength:l,h:c}=r,u=ep<<BigInt(8*l)-ef,d=i.create,h=ei(r.n,r.nBitLength),f=r.uvRatio||((e,t)=>{try{return{isValid:!0,value:i.sqrt(e*i.inv(t))}}catch{return{isValid:!1,value:eh}}}),p=r.adjustScalarBytes||(e=>e),g=r.domain||((e,t,r)=>{if(D("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function y(e,t){q("coordinate "+e,t,eh,u)}function m(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let b=K((e,t)=>{let{ex:r,ey:n,ez:s}=e,o=e.is0();null==t&&(t=o?eg:i.inv(s));let a=d(r*t),l=d(n*t),c=d(s*t);if(o)return{x:eh,y:ef};if(c!==ef)throw Error("invZ was invalid");return{x:a,y:l}}),v=K(e=>{let{a:t,d:i}=r;if(e.is0())throw Error("bad point: ZERO");let{ex:n,ey:s,ez:o,et:a}=e,l=d(n*n),c=d(s*s),u=d(o*o),h=d(u*u),f=d(l*t);if(d(u*d(f+c))!==d(h+d(i*d(l*c))))throw Error("bad point: equation left != right (1)");if(d(n*s)!==d(o*a))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,i){this.ex=e,this.ey=t,this.ez=r,this.et=i,y("x",e),y("y",t),y("z",r),y("t",i),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return y("x",t),y("y",r),new w(t,r,ef,d(t*r))}static normalizeZ(e){let t=i.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(w.fromAffine)}static msm(e,t){return function(e,t,r,i){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(i,t),r.length!==i.length)throw Error("arrays of points and scalars must have equal length");let n=e.ZERO,s=function(e){let t;for(t=0;e>E;e>>=S,t+=1);return t}(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=Array(a+1).fill(n),c=Math.floor((t.BITS-1)/o)*o,u=n;for(let e=c;e>=0;e-=o){l.fill(n);for(let t=0;t<i.length;t++){let n=Number(i[t]>>BigInt(e)&BigInt(a));l[n]=l[n].add(r[t])}let t=n;for(let e=l.length-1,r=n;e>0;e--)r=r.add(l[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<o;e++)u=u.double()}return u}(w,h,e,t)}_setWindowSize(e){C.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){m(e);let{ex:t,ey:r,ez:i}=this,{ex:n,ey:s,ez:o}=e,a=d(t*o),l=d(n*i),c=d(r*o),u=d(s*i);return a===l&&c===u}is0(){return this.equals(w.ZERO)}negate(){return new w(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){let{a:e}=r,{ex:t,ey:i,ez:n}=this,s=d(t*t),o=d(i*i),a=d(ep*d(n*n)),l=d(e*s),c=t+i,u=d(d(c*c)-s-o),h=l+o,f=h-a,p=l-o,g=d(u*f),y=d(h*p),m=d(u*p);return new w(g,y,d(f*h),m)}add(e){m(e);let{a:t,d:i}=r,{ex:n,ey:s,ez:o,et:a}=this,{ex:l,ey:c,ez:u,et:h}=e;if(t===BigInt(-1)){let e=d((s-n)*(c+l)),t=d((s+n)*(c-l)),r=d(t-e);if(r===eh)return this.double();let i=d(o*ep*h),f=d(a*ep*u),p=f+i,g=t+e,y=f-i,m=d(p*r),b=d(g*y),v=d(p*y);return new w(m,b,d(r*g),v)}let f=d(n*l),p=d(s*c),g=d(a*i*h),y=d(o*u),b=d((n+s)*(l+c)-f-p),v=y-g,x=y+g,E=d(p-t*f),S=d(b*v),I=d(x*E),C=d(b*E);return new w(S,I,d(v*x),C)}subtract(e){return this.add(e.negate())}wNAF(e){return C.wNAFCached(this,e,w.normalizeZ)}multiply(e){q("scalar",e,ef,n);let{p:t,f:r}=this.wNAF(e);return w.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=w.ZERO){return q("scalar",e,eh,n),e===eh?I:this.is0()||e===ef?this:C.wNAFCachedUnsafe(this,e,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return C.unsafeLadder(this,n).is0()}toAffine(e){return b(this,e)}clearCofactor(){let{h:e}=r;return e===ef?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:n,a:s}=r,o=i.BYTES;e=M("pointHex",e,o),D("zip215",t);let a=e.slice(),l=e[o-1];a[o-1]=-129&l;let c=k(a);q("pointHex.y",c,eh,t?u:i.ORDER);let h=d(c*c),{isValid:p,value:g}=f(d(h-ef),d(n*h-s));if(!p)throw Error("Point.fromHex: invalid y coordinate");let y=(g&ef)===ef,m=(128&l)!=0;if(!t&&g===eh&&m)throw Error("Point.fromHex: x=0 and x_0=1");return m!==y&&(g=d(-g)),w.fromAffine({x:g,y:c})}static fromPrivateKey(e){return A(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=B(t,i.BYTES);return r[r.length-1]|=e&ef?128:0,r}toHex(){return _(this.toRawBytes())}}w.BASE=new w(r.Gx,r.Gy,ef,d(r.Gx*r.Gy)),w.ZERO=new w(eh,ef,ef,eh);let{BASE:x,ZERO:I}=w,C=(t=8*l,{constTimeNegate:eo,hasPrecomputes:e=>1!==ed(e),unsafeLadder(e,t,r=w.ZERO){let i=e;for(;t>en;)t&es&&(r=r.add(i)),i=i.double(),t>>=es;return r},precomputeWindow(e,r){let{windows:i,windowSize:n}=el(r,t),s=[],o=e,a=o;for(let e=0;e<i;e++){a=o,s.push(a);for(let e=1;e<n;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,r,i){let{windows:n,windowSize:s}=el(e,t),o=w.ZERO,a=w.BASE,l=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let e=0;e<n;e++){let t=e*s,n=Number(i&l);i>>=u,n>s&&(n-=c,i+=es);let d=t+Math.abs(n)-1,h=e%2!=0,f=n<0;0===n?a=a.add(eo(h,r[t])):o=o.add(eo(f,r[d]))}return{p:o,f:a}},wNAFUnsafe(e,r,i,n=w.ZERO){let{windows:s,windowSize:o}=el(e,t),a=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<s;e++){let t=e*o;if(i===en)break;let s=Number(i&a);if(i>>=c,s>o&&(s-=l,i+=es),0===s)continue;let u=r[t+Math.abs(s)-1];s<0&&(u=u.negate()),n=n.add(u)}return n},getPrecomputes(e,t,r){let i=ec.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&ec.set(t,r(i))),i},wNAFCached(e,t,r){let i=ed(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)},wNAFCachedUnsafe(e,t,r,i){let n=ed(e);return 1===n?this.unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)},setWindowSize(e,r){ea(r,t),eu.set(e,r),ec.delete(e)}});function A(e){let t=i.BYTES;e=M("private key",e,t);let r=M("hashed private key",o(e),2*t),s=p(r.slice(0,t)),a=r.slice(t,2*t),l=Z(k(s),n),c=x.multiply(l),u=c.toRawBytes();return{head:s,prefix:a,scalar:l,point:c,pointBytes:u}}function O(e=new Uint8Array,...t){return Z(k(o(g(U(...t),M("context",e),!!s))),n)}return x._setWindowSize(8),{CURVE:r,getPublicKey:function(e){return A(e).pointBytes},sign:function(e,t,r={}){e=M("message",e),s&&(e=s(e));let{prefix:o,scalar:a,pointBytes:l}=A(t),c=O(r.context,o,e),u=x.multiply(c).toRawBytes(),d=Z(c+O(r.context,u,l,e)*a,n);return q("signature.s",d,eh,n),M("result",U(u,B(d,i.BYTES)),2*i.BYTES)},verify:function(e,t,r,n=ey){let o,a,l,{context:c,zip215:u}=n,d=i.BYTES;e=M("signature",e,2*d),t=M("message",t),r=M("publicKey",r,d),void 0!==u&&D("zip215",u),s&&(t=s(t));let h=k(e.slice(d,2*d));try{o=w.fromHex(r,u),a=w.fromHex(e.slice(0,d),u),l=x.multiplyUnsafe(h)}catch{return!1}if(!u&&o.isSmallOrder())return!1;let f=O(c,a.toRawBytes(),o.toRawBytes(),t);return a.add(o.multiplyUnsafe(f)).subtract(l).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>a(i.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eS,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:eE,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:x,randomBytes:d,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=Z(t*t*t,em),i=function(e){let t=BigInt(10),r=BigInt(20),i=BigInt(40),n=BigInt(80),s=e*e%em*e%em,o=X(s,ew,em)*s%em,a=X(o,ev,em)*e%em,l=X(a,ex,em)*a%em,c=X(l,t,em)*l%em,u=X(c,r,em)*c%em,d=X(u,i,em)*u%em,h=X(d,n,em)*d%em,f=X(h,n,em)*d%em,p=X(f,t,em)*l%em;return{pow_p_5_8:X(p,ew,em)*e%em,b2:s}}(e*Z(r*r*t,em)).pow_p_5_8,n=Z(e*r*i,em),s=Z(t*n*n,em),o=n,a=Z(n*eb,em),l=s===e,c=s===Z(-e,em),u=s===Z(-e*eb,em);return l&&(n=o),(c||u)&&(n=a),(Z(n,em)&H)===H&&(n=Z(-n,em)),{isValid:l||c,value:n}}}),eC="base64url",eA="utf8",eD="utf8",eO="base58btc";function e_(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function eR(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?e_(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function eN(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=eR(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return e_(r)}var eP=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=n}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===l;)i++,t++;for(var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<n)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,c=new Uint8Array(o);n!==s;){for(var d=t[n],h=0,f=o-1;(0!==d||h<i)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");i=h,n++}for(var p=o-i;p!==o&&0===c[p];)p++;for(var g=l.repeat(r);p<o;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let ej=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class ek{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class eT{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return eB(this,e)}}class eL{constructor(e){this.decoders=e}or(e){return eB(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let eB=(e,t)=>new eL({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class eM{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new ek(e,t,r),this.decoder=new eT(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let eU=({name:e,prefix:t,encode:r,decode:i})=>new eM(e,t,r,i),eF=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:n}=eP(r,t);return eU({prefix:e,name:t,encode:i,decode:e=>ej(n(e))})},eq=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>eU({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,s="",o=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,l=0,c=0;for(let t=0;t<s;++t){let s=n[e[t]];if(void 0===s)throw SyntaxError(`Non-${i} character`);l=l<<r|s,(a+=r)>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,i,r,e)});var e$=Object.freeze({__proto__:null,identity:eU({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),ez=Object.freeze({__proto__:null,base2:eq({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),eK=Object.freeze({__proto__:null,base8:eq({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),eV=Object.freeze({__proto__:null,base10:eF({prefix:"9",name:"base10",alphabet:"0123456789"})}),eH=Object.freeze({__proto__:null,base16:eq({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:eq({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let eW=eq({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eQ=eq({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eJ=eq({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eY=eq({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eG=eq({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eZ=eq({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eX=eq({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var e0=Object.freeze({__proto__:null,base32:eW,base32upper:eQ,base32pad:eJ,base32padupper:eY,base32hex:eG,base32hexupper:eZ,base32hexpad:eX,base32hexpadupper:eq({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:eq({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),e1=Object.freeze({__proto__:null,base36:eF({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:eF({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),e2=Object.freeze({__proto__:null,base58btc:eF({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:eF({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let e5=eq({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),e3=eq({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var e4=Object.freeze({__proto__:null,base64:e5,base64pad:e3,base64url:eq({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:eq({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let e8=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),e6=e8.reduce((e,t,r)=>(e[r]=t,e),[]),e9=e8.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var e7=Object.freeze({__proto__:null,base256emoji:eU({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=e6[t],"")},decode:function(e){let t=[];for(let r of e){let e=e9[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function te(e,t,r){t=t||[],r=r||0;for(var i=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,te.bytes=r-i+1,t}var tt={encode:te,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let tr=(e,t,r=0)=>(tt.encode(e,t,r),t),ti=e=>tt.encodingLength(e),tn=(e,t)=>{let r=t.byteLength,i=ti(e),n=i+ti(r),s=new Uint8Array(n+r);return tr(e,s,0),tr(r,s,i),s.set(t,n),new ts(e,r,t,s)};class ts{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let to=({name:e,code:t,encode:r})=>new ta(e,t,r);class ta{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?tn(this.code,t):t.then(e=>tn(this.code,e))}throw Error("Unknown type, must be binary type")}}let tl=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var tc=Object.freeze({__proto__:null,sha256:to({name:"sha2-256",code:18,encode:tl("SHA-256")}),sha512:to({name:"sha2-512",code:19,encode:tl("SHA-512")})}),tu=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:ej,digest:e=>tn(0,ej(e))}});new TextEncoder,new TextDecoder;let td={...e$,...ez,...eK,...eV,...eH,...e0,...e1,...e2,...e4,...e7};function th(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...tc,...tu});let tf=th("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),tp=th("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=eR((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),tg={utf8:tf,"utf-8":tf,hex:td.base16,latin1:tp,ascii:tp,binary:tp,...td};function ty(e,t="utf8"){let r=tg[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function tm(e,t="utf8"){let r=tg[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?e_(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function tb(e){return(0,n.j)(ty(tm(e,eC),eA))}function tv(e){return ty(tm((0,n.h)(e),eA),eC)}function tw(e){return["did:key","z"+ty(eN([tm("K36",eO),e]),eO)].join(":")}function tx(e){let t=e.split("."),r=tb(t[0]),i=tb(t[1]);return{header:r,payload:i,signature:tm(t[2],eC),data:tm(t.slice(0,2).join("."),eD)}}function tE(e=d(32)){let t=eI.getPublicKey(e);return{secretKey:eN([e,t]),publicKey:t}}async function tS(e,t,r,n,s=(0,i.fromMiliseconds)(Date.now())){let o={alg:"EdDSA",typ:"JWT"},a={iss:tw(n.publicKey),sub:e,aud:t,iat:s,exp:s+r},l=tm([tv((c={header:o,payload:a}).header),tv(c.payload)].join("."),eD);var c,u={header:o,payload:a,signature:eI.sign(l,n.secretKey.slice(0,32))};return[tv(u.header),tv(u.payload),ty(u.signature,eC)].join(".")}},30686:(e,t,r)=>{"use strict";r.d(t,{X9:()=>o,s7:()=>n,x8:()=>s});var i=r(68321);class n extends i.C{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class s extends i.C{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class o extends i.C{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},31498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},31530:(e,t,r)=>{"use strict";r.d(t,{oR:()=>V});var i,n=r(15933),s=r(12115);let o={data:""},a=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l=/\/\*[^]*?\*\/|  +/g,c=/\n+/g,u=(e,t)=>{let r="",i="",n="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?r=s+" "+o+";":i+="f"==s[1]?u(o,s):s+"{"+u(o,"k"==s[1]?"":t)+"}":"object"==typeof o?i+=u(o,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=u.p?u.p(s,o):s+":"+o+";")}return r+(t&&n?t+"{"+n+"}":n)+i},d={},h=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+h(e[r]);return t}return e};function f(e){let t,r,i,n=this||{},s=e.call?e(n.p):e;return((e,t,r,i,n)=>{var s,o,f,p;let g=h(e),y=d[g]||(d[g]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(g));if(!d[y]){let t=g!==e?e:(e=>{let t,r,i=[{}];for(;t=a.exec(e.replace(l,""));)t[4]?i.shift():t[3]?(r=t[3].replace(c," ").trim(),i.unshift(i[0][r]=i[0][r]||{})):i[0][t[1]]=t[2].replace(c," ").trim();return i[0]})(e);d[y]=u(n?{["@keyframes "+y]:t}:t,r?"":"."+y)}let m=r&&d.g?d.g:null;return r&&(d.g=d[y]),s=d[y],o=t,f=i,(p=m)?o.data=o.data.replace(p,s):-1===o.data.indexOf(s)&&(o.data=f?s+o.data:o.data+s),y})(s.unshift?s.raw?(t=[].slice.call(arguments,1),r=n.p,s.reduce((e,i,n)=>{let s=t[n];if(s&&s.call){let e=s(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":u(e,""):!1===e?"":e}return e+i+(null==s?"":s)},"")):s.reduce((e,t)=>Object.assign(e,t&&t.call?t(n.p):t),{}):s,(i=n.target,"object"==typeof window?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||o),n.g,n.o,n.k)}f.bind({g:1});let p,g,y,m=f.bind({k:1});function b(e,t){let r=this||{};return function(){let i=arguments;function n(s,o){let a=Object.assign({},s),l=a.className||n.className;r.p=Object.assign({theme:g&&g()},a),r.o=/ *go\d+/.test(l),a.className=f.apply(r,i)+(l?" "+l:""),t&&(a.ref=o);let c=e;return e[0]&&(c=a.as||e,delete a.as),y&&c[0]&&y(a),p(c,a)}return t?t(n):n}}function v(){let e=(0,n._)(["\nfrom {\n  transform: scale(0) rotate(45deg);\n	opacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]);return v=function(){return e},e}function w(){let e=(0,n._)(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]);return w=function(){return e},e}function x(){let e=(0,n._)(["\nfrom {\n  transform: scale(0) rotate(90deg);\n	opacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n	opacity: 1;\n}"]);return x=function(){return e},e}function E(){let e=(0,n._)(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"]);return E=function(){return e},e}function S(){let e=(0,n._)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return S=function(){return e},e}function I(){let e=(0,n._)(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"]);return I=function(){return e},e}function C(){let e=(0,n._)(["\nfrom {\n  transform: scale(0) rotate(45deg);\n	opacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n	opacity: 1;\n}"]);return C=function(){return e},e}function A(){let e=(0,n._)(["\n0% {\n	height: 0;\n	width: 0;\n	opacity: 0;\n}\n40% {\n  height: 0;\n	width: 6px;\n	opacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]);return A=function(){return e},e}function D(){let e=(0,n._)(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"]);return D=function(){return e},e}function O(){let e=(0,n._)(["\n  position: absolute;\n"]);return O=function(){return e},e}function _(){let e=(0,n._)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]);return _=function(){return e},e}function R(){let e=(0,n._)(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]);return R=function(){return e},e}function N(){let e=(0,n._)(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"]);return N=function(){return e},e}function P(){let e=(0,n._)(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]);return P=function(){return e},e}function j(){let e=(0,n._)(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]);return j=function(){return e},e}function k(){let e=(0,n._)(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]);return k=function(){return e},e}var L=(e,t)=>"function"==typeof e?e(t):e,B=(()=>{let e=0;return()=>(++e).toString()})(),M=(()=>{let e;return()=>{if(void 0===e&&"u">typeof window){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),U=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return U(e,{type:+!!e.toasts.find(e=>e.id===r.id),toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(e=>e.id===i||void 0===i?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let n=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+n}))}}},F=[],q={toasts:[],pausedAt:void 0},$=e=>{q=U(q,e),F.forEach(e=>{e(q)})},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||B()}},K=e=>(t,r)=>{let i=z(t,e,r);return $({type:2,toast:i}),i.id},V=(e,t)=>K("blank")(e,t);V.error=K("error"),V.success=K("success"),V.loading=K("loading"),V.custom=K("custom"),V.dismiss=e=>{$({type:3,toastId:e})},V.remove=e=>$({type:4,toastId:e}),V.promise=(e,t,r)=>{let i=V.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?L(t.success,e):void 0;return n?V.success(n,{id:i,...r,...null==r?void 0:r.success}):V.dismiss(i),e}).catch(e=>{let n=t.error?L(t.error,e):void 0;n?V.error(n,{id:i,...r,...null==r?void 0:r.error}):V.dismiss(i)}),e};var H=m(v()),W=m(w()),Q=m(x());b("div")(E(),e=>e.primary||"#ff4b4b",H,W,e=>e.secondary||"#fff",Q);var J=m(S());b("div")(I(),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",J);var Y=m(C()),G=m(A());b("div")(D(),e=>e.primary||"#61d345",Y,G,e=>e.secondary||"#fff"),b("div")(O()),b("div")(_());var Z=m(R());b("div")(N(),Z),b("div")(P()),b("div")(j()),i=s.createElement,u.p=void 0,p=i,g=void 0,y=void 0,f(k())},32350:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>a});let i=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,s=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function o(e,t){var r;return"__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t?void(r=e,console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)):t}function a(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return NaN;case"infinity":return 1/0;case"-infinity":return-1/0}if(!s.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(i.test(e)||n.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,o)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}},33096:(e,t,r)=>{"use strict";r.d(t,{$p$:()=>P,D3D:()=>h,Gq2:()=>O,KaV:()=>u,MKb:()=>I,O4:()=>b,QGg:()=>k,Rru:()=>W,Srz:()=>l,TdU:()=>w,Vwl:()=>z,YJP:()=>p,_cW:()=>A,_zK:()=>U,a2T:()=>J,c11:()=>q,flY:()=>o,jfu:()=>V,maG:()=>B,pTT:()=>R,raE:()=>E,vKP:()=>y});var i=r(12115);function n(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}var s=["color"],o=(0,i.forwardRef)(function(e,t){var r=e.color,o=n(e,s);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,i.createElement)("path",{d:"M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),a=["color"],l=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,a);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),c=["color"],u=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,c);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),d=["color"],h=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,d);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),f=["color"],p=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,f);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),g=["color"],y=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,g);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),m=["color"],b=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,m);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M7.50009 0.877014C3.84241 0.877014 0.877258 3.84216 0.877258 7.49984C0.877258 11.1575 3.8424 14.1227 7.50009 14.1227C11.1578 14.1227 14.1229 11.1575 14.1229 7.49984C14.1229 3.84216 11.1577 0.877014 7.50009 0.877014ZM1.82726 7.49984C1.82726 4.36683 4.36708 1.82701 7.50009 1.82701C10.6331 1.82701 13.1729 4.36683 13.1729 7.49984C13.1729 10.6328 10.6331 13.1727 7.50009 13.1727C4.36708 13.1727 1.82726 10.6328 1.82726 7.49984ZM8 4.50001C8 4.22387 7.77614 4.00001 7.5 4.00001C7.22386 4.00001 7 4.22387 7 4.50001V7.50001C7 7.63262 7.05268 7.7598 7.14645 7.85357L9.14645 9.85357C9.34171 10.0488 9.65829 10.0488 9.85355 9.85357C10.0488 9.65831 10.0488 9.34172 9.85355 9.14646L8 7.29291V4.50001Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),v=["color"],w=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,v);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),x=["color"],E=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,x);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),S=["color"],I=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,S);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),C=["color"],A=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,C);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704ZM9.85358 5.14644C10.0488 5.3417 10.0488 5.65829 9.85358 5.85355L8.20713 7.49999L9.85358 9.14644C10.0488 9.3417 10.0488 9.65829 9.85358 9.85355C9.65832 10.0488 9.34173 10.0488 9.14647 9.85355L7.50002 8.2071L5.85358 9.85355C5.65832 10.0488 5.34173 10.0488 5.14647 9.85355C4.95121 9.65829 4.95121 9.3417 5.14647 9.14644L6.79292 7.49999L5.14647 5.85355C4.95121 5.65829 4.95121 5.3417 5.14647 5.14644C5.34173 4.95118 5.65832 4.95118 5.85358 5.14644L7.50002 6.79289L9.14647 5.14644C9.34173 4.95118 9.65832 4.95118 9.85358 5.14644Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),D=["color"],O=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,D);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M3 1C2.44771 1 2 1.44772 2 2V13C2 13.5523 2.44772 14 3 14H10.5C10.7761 14 11 13.7761 11 13.5C11 13.2239 10.7761 13 10.5 13H3V2L10.5 2C10.7761 2 11 1.77614 11 1.5C11 1.22386 10.7761 1 10.5 1H3ZM12.6036 4.89645C12.4083 4.70118 12.0917 4.70118 11.8964 4.89645C11.7012 5.09171 11.7012 5.40829 11.8964 5.60355L13.2929 7H6.5C6.22386 7 6 7.22386 6 7.5C6 7.77614 6.22386 8 6.5 8H13.2929L11.8964 9.39645C11.7012 9.59171 11.7012 9.90829 11.8964 10.1036C12.0917 10.2988 12.4083 10.2988 12.6036 10.1036L14.8536 7.85355C15.0488 7.65829 15.0488 7.34171 14.8536 7.14645L12.6036 4.89645Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),_=["color"],R=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,_);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),N=["color"],P=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,N);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),j=["color"],k=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,j);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),L=["color"],B=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,L);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M1.20308 1.04312C1.00481 0.954998 0.772341 1.0048 0.627577 1.16641C0.482813 1.32802 0.458794 1.56455 0.568117 1.75196L3.92115 7.50002L0.568117 13.2481C0.458794 13.4355 0.482813 13.672 0.627577 13.8336C0.772341 13.9952 1.00481 14.045 1.20308 13.9569L14.7031 7.95693C14.8836 7.87668 15 7.69762 15 7.50002C15 7.30243 14.8836 7.12337 14.7031 7.04312L1.20308 1.04312ZM4.84553 7.10002L2.21234 2.586L13.2689 7.50002L2.21234 12.414L4.84552 7.90002H9C9.22092 7.90002 9.4 7.72094 9.4 7.50002C9.4 7.27911 9.22092 7.10002 9 7.10002H4.84553Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),M=["color"],U=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,M);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),F=["color"],q=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,F);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),$=["color"],z=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,$);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M7.49985 0.877045C3.84216 0.877045 0.877014 3.84219 0.877014 7.49988C0.877014 11.1575 3.84216 14.1227 7.49985 14.1227C11.1575 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1575 0.877045 7.49985 0.877045ZM1.82701 7.49988C1.82701 4.36686 4.36683 1.82704 7.49985 1.82704C10.6328 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6328 13.1727 7.49985 13.1727C4.36683 13.1727 1.82701 10.6329 1.82701 7.49988ZM7.49999 9.49999C8.60456 9.49999 9.49999 8.60456 9.49999 7.49999C9.49999 6.39542 8.60456 5.49999 7.49999 5.49999C6.39542 5.49999 5.49999 6.39542 5.49999 7.49999C5.49999 8.60456 6.39542 9.49999 7.49999 9.49999Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),K=["color"],V=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,K);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),H=["color"],W=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,H);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M12.3536 1.14645C12.1583 0.951184 11.8417 0.951184 11.6464 1.14645C11.4512 1.34171 11.4512 1.65829 11.6464 1.85355L12.7929 3H12C10.7037 3 9.71111 3.58423 8.87248 4.38931C8.20065 5.03427 7.59349 5.85684 6.99461 6.6682C6.86287 6.84668 6.73154 7.02462 6.6 7.2C5.10874 9.18835 3.49037 11 0.5 11C0.223858 11 0 11.2239 0 11.5C0 11.7761 0.223858 12 0.5 12C4.00963 12 5.89126 9.81165 7.4 7.8C7.54367 7.60845 7.6832 7.41962 7.81996 7.23454L7.82005 7.23443L7.82006 7.23441C8.41674 6.42695 8.96069 5.69085 9.56502 5.11069C10.2889 4.41577 11.0463 4 12 4H12.7929L11.6464 5.14645C11.4512 5.34171 11.4512 5.65829 11.6464 5.85355C11.8417 6.04882 12.1583 6.04882 12.3536 5.85355L14.3536 3.85355C14.5488 3.65829 14.5488 3.34171 14.3536 3.14645L12.3536 1.14645ZM0.5 3C3.35278 3 5.12992 4.44588 6.50548 6.06746L6.3762 6.24266C6.2483 6.4161 6.12293 6.58609 6 6.75C5.96397 6.79804 5.92798 6.84581 5.892 6.89331C4.57348 5.29306 3.02637 4 0.5 4C0.223858 4 0 3.77614 0 3.5C0 3.22386 0.223858 3 0.5 3ZM8.87248 10.6107C8.37284 10.131 7.90897 9.55314 7.45767 8.95468C7.64688 8.71693 7.82704 8.48061 8 8.25L8.08987 8.12987C8.58412 8.79402 9.05288 9.39766 9.56502 9.88931C10.2889 10.5842 11.0463 11 12 11H12.7929L11.6464 9.85355C11.4512 9.65829 11.4512 9.34171 11.6464 9.14645C11.8417 8.95118 12.1583 8.95118 12.3536 9.14645L14.3536 11.1464C14.5488 11.3417 14.5488 11.6583 14.3536 11.8536L12.3536 13.8536C12.1583 14.0488 11.8417 14.0488 11.6464 13.8536C11.4512 13.6583 11.4512 13.3417 11.6464 13.1464L12.7929 12H12C10.7037 12 9.71111 11.4158 8.87248 10.6107Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),Q=["color"],J=(0,i.forwardRef)(function(e,t){var r=e.color,s=n(e,Q);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))})},36645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let i=r(88229)._(r(67357));function n(e,t){var r;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,i.default)({...s,modules:null==(r=s.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},38168:(e,t,r)=>{"use strict";r.d(t,{Eq:()=>c});var i=new WeakMap,n=new WeakMap,s={},o=0,a=function(e){return e&&(e.host||a(e.parentNode))},l=function(e,t,r,l){var c=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=a(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});s[r]||(s[r]=new WeakMap);var u=s[r],d=[],h=new Set,f=new Set(c),p=function(e){!e||h.has(e)||(h.add(e),p(e.parentNode))};c.forEach(p);var g=function(e){!e||f.has(e)||Array.prototype.forEach.call(e.children,function(e){if(h.has(e))g(e);else try{var t=e.getAttribute(l),s=null!==t&&"false"!==t,o=(i.get(e)||0)+1,a=(u.get(e)||0)+1;i.set(e,o),u.set(e,a),d.push(e),1===o&&s&&n.set(e,!0),1===a&&e.setAttribute(r,"true"),s||e.setAttribute(l,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return g(t),h.clear(),o++,function(){d.forEach(function(e){var t=i.get(e)-1,s=u.get(e)-1;i.set(e,t),u.set(e,s),t||(n.has(e)||e.removeAttribute(l),n.delete(e)),s||e.removeAttribute(r)}),--o||(i=new WeakMap,i=new WeakMap,n=new WeakMap,s={})}},c=function(e,t,r){void 0===r&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),n=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return n?(i.push.apply(i,Array.from(n.querySelectorAll("[aria-live], script"))),l(i,n,r,"aria-hidden")):function(){return null}}},38862:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var i,n=r(12115),s=!!(i||(i=r.t(n,2))).useInsertionEffect&&(i||(i=r.t(n,2))).useInsertionEffect,o=s||function(e){return e()};s||n.useLayoutEffect},39033:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var i=r(12115);function n(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}},40052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let i=r(64587);t.toMiliseconds=function(e){return e*i.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/i.ONE_THOUSAND)}},40347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(85006).__exportStar(r(86156),t)},40662:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,i){var n,s,o;function a(r){e.removeListener(t,l),i(r)}function l(){"function"==typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}g(e,t,l,{once:!0}),"error"!==t&&(n=e,s=a,o={once:!0},"function"==typeof n.on&&g(n,"error",s,o))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,i){if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=l(e))>0&&o.length>n&&!o.warned){o.warned=!0;var n,s,o,c=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=u.bind(i);return n.listener=r,i.wrapFn=n,n}function h(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):p(n,n.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),i=0;i<t;++i)r[i]=e[i];return r}function g(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function n(s){i.once&&e.removeEventListener(t,n),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||n(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else for(var c=l.length,u=p(l,c),r=0;r<c;++r)i(u[r],this,t);return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,i,n,s,o;if(a(t),void 0===(i=this._events)||void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},42221:(e,t,r)=>{"use strict";r.d(t,{o0:()=>f});var i=r(49509),n=function(e,t,r){if(r||2==arguments.length)for(var i,n=0,s=t.length;n<s;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},s=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=i.platform},a=function(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"},l=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==i&&i.version?new o(i.version.slice(1)):null}function p(e){var t=""!==e&&d.reduce(function(t,r){var i=r[0],n=r[1];if(t)return t;var s=n.exec(e);return!!s&&[i,s]},!1);if(!t)return null;var r=t[0],i=t[1];if("searchbot"===r)return new l;var o=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=n(n([],o,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-o.length),!0)):o=[];var c=o.join("."),f=function(e){for(var t=0,r=h.length;t<r;t++){var i=h[t],n=i[0];if(i[1].exec(e))return n}return null}(e),p=u.exec(e);return p&&p[1]?new a(r,c,f,p[1]):new s(r,c,f)}},42552:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let i=e.charAt(r),n=i.charCodeAt(0);if(255!==t[n])throw TypeError(i+" is ambiguous");t[n]=r}let r=e.length,i=e.charAt(0),n=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===i;)o++,s++;let l=(e.length-s)*n+1>>>0,c=new Uint8Array(l);for(;s<e.length;){let i=e.charCodeAt(s);if(i>255)return;let n=t[i];if(255===n)return;let o=0;for(let e=l-1;(0!==n||o<a)&&-1!==e;e--,o++)n+=r*c[e]>>>0,c[e]=n%256>>>0,n=n/256>>>0;if(0!==n)throw Error("Non-zero carry");a=o,s++}let u=l-a;for(;u!==l&&0===c[u];)u++;let d=new Uint8Array(o+(l-u)),h=o;for(;u!==l;)d[h++]=c[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let n=0,o=0,a=0,l=t.length;for(;a!==l&&0===t[a];)a++,n++;let c=(l-a)*s+1>>>0,u=new Uint8Array(c);for(;a!==l;){let e=t[a],i=0;for(let t=c-1;(0!==e||i<o)&&-1!==t;t--,i++)e+=256*u[t]>>>0,u[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");o=i,a++}let d=c-o;for(;d!==c&&0===u[d];)d++;let h=i.repeat(n);for(;d<c;++d)h+=e.charAt(u[d]);return h},decodeUnsafe:o,decode:function(e){let t=o(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},44088:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},44134:(e,t,r)=>{"use strict";let i=r(57719),n=r(7610),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var i=e,n=t;if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);let r=0|p(i,n),s=o(r),l=s.write(i,n);return l!==r&&(s=s.slice(0,l)),s}if(ArrayBuffer.isView(e)){var s=e;if(M(s,Uint8Array)){let e=new Uint8Array(s);return h(e.buffer,e.byteOffset,e.byteLength)}return d(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(M(e,ArrayBuffer)||e&&M(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(M(e,SharedArrayBuffer)||e&&M(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return a.from(l,t,r);let c=function(e){if(a.isBuffer(e)){let t=0|f(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(c)return c;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),o(e<0?0:0|f(e))}function d(e){let t=e.length<0?0:0|f(e.length),r=o(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function h(e,t,r){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),i}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||M(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(n)return i?-1:k(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=t;i<r;++i)n+=U[e[i]];return n}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}(this,t,r);case"latin1":case"binary":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}(this,t,r);case"base64":var s,o,a;return s=this,o=t,a=r,0===o&&a===s.length?i.fromByteArray(s):i.fromByteArray(s.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let i=e.slice(t,r),n="";for(let e=0;e<i.length-1;e+=2)n+=String.fromCharCode(i[e]+256*i[e+1]);return n}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function m(e,t,r,i,n){var s;if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(n)return -1;else r=e.length-1;else if(r<0)if(!n)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,i)),a.isBuffer(t))return 0===t.length?-1:b(e,t,r,i,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return b(e,[t],r,i,n)}throw TypeError("val must be string, number or Buffer")}function b(e,t,r,i,n){let s,o=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(n){let i=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===l)return i*o}else -1!==i&&(s-=s-i),i=-1}else for(r+l>a&&(r=a-l),s=r;s>=0;s--){let r=!0;for(let i=0;i<l;i++)if(c(e,s+i)!==c(t,i)){r=!1;break}if(r)return s}return -1}function v(e,t,r){r=Math.min(e.length,r);let i=[],n=t;for(;n<r;){let t=e[n],s=null,o=t>239?4:t>223?3:t>191?2:1;if(n+o<=r){let r,i,a,l;switch(o){case 1:t<128&&(s=t);break;case 2:(192&(r=e[n+1]))==128&&(l=(31&t)<<6|63&r)>127&&(s=l);break;case 3:r=e[n+1],i=e[n+2],(192&r)==128&&(192&i)==128&&(l=(15&t)<<12|(63&r)<<6|63&i)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:r=e[n+1],i=e[n+2],a=e[n+3],(192&r)==128&&(192&i)==128&&(192&a)==128&&(l=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&a)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=o}var s=i;let o=s.length;if(o<=4096)return String.fromCharCode.apply(String,s);let a="",l=0;for(;l<o;)a+=String.fromCharCode.apply(String,s.slice(l,l+=4096));return a}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function x(e,t,r,i,n,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function E(e,t,r,i,n){R(t,i,n,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function S(e,t,r,i,n){R(t,i,n,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function I(e,t,r,i,n,s){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function C(e,t,r,i,s){return t*=1,r>>>=0,s||I(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,i,23,4),r+4}function A(e,t,r,i,s){return t*=1,r>>>=0,s||I(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,i,52,8),r+8}t.hp=a,t.IS=50,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(c(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(M(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),M(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:+(i<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let i=a.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){let t=e[r];if(M(t,Uint8Array))n+t.length>i.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else if(a.isBuffer(t))t.copy(i,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=t.length}return i},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,t,r,i,n){if(M(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;let s=n-i,o=r-t,l=Math.min(s,o),c=this.slice(i,n),u=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==u[e]){s=c[e],o=u[e];break}return s<o?-1:+(o<s)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,i){var n,s,o,a,l,c,u,d;if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let f=!1;for(;;)switch(i){case"hex":return function(e,t,r,i){let n;r=Number(r)||0;let s=e.length-r;i?(i=Number(i))>s&&(i=s):i=s;let o=t.length;for(i>o/2&&(i=o/2),n=0;n<i;++n){var a;let i=parseInt(t.substr(2*n,2),16);if((a=i)!=a)break;e[r+n]=i}return n}(this,e,t,r);case"utf8":case"utf-8":return n=t,s=r,B(k(e,this.length-n),this,n,s);case"ascii":case"latin1":case"binary":return o=t,a=r,B(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,a);case"base64":return l=t,c=r,B(L(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,d=r,B(function(e,t){let r,i,n=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)i=(r=e.charCodeAt(s))>>8,n.push(r%256),n.push(i);return n}(e,this.length-u),this,u,d);default:if(f)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,a.prototype),i},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=F(function(e){N(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],n=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(i)+(BigInt(n)<<BigInt(32))}),a.prototype.readBigUInt64BE=F(function(e){N(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let i=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],n=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=t,n=1,s=this[e+--i];for(;i>0&&(n*=256);)s+=this[e+--i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=F(function(e){N(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),a.prototype.readBigInt64BE=F(function(e){N(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;x(this,e,t,r,i,0)}let n=1,s=0;for(this[t]=255&e;++s<r&&(n*=256);)this[t+s]=e/n&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;x(this,e,t,r,i,0)}let n=r-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=F(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=F(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}let n=0,s=1,o=0;for(this[t]=255&e;++n<r&&(s*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/s|0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}let n=r-1,s=1,o=0;for(this[t+n]=255&e;--n>=0&&(s*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/s|0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=F(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=F(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,i){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},a.prototype.fill=function(e,t,r,i){let n;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{let s=a.isBuffer(e)?e:a.from(e,i),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%o]}return this};let D={};function O(e,t,r){D[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function _(e){let t="",r=e.length,i=+("-"===e[0]);for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function R(e,t,r,i,n,s){if(e>r||e<t){let i,n="bigint"==typeof t?"n":"";throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(s+1)*8}${n}`:`>= -(2${n} ** ${(s+1)*8-1}${n}) and < 2 ** ${(s+1)*8-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,e)}N(n,"offset"),(void 0===i[n]||void 0===i[n+s])&&P(n,i.length-(s+1))}function N(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function P(e,t,r){if(Math.floor(e)!==e)throw N(e,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}O("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),O("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),O("ERR_OUT_OF_RANGE",function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?n=_(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=_(n)),n+="n"),i+=` It must be ${t}. Received ${n}`},RangeError);let j=/[^+/0-9A-Za-z-_]/g;function k(e,t){let r;t=t||1/0;let i=e.length,n=null,s=[];for(let o=0;o<i;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!n){if(r>56319||o+1===i){(t-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function L(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function M(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let U=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function F(e){return"undefined"==typeof BigInt?q:e}function q(){throw Error("BigInt not supported")}},44157:(e,t,r)=>{"use strict";r.d(t,{kF:()=>s});class i{}class n extends i{constructor(){super()}}class s extends n{constructor(e){super()}}},44414:(e,t,r)=>{"use strict";function i(){let e,t,r=new Promise((r,i)=>{e=r,t=i});function i(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{i({status:"fulfilled",value:t}),e(t)},r.reject=e=>{i({status:"rejected",reason:e}),t(e)},r}r.d(t,{T:()=>i})},45125:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>n,Qv:()=>s,mj:()=>o});var i=r(95155);function n(e){let{size:t="md",color:r="primary",variant:n="spinner",className:s="",...o}=e,a={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},l={primary:"text-primary-600",secondary:"text-secondary-600",white:"text-white",gray:"text-gray-400"};if("spinner"===n)return(0,i.jsx)("div",{className:"animate-spin ".concat(a[t]," ").concat(l[r]," ").concat(s),...o,children:(0,i.jsxs)("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});if("dots"===n){let e={xs:"h-1 w-1",sm:"h-1.5 w-1.5",md:"h-2 w-2",lg:"h-2.5 w-2.5",xl:"h-3 w-3"};return(0,i.jsxs)("div",{className:"flex space-x-1 ".concat(s),...o,children:[(0,i.jsx)("div",{className:"".concat(e[t]," bg-current rounded-full animate-bounce ").concat(l[r])}),(0,i.jsx)("div",{className:"".concat(e[t]," bg-current rounded-full animate-bounce delay-100 ").concat(l[r])}),(0,i.jsx)("div",{className:"".concat(e[t]," bg-current rounded-full animate-bounce delay-200 ").concat(l[r])})]})}return(0,i.jsx)("div",{className:"".concat(a[t]," bg-current rounded-full animate-pulse ").concat(l[r]," ").concat(s),...o})}function s(){return(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,i.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,i.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})}function o(e){let{columns:t=4}=e;return(0,i.jsx)("tr",{className:"animate-pulse",children:Array.from({length:t}).map((e,t)=>(0,i.jsx)("td",{className:"px-4 py-3",children:(0,i.jsx)("div",{className:"h-4 bg-gray-200 rounded"})},t))})}},45446:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var i=r(59126);let n=/^tuple(?<array>(\[(\d*)\])*)$/;function s(e){let t="",r=e.length;for(let s=0;s<r;s++)t+=function e(t){let r=t.type;if(n.test(t.type)&&"components"in t){r="(";let s=t.components.length;for(let i=0;i<s;i++)r+=e(t.components[i]),i<s-1&&(r+=", ");let o=(0,i.Yv)(n,t.type);return r+=`)${o?.array??""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[s]),s!==r-1&&(t+=", ");return t}},46081:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,q:()=>s});var i=r(12115),n=r(95155);function s(e,t){let r=i.createContext(t),s=e=>{let{children:t,...s}=e,o=i.useMemo(()=>s,Object.values(s));return(0,n.jsx)(r.Provider,{value:o,children:t})};return s.displayName=e+"Provider",[s,function(n){let s=i.useContext(r);if(s)return s;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function o(e,t=[]){let r=[],s=()=>{let t=r.map(e=>i.createContext(e));return function(r){let n=r?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return s.scopeName=e,[function(t,s){let o=i.createContext(s),a=r.length;r=[...r,s];let l=t=>{let{scope:r,children:s,...l}=t,c=r?.[e]?.[a]||o,u=i.useMemo(()=>l,Object.values(l));return(0,n.jsx)(c.Provider,{value:u,children:s})};return l.displayName=t+"Provider",[l,function(r,n){let l=n?.[e]?.[a]||o,c=i.useContext(l);if(c)return c;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:i})=>{let n=r(e)[`__scope${i}`];return{...t,...n}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(s,...t)]}},49112:(e,t,r)=>{"use strict";r.d(t,{Sn:()=>f,UD:()=>m,ku:()=>w,qi:()=>p,qx:()=>x,t4:()=>E,uP:()=>v,vT:()=>b,zw:()=>g});var i=r(46298),n=r(2579),s=r(23802),o=r(15156),a=r(74180),l=r(26489),c=r(3702),u=r(23316),d=r(12115),h=r(49509);let f=(0,i.N)({clientId:"0721f1503db0f0f8f7e4f1231d2e9ddf"}),p=(0,s.xH)({id:42793,name:"Etherlink Mainnet",nativeCurrency:{name:"XTZ",symbol:"XTZ",decimals:18},rpc:"https://node.mainnet.etherlink.com",blockExplorers:[{name:"Etherlink Explorer",url:"https://explorer.etherlink.com"}]}),g=(0,s.xH)({id:128123,name:"Etherlink Testnet",nativeCurrency:{name:"XTZ",symbol:"XTZ",decimals:18},rpc:"https://node.ghostnet.etherlink.com",blockExplorers:[{name:"Etherlink Testnet Explorer",url:"https://testnet.explorer.etherlink.com"}]}),y=()=>"true"===h.env.NEXT_PUBLIC_USE_MAINNET?p:g;function m(){let e=(0,o.L)();return null==e?void 0:e.address}function b(){return(0,a.z)()}function v(){let e=(0,a.z)();return{disconnect:async()=>{e&&await e.disconnect()}}}function w(e,t){return{contract:(0,d.useMemo)(()=>{if(!e)return console.warn("Contract creation attempted with empty address"),null;console.log("Creating contract instance:",{address:e,chain:y(),chainId:y().id,hasABI:!!t});try{var r;let i=(0,n.P)({client:f,chain:y(),address:e,abi:t});return console.log("Contract instance created successfully:",{address:i.address,chainId:null==(r=i.chain)?void 0:r.id}),i}catch(t){return console.error("Failed to create contract instance:",{address:e,error:t,errorMessage:t instanceof Error?t.message:"Unknown error"}),null}},[e,t])}}function x(e,t,r){let[i,n]=(0,d.useState)(void 0),[s,o]=(0,d.useState)(!1),[a,c]=(0,d.useState)(null),u=(0,d.useCallback)(async()=>{var i;if(!e)return void console.warn("Contract read attempted but contract is null/undefined for method:",t);console.log("Contract read starting:",{contractAddress:e.address,method:t,params:r,chain:null==(i=e.chain)?void 0:i.id}),o(!0),c(null);try{let i=await (0,l.readContract)({contract:e,method:t,params:r||[]});return console.log("Contract read success:",{method:t,result:i}),n(i),i}catch(r){console.error("Contract read error:",{method:t,contractAddress:e.address,error:r,errorMessage:r instanceof Error?r.message:"Unknown error"}),c(r);return}finally{o(!1)}},[e,t,r]);return(0,d.useEffect)(()=>{e&&u().catch(e=>{console.warn("Auto-fetch failed, component will handle undefined data:",e.message)})},[u,e]),{data:i,isLoading:s,error:a,refetch:u}}function E(e,t){let r=(0,o.L)(),[i,n]=(0,d.useState)(!1);return{mutateAsync:async i=>{var s;if(!e)throw console.error("Contract write failed: Contract not available",{functionName:t}),Error("Contract not available or not configured");if(!r)throw console.error("Contract write failed: No account connected",{functionName:t}),Error("No account connected");console.log("Contract write starting:",{contractAddress:e.address,method:t,params:i,account:r.address,chain:null==(s=e.chain)?void 0:s.id}),n(!0);try{let n=(0,c.m)({contract:e,method:t,params:Array.isArray(i)?i:[i]});console.log("Prepared contract call:",{to:n.to,data:n.data});let s=await (0,u.sendTransaction)({transaction:n,account:r});return console.log("Contract write success:",{method:t,transactionHash:s.transactionHash,contractAddress:e.address}),s}catch(i){throw console.error("Contract write error:",{method:t,contractAddress:e.address,error:i,errorMessage:i instanceof Error?i.message:"Unknown error",account:r.address}),i}finally{n(!1)}},isPending:i,isLoading:i}}},49209:(e,t,r)=>{"use strict";r.d(t,{A:()=>W});var i,n,s=function(){return(s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.create;Object.create;var o=("function"==typeof SuppressedError&&SuppressedError,r(12115)),a="right-scroll-bar-position",l="width-before-scroll-bar";function c(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var u="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,d=new WeakMap,h=function(){return(h=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function f(e){return e}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var p=function(e){void 0===e&&(e={});var t,r,i,n=(void 0===t&&(t=f),r=[],i=!1,{read:function(){if(i)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:null},useMedium:function(e){var n=t(e,i);return r.push(n),function(){r=r.filter(function(e){return e!==n})}},assignSyncMedium:function(e){for(i=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){i=!0;var t=[];if(r.length){var n=r;r=[],n.forEach(e),t=r}var s=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(s)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}});return n.options=h({async:!0,ssr:!1},e),n}(),g=function(){},y=o.forwardRef(function(e,t){var r,i,n,a,l=o.useRef(null),h=o.useState({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:g}),f=h[0],y=h[1],m=e.forwardProps,b=e.children,v=e.className,w=e.removeScrollBar,x=e.enabled,E=e.shards,S=e.sideCar,I=e.noRelative,C=e.noIsolation,A=e.inert,D=e.allowPinchZoom,O=e.as,_=e.gapMode,R=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=(r=[l,t],i=function(e){return r.forEach(function(t){return c(t,e)})},(n=(0,o.useState)(function(){return{value:null,callback:i,facade:{get current(){return n.value},set current(value){var e=n.value;e!==value&&(n.value=value,n.callback(value,e))}}}})[0]).callback=i,a=n.facade,u(function(){var e=d.get(a);if(e){var t=new Set(e),i=new Set(r),n=a.current;t.forEach(function(e){i.has(e)||c(e,null)}),i.forEach(function(e){t.has(e)||c(e,n)})}d.set(a,r)},[r]),a),P=s(s({},R),f);return o.createElement(o.Fragment,null,x&&o.createElement(S,{sideCar:p,removeScrollBar:w,shards:E,noRelative:I,noIsolation:C,inert:A,setCallbacks:y,allowPinchZoom:!!D,lockRef:l,gapMode:_}),m?o.cloneElement(o.Children.only(b),s(s({},P),{ref:N})):o.createElement(void 0===O?"div":O,s({},P,{className:v,ref:N}),b))});y.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},y.classNames={fullWidth:l,zeroRight:a};var m=function(e){var t=e.sideCar,r=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw Error("Sidecar medium not found");return o.createElement(i,h({},r))};m.isSideCarExport=!0;var b=function(){var e=0,t=null;return{add:function(i){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n||r.nc;return t&&e.setAttribute("nonce",t),e}())){var s,o;(s=t).styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),o=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(o)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},v=function(){var e=b();return function(t,r){o.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},w=function(){var e=v();return function(t){return e(t.styles,t.dynamic),null}},x={left:0,top:0,right:0,gap:0},E=function(e){return parseInt(e||"",10)||0},S=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],n=t["padding"===e?"paddingRight":"marginRight"];return[E(r),E(i),E(n)]},I=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return x;var t=S(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},C=w(),A="data-scroll-locked",D=function(e,t,r,i){var n=e.left,s=e.top,o=e.right,c=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(i,";\n   padding-right: ").concat(c,"px ").concat(i,";\n  }\n  body[").concat(A,"] {\n    overflow: hidden ").concat(i,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(i,";"),"margin"===r&&"\n    padding-left: ".concat(n,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(i,";\n    "),"padding"===r&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(a," {\n    right: ").concat(c,"px ").concat(i,";\n  }\n  \n  .").concat(l," {\n    margin-right: ").concat(c,"px ").concat(i,";\n  }\n  \n  .").concat(a," .").concat(a," {\n    right: 0 ").concat(i,";\n  }\n  \n  .").concat(l," .").concat(l," {\n    margin-right: 0 ").concat(i,";\n  }\n  \n  body[").concat(A,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},O=function(){var e=parseInt(document.body.getAttribute(A)||"0",10);return isFinite(e)?e:0},_=function(){o.useEffect(function(){return document.body.setAttribute(A,(O()+1).toString()),function(){var e=O()-1;e<=0?document.body.removeAttribute(A):document.body.setAttribute(A,e.toString())}},[])},R=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,n=void 0===i?"margin":i;_();var s=o.useMemo(function(){return I(n)},[n]);return o.createElement(C,{styles:D(s,!t,n,r?"":"!important")})},N=!1;if("undefined"!=typeof window)try{var P=Object.defineProperty({},"passive",{get:function(){return N=!0,!0}});window.addEventListener("test",P,P),window.removeEventListener("test",P,P)}catch(e){N=!1}var j=!!N&&{passive:!1},k=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},L=function(e,t){var r=t.ownerDocument,i=t;do{if("undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot&&(i=i.host),B(e,i)){var n=M(e,i);if(n[1]>n[2])return!0}i=i.parentNode}while(i&&i!==r.body);return!1},B=function(e,t){return"v"===e?k(t,"overflowY"):k(t,"overflowX")},M=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},U=function(e,t,r,i,n){var s,o=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),a=o*i,l=r.target,c=t.contains(l),u=!1,d=a>0,h=0,f=0;do{if(!l)break;var p=M(e,l),g=p[0],y=p[1]-p[2]-o*g;(g||y)&&B(e,l)&&(h+=y,f+=g);var m=l.parentNode;l=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return d&&(n&&1>Math.abs(h)||!n&&a>h)?u=!0:!d&&(n&&1>Math.abs(f)||!n&&-a>f)&&(u=!0),u},F=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},q=function(e){return[e.deltaX,e.deltaY]},$=function(e){return e&&"current"in e?e.current:e},z=0,K=[];let V=(i=function(e){var t=o.useRef([]),r=o.useRef([0,0]),i=o.useRef(),n=o.useState(z++)[0],s=o.useState(w)[0],a=o.useRef(e);o.useEffect(function(){a.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var t=(function(e,t,r){if(r||2==arguments.length)for(var i,n=0,s=t.length;n<s;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map($),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=o.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var n,s=F(e),o=r.current,l="deltaX"in e?e.deltaX:o[0]-s[0],c="deltaY"in e?e.deltaY:o[1]-s[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=L(d,u);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=L(d,u)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=n),!n)return!0;var f=i.current||n;return U(f,t,e,"h"===f?l:c,!0)},[]),c=o.useCallback(function(e){if(K.length&&K[K.length-1]===s){var r="deltaY"in e?q(e):F(e),i=t.current.filter(function(t){var i;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(i=t.delta,i[0]===r[0]&&i[1]===r[1])})[0];if(i&&i.should){e.cancelable&&e.preventDefault();return}if(!i){var n=(a.current.shards||[]).map($).filter(Boolean).filter(function(t){return t.contains(e.target)});(n.length>0?l(e,n[0]):!a.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),u=o.useCallback(function(e,r,i,n){var s={name:e,delta:r,target:i,should:n,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(i)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),d=o.useCallback(function(e){r.current=F(e),i.current=void 0},[]),h=o.useCallback(function(t){u(t.type,q(t),t.target,l(t,e.lockRef.current))},[]),f=o.useCallback(function(t){u(t.type,F(t),t.target,l(t,e.lockRef.current))},[]);o.useEffect(function(){return K.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,j),document.addEventListener("touchmove",c,j),document.addEventListener("touchstart",d,j),function(){K=K.filter(function(e){return e!==s}),document.removeEventListener("wheel",c,j),document.removeEventListener("touchmove",c,j),document.removeEventListener("touchstart",d,j)}},[]);var p=e.removeScrollBar,g=e.inert;return o.createElement(o.Fragment,null,g?o.createElement(s,{styles:"\n  .block-interactivity-".concat(n," {pointer-events: none;}\n  .allow-interactivity-").concat(n," {pointer-events: all;}\n")}):null,p?o.createElement(R,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},p.useMedium(i),m);var H=o.forwardRef(function(e,t){return o.createElement(y,s({},e,{ref:t,sideCar:V}))});H.classNames=y.classNames;let W=H},50330:(e,t,r)=>{"use strict";e.exports=r(30294)},50836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},51595:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var i=r(12115),n=r(39033);function s(e,t=globalThis?.document){let r=(0,n.c)(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}},52205:e=>{"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},52712:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var i=r(12115),n=globalThis?.document?i.useLayoutEffect:()=>{}},53428:(e,t,r)=>{"use strict";r.d(t,{eF:()=>a,mE:()=>n,rI:()=>o,vG:()=>s});var i=r(18067);function n(e){return i.jf.includes(e)}function s(e){return Object.keys(i.Uf).includes(e)?i.Uf[e]:i.Uf[i.XW]}function o(e){let t=Object.values(i.Uf).find(t=>t.code===e);return t||i.Uf[i.XW]}function a(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}},55028:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var i=r(36645),n=r.n(i)},55233:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})},55252:(e,t,r)=>{"use strict";function i(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function n(){let e=i();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=i,t.getSubtleCrypto=n,t.isBrowserCryptoAvailable=function(){return!!i()&&!!n()}},55628:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},57368:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var i=r(84701),n=r(17130),s=r(23097),o=r(20263);function a(e){let t;if("string"==typeof e)t=(0,o.uT)(e);else{let r=(0,s.e)(e),i=e.length;for(let s=0;s<i;s++){let i=e[s];if(!(0,n.WL)(i)){t=(0,o.uT)(i,r);break}}}if(!t)throw new i.xo({signature:e});return t}},57719:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),r=t[0],i=t[1];return(r+i)*3/4-i},t.toByteArray=function(e){var t,r,s=l(e),o=s[0],a=s[1],c=new n((o+a)*3/4-a),u=0,d=a>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,s=[],o=0,a=i-n;o<a;o+=16383)s.push(function(e,t,i){for(var n,s=[],o=t;o<i;o+=3)n=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[n>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===n?s.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===n&&s.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}i[45]=62,i[95]=63},59126:(e,t,r)=>{"use strict";function i(e,t){let r=e.exec(t);return r?.groups}r.d(t,{BD:()=>n,Ge:()=>s,Yv:()=>i,wj:()=>o});let n=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,o=/^\(.+?\).*?$/},61190:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});var i=r(13330),n=class{#k;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,i.gn)(this.gcTime)&&(this.#k=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(i.S$?1/0:3e5))}clearGcTimeout(){this.#k&&(clearTimeout(this.#k),this.#k=void 0)}}},61285:(e,t,r)=>{"use strict";r.d(t,{B:()=>l});var i,n=r(12115),s=r(52712),o=(i||(i=r.t(n,2)))[" useId ".trim().toString()]||(()=>void 0),a=0;function l(e){let[t,r]=n.useState(o());return(0,s.N)(()=>{e||r(e=>e??String(a++))},[e]),e||(t?`radix-${t}`:"")}},61581:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var i=r(12115),n=i.createContext(!1),s=()=>i.useContext(n);n.Provider},61947:(e,t,r)=>{"use strict";function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function n(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");i(e.outputLen),i(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a(e,t){n(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}r.d(t,{CC:()=>o,DO:()=>n,Fe:()=>i,Ht:()=>a,sd:()=>s})},62119:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var i=r(95155),n=r(12115),s=r(6874),o=r.n(s),a=r(15156),l=r(89629),c=r(93662);function u(){return(0,i.jsx)("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o(),{href:"/",className:"text-xl font-bold text-gray-900",children:"Quest DApp"}),(0,i.jsx)("div",{className:"hidden md:block ml-10",children:(0,i.jsxs)("div",{className:"flex items-baseline space-x-4",children:[(0,i.jsx)(o(),{href:"/dashboard",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors",children:"Dashboard"}),(0,i.jsx)(o(),{href:"/quests",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors",children:"Quests"}),(0,i.jsx)(o(),{href:"/staking",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors",children:"Staking"})]})})]}),(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)(c.jt,{variant:"button"}),children:(0,i.jsx)(l.Ay,{variant:"compact"})})]})})})}function d(){return(0,a.L)()?null:(0,i.jsx)("div",{className:"bg-blue-50 border-b border-blue-200 py-3",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"h-5 w-5 text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,i.jsx)("span",{className:"text-sm text-blue-800",children:"Connect your wallet to access all features"})]}),(0,i.jsx)(l.Ay,{variant:"compact"})]})})})}function h(e){let{title:t,description:r}=e;return(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t}),r&&(0,i.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl",children:r})]})}function f(e){let{children:t,title:r,description:s,showWalletPrompt:o=!0}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u,{}),o&&(0,i.jsx)(d,{}),(0,i.jsx)("main",{className:"min-h-screen bg-gray-50 py-8",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,i.jsx)(h,{title:r,description:s}),(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsx)(c.jt,{variant:"card",count:3})}),children:t})]})}),(0,i.jsx)("footer",{className:"bg-white border-t border-gray-200 py-8",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,i.jsx)("p",{children:"Quest DApp - Powered by Etherlink"}),(0,i.jsxs)("div",{className:"mt-2 space-x-4",children:[(0,i.jsx)("a",{href:"#",className:"hover:text-gray-700",children:"Documentation"}),(0,i.jsx)("a",{href:"#",className:"hover:text-gray-700",children:"Discord"}),(0,i.jsx)("a",{href:"#",className:"hover:text-gray-700",children:"GitHub"})]})]})})})]})}},62146:(e,t,r)=>{"use strict";function i(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}}),r(45262)},62243:(e,t,r)=>{"use strict";var i=r(50330),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?o:a[e.$$typeof]||n}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,i){if("string"!=typeof r){if(p){var n=f(r);n&&n!==p&&e(t,n,i)}var o=u(r);d&&(o=o.concat(d(r)));for(var a=l(t),g=l(r),y=0;y<o.length;++y){var m=o[y];if(!s[m]&&!(i&&i[m])&&!(g&&g[m])&&!(a&&a[m])){var b=h(r,m);try{c(t,m,b)}catch(e){}}}}return t}},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return a}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class i{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new i}function o(e){return n?n.bind(e):i.bind(e)}function a(){return n?n.snapshot():function(e,...t){return e(...t)}}},64453:(e,t,r)=>{"use strict";r.d(t,{E:()=>g,T:()=>u,c:()=>f,h:()=>d,w:()=>c});var i=r(12115),n=r(25041),s=r(8816),o=r(77726),a=r(38862),l=i.createContext("undefined"!=typeof HTMLElement?(0,n.A)({key:"css"}):null);l.Provider;var c=function(e){return(0,i.forwardRef)(function(t,r){return e(t,(0,i.useContext)(l),r)})},u=i.createContext({}),d={}.hasOwnProperty,h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var r={};for(var i in t)d.call(t,i)&&(r[i]=t[i]);return r[h]=e,r},p=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return(0,s.SF)(t,r,i),(0,a.s)(function(){return(0,s.sk)(t,r,i)}),null},g=c(function(e,t,r){var n=e.css;"string"==typeof n&&void 0!==t.registered[n]&&(n=t.registered[n]);var a=e[h],l=[n],c="";"string"==typeof e.className?c=(0,s.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var f=(0,o.J)(l,void 0,i.useContext(u));c+=t.key+"-"+f.name;var g={};for(var y in e)d.call(e,y)&&"css"!==y&&y!==h&&(g[y]=e[y]);return g.className=c,r&&(g.ref=r),i.createElement(i.Fragment,null,i.createElement(p,{cache:t,serialized:f,isStringTag:"string"==typeof a}),i.createElement(a,g))})},64513:(e,t,r)=>{"use strict";function i(){let e=new Set,t=[],r=()=>(function(e){if("undefined"==typeof window)return;let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),i=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),i?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),i?.(),i=r()},subscribe:(r,{emitImmediately:i}={})=>(e.add(r),i&&r(t,{added:t}),()=>e.delete(r))}}r.d(t,{y:()=>i})},64541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},64587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(85006);i.__exportStar(r(64541),t),i.__exportStar(r(50836),t)},67357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let i=r(95155),n=r(12115),s=r(62146);function o(e){return{default:e&&"default"in e?e.default:e}}r(10255);let a={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},l=function(e){let t={...a,...e},r=(0,n.lazy)(()=>t.loader().then(o)),l=t.loading;function c(e){let o=l?(0,i.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,a=!t.ssr||!!t.loading,c=a?n.Suspense:n.Fragment,u=t.ssr?(0,i.jsxs)(i.Fragment,{children:[null,(0,i.jsx)(r,{...e})]}):(0,i.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,i.jsx)(r,{...e})});return(0,i.jsx)(c,{...a?{fallback:o}:{},children:u})}return c.displayName="LoadableComponent",c}},67695:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))})},68321:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});class i extends Error{constructor(e,t={}){let r=t.cause instanceof i?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof i&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.0.8"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}}},68928:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,i){var n=i&&i.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var o=Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(r[a]);return o.join(" ")}if("string"!=typeof e)return e;var l=r.length;if(0===l)return e;for(var c="",u=0,d=-1,h=e&&e.length||0,f=0;f<h;){if(37===e.charCodeAt(f)&&f+1<h){switch(d=d>-1?d:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=l||null==r[u])break;d<f&&(c+=e.slice(d,f)),c+=Number(r[u]),d=f+2,f++;break;case 105:if(u>=l||null==r[u])break;d<f&&(c+=e.slice(d,f)),c+=Math.floor(Number(r[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=l||void 0===r[u])break;d<f&&(c+=e.slice(d,f));var p=typeof r[u];if("string"===p){c+="'"+r[u]+"'",d=f+2,f++;break}if("function"===p){c+=r[u].name||"<anonymous>",d=f+2,f++;break}c+=n(r[u]),d=f+2,f++;break;case 115:if(u>=l)break;d<f&&(c+=e.slice(d,f)),c+=String(r[u]),d=f+2,f++;break;case 37:d<f&&(c+=e.slice(d,f)),c+="%",d=f+2,f++,u--}++u}++f}return -1===d?e:(d<h&&(c+=e.slice(d)),c)}},69259:(e,t,r)=>{"use strict";r.d(t,{VF:()=>aS});var i=r(40662),n=r.n(i),s=r(97061),o=r(32350),a=r(44134).hp;function l(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function c(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return c(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let u="base64:";function d(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function h(e){return(e=d(e))?e+":":""}function f(e,t,r){return e.watch?e.watch((e,i)=>t(e,r+i)):()=>{}}async function p(e){"function"==typeof e.dispose&&await l(e.dispose)}var g=r(2671),y=r(71075);class m{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||(()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}})()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},i=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),n=(e,r)=>{if(t.watching)for(let i of(r=d(r),t.watchListeners))i(e,r)},s=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await f(t.mounts[e],n,e)},g=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},y=(e,t,i)=>{let n=new Map,s=e=>{let t=n.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},n.set(e.base,t)),t};for(let i of e){let e="string"==typeof i,n=d(e?i:i.key),o=e?void 0:i.value,a=e||!i.options?t:{...t,...i.options},l=r(n);s(l).items.push({key:n,value:o,relativeKey:l.relativeKey,options:a})}return Promise.all([...n.values()].map(e=>i(e))).then(e=>e.flat())},m={hasItem(e,t={}){let{relativeKey:i,driver:n}=r(e=d(e));return l(n.hasItem,i,t)},getItem(e,t={}){let{relativeKey:i,driver:n}=r(e=d(e));return l(n.getItem,i,t).then(e=>(0,o.Ay)(e))},getItems:(e,t={})=>y(e,t,e=>e.driver.getItems?l(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return d(e.join(":"))}(e.base,t.key),value:(0,o.Ay)(t.value)}))):Promise.all(e.items.map(t=>l(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:(0,o.Ay)(e)}))))),getItemRaw(e,t={}){let{relativeKey:i,driver:n}=r(e=d(e));return n.getItemRaw?l(n.getItemRaw,i,t):l(n.getItem,i,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(u)?(t=e.slice(u.length),globalThis.Buffer?a.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,i={}){if(void 0===t)return m.removeItem(e);let{relativeKey:s,driver:o}=r(e=d(e));o.setItem&&(await l(o.setItem,s,c(t),i),o.watch||n("update",e))},async setItems(e,t){await y(e,t,async e=>{if(e.driver.setItems)return l(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:c(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>l(e.driver.setItem,t.relativeKey,c(t.value),t.options)))})},async setItemRaw(e,t,i={}){if(void 0===t)return m.removeItem(e,i);let{relativeKey:s,driver:o}=r(e=d(e));if(o.setItemRaw)await l(o.setItemRaw,s,t,i);else{var c;if(!o.setItem)return;await l(o.setItem,s,"string"==typeof t?t:u+(c=t,globalThis.Buffer?a.from(c).toString("base64"):globalThis.btoa(String.fromCodePoint(...c))),i)}o.watch||n("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:i,driver:s}=r(e=d(e));s.removeItem&&(await l(s.removeItem,i,t),(t.removeMeta||t.removeMata)&&await l(s.removeItem,i+"$",t),s.watch||n("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:i,driver:n}=r(e=d(e)),s=Object.create(null);if(n.getMeta&&Object.assign(s,await l(n.getMeta,i,t)),!t.nativeOnly){let e=await l(n.getItem,i+"$",t).then(e=>(0,o.Ay)(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=i(e=h(e),!0),n=[],s=[],o=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(o=!1),await l(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+d(r);n.some(e=>t.startsWith(e))||s.push(t)}n=[e.mountpoint,...n.filter(t=>!t.startsWith(e.mountpoint))]}let a=void 0!==t.maxDepth&&!o;return s.filter(r=>{var i;return(!a||function(e,t){if(void 0===t)return!0;let r=0,i=e.indexOf(":");for(;i>-1;)r++,i=e.indexOf(":",i+1);return r<=t}(r,t.maxDepth))&&((i=e)?r.startsWith(i)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=h(e),await Promise.all(i(e,!1).map(async e=>e.driver.clear?l(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>p(e)))},watch:async e=>(await s(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await g()}),async unwatch(){t.watchListeners=[],await g()},mount(e,r){if((e=h(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(f(r,n,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),m},async unmount(e,r=!0){(e=h(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await p(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=d(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>i(e=d(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>m.getKeys(e,t),get:(e,t={})=>m.getItem(e,t),set:(e,t,r={})=>m.setItem(e,t,r),has:(e,t={})=>m.hasItem(e,t),del:(e,t={})=>m.removeItem(e,t),remove:(e,t={})=>m.removeItem(e,t)};return m}({driver:((e={})=>{let t,r=e.base&&e.base.length>0?`${e.base}:`:"";return e.dbName&&e.storeName&&(t=(0,g.y$)(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await (0,g.Jt)(r+e,t)>"u"),getItem:async e=>await (0,g.Jt)(r+e,t)??null,setItem:(e,i)=>(0,g.hZ)(r+e,i,t),removeItem:e=>(0,g.yH)(r+e,t),getKeys:()=>(0,g.HP)(t),clear:()=>(0,g.IU)(t)}})({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,y.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var b="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},v={exports:{}};function w(e){var t;return[e[0],(0,y.j)(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof b&&b.localStorage?v.exports=b.localStorage:"u">typeof window&&window.localStorage?v.exports=window.localStorage:v.exports=new e}();class x{constructor(){this.localStorage=v.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(w)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,y.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,y.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let E=async(e,t,r)=>{let i="wc_storage_version",n=await t.getItem(i);if(n&&n>=1)return void r(t);let s=await e.getKeys();if(!s.length)return void r(t);let o=[];for(;s.length;){let r=s.shift();if(!r)continue;let i=r.toLowerCase();if(i.includes("wc@")||i.includes("walletconnect")||i.includes("wc_")||i.includes("wallet_connect")){let i=await e.getItem(r);await t.setItem(r,i),o.push(r)}}await t.setItem(i,1),r(t),S(e,o)},S=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class I{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new x;this.storage=e;try{let t=new m;E(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var C=r(19655),A=r(76589),D=Object.defineProperty,O=(e,t,r)=>((e,t,r)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class _ extends A.H{constructor(e){super(),this.opts=e,O(this,"protocol","wc"),O(this,"version",2)}}var R=Object.defineProperty;class N extends A.H{constructor(e,t){super(),this.core=e,this.logger=t,((e,t,r)=>((e,t,r)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r))(this,"records",new Map)}}class P{constructor(e,t){this.logger=e,this.core=t}}class j extends A.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class k extends A.H{constructor(e){super()}}class L{constructor(e,t,r,i){this.core=e,this.logger=t,this.name=r}}class B extends A.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class M extends A.H{constructor(e,t){super(),this.core=e,this.logger=t}}class U{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class F{constructor(e,t){this.projectId=e,this.logger=t}}class q{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var $=Object.defineProperty,z=(e,t,r)=>((e,t,r)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);n();class K{constructor(e){this.opts=e,z(this,"protocol","wc"),z(this,"version",2)}}i.EventEmitter;class V{constructor(e){this.client=e}}var H=r(89101),W=r(30565),Q=r(42221),J=r(621),Y=r(28094),G=r(98034),Z=r(42552);function X(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function ee(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=X(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return r}var et=r(17831);function er(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}let ei=er("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),en=er("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=X((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),es={utf8:ei,"utf-8":ei,hex:et.Fo.base16,latin1:en,ascii:en,binary:en,...et.Fo};function eo(e,t="utf8"){let r=es[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function ea(e,t="utf8"){let r=es[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var el=r(10973),ec=r(49509),eu=r(44134).hp;function ed(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function eh(e,t){return e.includes(":")?[e]:t.chains||[]}var ef=Object.defineProperty,ep=Object.defineProperties,eg=Object.getOwnPropertyDescriptors,ey=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,eb=Object.prototype.propertyIsEnumerable,ev=(e,t,r)=>t in e?ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ew=(e,t)=>{for(var r in t||(t={}))em.call(t,r)&&ev(e,r,t[r]);if(ey)for(var r of ey(t))eb.call(t,r)&&ev(e,r,t[r]);return e};let ex={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function eE(){return"u">typeof ec&&"u">typeof ec.versions&&"u">typeof ec.versions.node}function eS(){return!(0,J.getDocument)()&&!!(0,J.getNavigator)()&&"ReactNative"===navigator.product}function eI(){return!eE()&&!!(0,J.getNavigator)()&&!!(0,J.getDocument)()}function eC(){return eS()?ex.reactNative:eE()?ex.node:eI()?ex.browser:ex.unknown}function eA(){var e;try{return eS()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Application)?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}function eD(){return(0,Y.g)()||{name:"",description:"",url:"",icons:[""]}}function eO(e,t,i){let n=function(){if(eC()===ex.reactNative&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)){let{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}let e=(0,Q.o0)();if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;let t=eC();return t===ex.browser?[t,(null==(e=(0,J.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",i].join("-"),n,s].join("/")}function e_(e,t){return e.filter(e=>t.includes(e)).length===e.length}function eR(e){return Object.fromEntries(e.entries())}function eN(e){return new Map(Object.entries(e))}function eP(e=H.FIVE_MINUTES,t){let r,i,n,s,o=(0,H.toMiliseconds)(e||H.FIVE_MINUTES);return{resolve:e=>{n&&r&&(clearTimeout(n),r(e),s=Promise.resolve(e))},reject:e=>{n&&i&&(clearTimeout(n),i(e))},done:()=>new Promise((e,a)=>{if(s)return e(s);n=setTimeout(()=>{let e=Error(t);s=Promise.reject(e),a(e)},o),r=e,i=a})}}function ej(e,t,r){return new Promise(async(i,n)=>{let s=setTimeout(()=>n(Error(r)),t);try{let t=await e;i(t)}catch(e){n(e)}clearTimeout(s)})}function ek(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function eT(e){let[t,r]=e.split(":"),i={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)i.topic=r;else if("id"===t&&Number.isInteger(Number(r)))i.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function eL(e,t){return(0,H.fromMiliseconds)((t||Date.now())+(0,H.toMiliseconds)(e))}function eB(e){return Date.now()>=(0,H.toMiliseconds)(e)}function eM(e,t){return`${e}${t?`:${t}`:""}`}async function eU({id:e,topic:t,wcDeepLink:i}){var n,s;try{if(!i)return;let o="string"==typeof i?JSON.parse(i):i,a=o?.href;if("string"!=typeof a)return;let l=function(e,t,r){let i=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let n=`${e}`;if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";n=`${n}${t}${function(e,t=!1){let r=eu.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(i,!0)}`}else n=`${n}/wc?${i}`;return n}(a,e,t),c=eC();if(c===ex.browser){let e;if(!(null!=(n=(0,J.getDocument)())&&n.hasFocus()))return void console.warn("Document does not have focus, skipping deeplink.");s=l,e="_self",!function(){try{return window.self!==window.top}catch{return!1}}()?("u">typeof window&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)||s.startsWith("https://")||s.startsWith("http://"))&&(e="_blank"):e="_top",window.open(s,e,"noreferrer noopener")}else c===ex.reactNative&&"u">typeof(null==r.g?void 0:r.g.Linking)&&await r.g.Linking.openURL(l)}catch(e){console.error(e)}}async function eF(e,t){let r="";try{if(eI()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function eq(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),i=r.indexOf(t);return r[i+2]}function e$(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function ez(){return"u">typeof ec&&"true"===ec.env.IS_VITEST}function eK(e){return eu.from(e,"base64").toString("utf-8")}function eV(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function eH(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function eW(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");eV(e.outputLen),eV(e.blockLen)}function eQ(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eJ(e,t){eH(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}let eY=BigInt(0x100000000-1),eG=BigInt(32),eZ="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function eX(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function e0(e,t){return e<<32-t|e>>>t}let e1=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function e2(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}}function e5(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),eH(e),e}class e3{clone(){return this._cloneInto()}}function e4(e){let t=t=>e().update(e5(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function e8(e=32){if(eZ&&"function"==typeof eZ.getRandomValues)return eZ.getRandomValues(new Uint8Array(e));if(eZ&&"function"==typeof eZ.randomBytes)return eZ.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}let e6=[],e9=[],e7=[],te=BigInt(0),tt=BigInt(1),tr=BigInt(2),ti=BigInt(7),tn=BigInt(256),ts=BigInt(113);for(let e=0,t=tt,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],e6.push(2*(5*i+r)),e9.push((e+1)*(e+2)/2%64);let n=te;for(let e=0;e<7;e++)(t=(t<<tt^(t>>ti)*ts)%tn)&tr&&(n^=tt<<(tt<<BigInt(e))-tt);e7.push(n)}let[to,ta]=function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){let{h:s,l:o}=function(e,t=!1){return t?{h:Number(e&eY),l:Number(e>>eG&eY)}:{h:0|Number(e>>eG&eY),l:0|Number(e&eY)}}(e[n],t);[r[n],i[n]]=[s,o]}return[r,i]}(e7,!0),tl=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),tc=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class tu extends e3{constructor(e,t,r,i=!1,n=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,eV(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}keccak(){e1||e2(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,s=r[n],o=r[n+1],a=tl(s,o,1)^r[i],l=tc(s,o,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=e9[r],s=tl(t,n,i),o=tc(t,n,i),a=e6[r];t=e[a],n=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=to[i],e[1]^=ta[i]}r.fill(0)}(this.state32,this.rounds),e1||e2(this.state32),this.posOut=0,this.pos=0}update(e){eQ(this);let{blockLen:t,state:r}=this,i=(e=e5(e)).length;for(let n=0;n<i;){let s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){eQ(this,!1),eH(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return eV(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eJ(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new tu(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}let td=e4(()=>new tu(136,1,32));function th(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+eu.from(td(r)).toString("hex")}async function tf(e,t,r,i,n,s){switch(r.t){case"eip191":return await tp(e,t,r.s);case"eip1271":return await tg(e,t,r.s,i,n,s);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function tp(e,t,r){return(await (0,G.x)({hash:th(t),signature:r})).toLowerCase()===e.toLowerCase()}async function tg(e,t,r,i,n,s){let o=ed(i);if(!o.namespace||!o.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);try{let o="0x1626ba7e",a=r.substring(2),l=th(t).substring(2),c=o+l+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000041"+a,u=await fetch(`${s||"https://rpc.walletconnect.org/v1"}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:c},"latest"]})}),{result:d}=await u.json();return!!d&&d.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}var ty=Object.defineProperty,tm=Object.defineProperties,tb=Object.getOwnPropertyDescriptors,tv=Object.getOwnPropertySymbols,tw=Object.prototype.hasOwnProperty,tx=Object.prototype.propertyIsEnumerable,tE=(e,t,r)=>t in e?ty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;let tS=e=>e?.split(":"),tI=e=>{let t=e&&tS(e);if(t)return t[2]+":"+t[3]},tC=e=>{let t=e&&tS(e);if(t)return t.pop()};async function tA(e){let{cacao:t,projectId:r}=e,{s:i,p:n}=t,s=tD(n,n.iss),o=tC(n.iss);return await tf(o,s,i,tI(n.iss),r)}let tD=(e,t)=>{let r=`${e.domain} wants you to sign in with your Ethereum account:`,i=tC(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let n=e.statement||void 0,s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${(e=>{let t=e&&tS(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)}`,l=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,d=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,f=e.resources?`Resources:${e.resources.map(e=>`
- ${e}`).join("")}`:void 0,p=tj(e.resources);return p&&(n=function(e="",t){tO(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let i=[],n=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let s={};r.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});let o=Object.keys(s).map(t=>(n++,`(${n}) '${t}': '${s[t].join("', '")}' for '${e}'.`));i.push(o.join(", ").replace(".,","."))});let s=i.join(" "),o=`${r}${s}`;return`${e?e+" ":""}${o}`}(n,tR(p))),[r,i,"",n,"",s,o,a,l,c,u,d,h,f].filter(e=>null!=e).join(`
`)};function tO(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function t_(e){return tO(e),`urn:recap:${eu.from(JSON.stringify(e)).toString("base64").replace(/=/g,"")}`}function tR(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse(eu.from(t,"base64").toString("utf-8")));return tO(r),r}function tN(e){var t;let r=tR(e);tO(r);let i=null==(t=r.att)?void 0:t.eip155;return i?Object.keys(i).map(e=>e.split("/")[1]):[]}function tP(e){let t=tR(e);tO(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function tj(e){if(!e)return;let t=e?.[e.length-1];return t&&t.includes("urn:recap:")?t:void 0}function tk(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function tT(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function tL(e,...t){if(!tT(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function tB(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tM(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}let tU=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function tF(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(tT(e))e=tz(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function tq(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function t$(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>n&s),a=Number(r&s),l=4*!!i,c=4*!i;e.setUint32(t+l,o,i),e.setUint32(t+c,a,i)}function tz(e){return Uint8Array.from(e)}function tK(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let tV=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),tH=tV("expand 16-byte k"),tW=tV("expand 32-byte k"),tQ=tU(tH),tJ=tU(tW);function tY(e,t){return e<<t|e>>>32-t}function tG(e){return e.byteOffset%4==0}let tZ=0x100000000-1,tX=new Uint32Array,t0=(e,t)=>255&e[t++]|(255&e[t++])<<8;class t1{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,tL(e=tF(e),32);let t=t0(e,0),r=t0(e,2),i=t0(e,4),n=t0(e,6),s=t0(e,8),o=t0(e,10),a=t0(e,12),l=t0(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|n<<9)&8191,this.r[4]=(n>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|o<<2)&8191,this.r[7]=(o>>>11|a<<5)&8065,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=t0(e,16+2*t)}process(e,t,r=!1){let{h:i,r:n}=this,s=n[0],o=n[1],a=n[2],l=n[3],c=n[4],u=n[5],d=n[6],h=n[7],f=n[8],p=n[9],g=t0(e,t+0),y=t0(e,t+2),m=t0(e,t+4),b=t0(e,t+6),v=t0(e,t+8),w=t0(e,t+10),x=t0(e,t+12),E=t0(e,t+14),S=i[0]+(8191&g),I=i[1]+((g>>>13|y<<3)&8191),C=i[2]+((y>>>10|m<<6)&8191),A=i[3]+((m>>>7|b<<9)&8191),D=i[4]+((b>>>4|v<<12)&8191),O=i[5]+(v>>>1&8191),_=i[6]+((v>>>14|w<<2)&8191),R=i[7]+((w>>>11|x<<5)&8191),N=i[8]+((x>>>8|E<<8)&8191),P=i[9]+(E>>>5|2048*!r),j=0,k=0+S*s+5*p*I+5*f*C+5*h*A+5*d*D;j=k>>>13,k&=8191,k+=5*u*O+5*c*_+5*l*R+5*a*N+5*o*P,j+=k>>>13,k&=8191;let L=j+S*o+I*s+5*p*C+5*f*A+5*h*D;j=L>>>13,L&=8191,L+=5*d*O+5*u*_+5*c*R+5*l*N+5*a*P,j+=L>>>13,L&=8191;let B=j+S*a+I*o+C*s+5*p*A+5*f*D;j=B>>>13,B&=8191,B+=5*h*O+5*d*_+5*u*R+5*c*N+5*l*P,j+=B>>>13,B&=8191;let M=j+S*l+I*a+C*o+A*s+5*p*D;j=M>>>13,M&=8191,M+=5*f*O+5*h*_+5*d*R+5*u*N+5*c*P,j+=M>>>13,M&=8191;let U=j+S*c+I*l+C*a+A*o+D*s;j=U>>>13,U&=8191,U+=5*p*O+5*f*_+5*h*R+5*d*N+5*u*P,j+=U>>>13,U&=8191;let F=j+S*u+I*c+C*l+A*a+D*o;j=F>>>13,F&=8191,F+=O*s+5*p*_+5*f*R+5*h*N+5*d*P,j+=F>>>13,F&=8191;let q=j+S*d+I*u+C*c+A*l+D*a;j=q>>>13,q&=8191,q+=O*o+_*s+5*p*R+5*f*N+5*h*P,j+=q>>>13,q&=8191;let $=j+S*h+I*d+C*u+A*c+D*l;j=$>>>13,$&=8191,$+=O*a+_*o+R*s+5*p*N+5*f*P,j+=$>>>13,$&=8191;let z=j+S*f+I*h+C*d+A*u+D*c;j=z>>>13,z&=8191,z+=O*l+_*a+R*o+N*s+5*p*P,j+=z>>>13,z&=8191;let K=j+S*p+I*f+C*h+A*d+D*u;j=K>>>13,K&=8191,K+=O*c+_*l+R*a+N*o+P*s,j+=K>>>13,K&=8191,k=8191&(j=(j=(j<<2)+j|0)+k|0),j>>>=13,L+=j,i[0]=k,i[1]=L,i[2]=B,i[3]=M,i[4]=U,i[5]=F,i[6]=q,i[7]=$,i[8]=z,i[9]=K}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=i,i=e[t]>>>13,e[t]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+i,i=r[t]>>>13,r[t]&=8191;r[9]-=8192;let n=(1^i)-1;for(let e=0;e<10;e++)r[e]&=n;n=~n;for(let t=0;t<10;t++)e[t]=e[t]&n|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+t[0];e[0]=65535&s;for(let r=1;r<8;r++)s=(e[r]+t[r]|0)+(s>>>16)|0,e[r]=65535&s;tK(r)}update(e){tB(this);let{buffer:t,blockLen:r}=this,i=(e=tF(e)).length;for(let n=0;n<i;){let s=Math.min(r-this.pos,i-n);if(s===r){for(;r<=i-n;n+=r)this.process(e,n);continue}t.set(e.subarray(n,n+s),this.pos),this.pos+=s,n+=s,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){tK(this.h,this.r,this.buffer,this.pad)}digestInto(e){tB(this),function(e,t){tL(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let n=0;for(let t=0;t<8;t++)e[n++]=r[t]>>>0,e[n++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let t2=function(e){let t=(t,r)=>e(r).update(tF(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new t1(e)),t5=function(e,t){let{allowShortKeys:r,extendNonceFn:i,counterLength:n,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return tk(n),tk(o),tM(s),tM(r),(t,a,l,c,u=0)=>{tL(t),tL(a),tL(l);let d=l.length;if(void 0===c&&(c=new Uint8Array(d)),tL(c),tk(u),u<0||u>=tZ)throw Error("arx: counter overflow");if(c.length<d)throw Error(`arx: output (${c.length}) is shorter than data (${d})`);let h=[],f=t.length,p,g;if(32===f)h.push(p=tz(t)),g=tJ;else if(16===f&&r)(p=new Uint8Array(32)).set(t),p.set(t,16),g=tQ,h.push(p);else throw Error(`arx: invalid 32-byte key, got length=${f}`);tG(a)||h.push(a=tz(a));let y=tU(p);if(i){if(24!==a.length)throw Error("arx: extended nonce must be 24 bytes");i(g,y,tU(a.subarray(0,16)),y),a=a.subarray(16)}let m=16-n;if(m!==a.length)throw Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){let e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,h.push(a)}return function(e,t,r,i,n,s,o,a){let l=n.length,c=new Uint8Array(64),u=tU(c),d=tG(n)&&tG(s),h=d?tU(n):tX,f=d?tU(s):tX;for(let p=0;p<l;o++){if(e(t,r,i,u,o,a),o>=tZ)throw Error("arx: counter overflow");let g=Math.min(64,l-p);if(d&&64===g){let e=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)f[r=e+t]=h[r]^u[t];p+=64;continue}for(let e=0,t;e<g;e++)s[t=p+e]=n[t]^c[e];p+=g}}(e,g,y,tU(a),l,c,u,o),tK(...h),c}}(function(e,t,r,i,n,s=20){let o=e[0],a=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],g=t[5],y=t[6],m=t[7],b=r[0],v=r[1],w=r[2],x=o,E=a,S=l,I=c,C=u,A=d,D=h,O=f,_=p,R=g,N=y,P=m,j=n,k=b,L=v,B=w;for(let e=0;e<s;e+=2)_=_+(j=tY(j^(x=x+C|0),16))|0,x=x+(C=tY(C^_,12))|0,_=_+(j=tY(j^x,8))|0,C=tY(C^_,7),R=R+(k=tY(k^(E=E+A|0),16))|0,E=E+(A=tY(A^R,12))|0,R=R+(k=tY(k^E,8))|0,A=tY(A^R,7),N=N+(L=tY(L^(S=S+D|0),16))|0,S=S+(D=tY(D^N,12))|0,N=N+(L=tY(L^S,8))|0,D=tY(D^N,7),P=P+(B=tY(B^(I=I+O|0),16))|0,I=I+(O=tY(O^P,12))|0,P=P+(B=tY(B^I,8))|0,O=tY(O^P,7),N=N+(B=tY(B^(x=x+A|0),16))|0,x=x+(A=tY(A^N,12))|0,N=N+(B=tY(B^x,8))|0,A=tY(A^N,7),P=P+(j=tY(j^(E=E+D|0),16))|0,E=E+(D=tY(D^P,12))|0,P=P+(j=tY(j^E,8))|0,D=tY(D^P,7),_=_+(k=tY(k^(S=S+O|0),16))|0,S=S+(O=tY(O^_,12))|0,_=_+(k=tY(k^S,8))|0,O=tY(O^_,7),R=R+(L=tY(L^(I=I+C|0),16))|0,I=I+(C=tY(C^R,12))|0,R=R+(L=tY(L^I,8))|0,C=tY(C^R,7);let M=0;i[M++]=o+x|0,i[M++]=a+E|0,i[M++]=l+S|0,i[M++]=c+I|0,i[M++]=u+C|0,i[M++]=d+A|0,i[M++]=h+D|0,i[M++]=f+O|0,i[M++]=p+_|0,i[M++]=g+R|0,i[M++]=y+N|0,i[M++]=m+P|0,i[M++]=n+j|0,i[M++]=b+k|0,i[M++]=v+L|0,i[M++]=w+B|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),t3=new Uint8Array(16),t4=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(t3.subarray(r))},t8=new Uint8Array(32);function t6(e,t,r,i,n){let s=e(t,r,t8),o=t2.create(s);n&&t4(o,n),t4(o,i);let a=new Uint8Array(16),l=new DataView(a.buffer,a.byteOffset,a.byteLength);t$(l,0,BigInt(n?n.length:0),!0),t$(l,8,BigInt(i.length),!0),o.update(a);let c=o.digest();return tK(s,a),c}let t9=((e,t)=>{function r(i,...n){if(tL(i),void 0!==e.nonceLength){let t=n[0];if(!t)throw Error("nonce / iv required");e.varSizeNonce?tL(t):tL(t,e.nonceLength)}let s=e.tagLength;s&&void 0!==n[1]&&tL(n[1]);let o=t(i,...n),a=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");tL(t)}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,tL(e),a(o.encrypt.length,t),o.encrypt(e,t)},decrypt(e,t){if(tL(e),s&&e.length<s)throw Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,t),o.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,r,i)=>({encrypt(n,s){let o=n.length;(s=tq(o+16,s,!1)).set(n);let a=s.subarray(0,-16);e(t,r,a,a,1);let l=t6(e,t,r,a,i);return s.set(l,o),tK(l),s},decrypt(n,s){s=tq(n.length-16,s,!1);let o=n.subarray(0,-16),a=n.subarray(-16),l=t6(e,t,r,o,i);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}(a,l))throw Error("invalid tag");return s.set(n.subarray(0,-16)),e(t,r,s,s,1),tK(l),s}}))(t5));class t7 extends e3{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,eW(e);let r=e5(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),n.fill(0)}update(e){return eQ(this),this.iHash.update(e),this}digestInto(e){eQ(this),eH(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let re=(e,t,r)=>new t7(e,t).update(r).digest();re.create=(e,t)=>new t7(e,t);let rt=new Uint8Array([0]),rr=new Uint8Array;class ri extends e3{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=eX(this.buffer)}update(e){eQ(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=e5(e)).length;for(let s=0;s<n;){let o=Math.min(i-this.pos,n-s);if(o===i){let t=eX(e);for(;i<=n-s;s+=i)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){eQ(this),eJ(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let e=s;e<i;e++)t[e]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>n&s),a=Number(r&s),l=4*!!i,c=4*!i;e.setUint32(t+l,o,i),e.setUint32(t+c,a,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);let o=eX(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,c[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}let rn=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),rs=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),ro=new Uint32Array(64);class ra extends ri{constructor(){super(64,32,8,!1),this.A=0|rs[0],this.B=0|rs[1],this.C=0|rs[2],this.D=0|rs[3],this.E=0|rs[4],this.F=0|rs[5],this.G=0|rs[6],this.H=0|rs[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[e,t,r,i,n,s,o,a]}set(e,t,r,i,n,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)ro[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=ro[e-15],r=ro[e-2],i=e0(t,7)^e0(t,18)^t>>>3,n=e0(r,17)^e0(r,19)^r>>>10;ro[e]=n+ro[e-7]+i+ro[e-16]|0}let{A:r,B:i,C:n,D:s,E:o,F:a,G:l,H:c}=this;for(let e=0;e<64;e++){var u,d,h,f;let t=c+(e0(o,6)^e0(o,11)^e0(o,25))+((u=o)&a^~u&l)+rn[e]+ro[e]|0,p=(e0(r,2)^e0(r,13)^e0(r,22))+((d=r)&(h=i)^d&(f=n)^h&f)|0;c=l,l=a,a=o,o=s+t|0,s=n,n=i,i=r,r=t+p|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,i,n,s,o,a,l,c)}roundClean(){ro.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let rl=e4(()=>new ra),rc=BigInt(0),ru=BigInt(1),rd=BigInt(2);function rh(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function rf(e){if(!rh(e))throw Error("Uint8Array expected")}function rp(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let rg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ry(e){rf(e);let t="";for(let r=0;r<e.length;r++)t+=rg[e[r]];return t}function rm(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function rb(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?rc:BigInt("0x"+e)}let rv={_0:48,_9:57,A:65,F:70,a:97,f:102};function rw(e){return e>=rv._0&&e<=rv._9?e-rv._0:e>=rv.A&&e<=rv.F?e-(rv.A-10):e>=rv.a&&e<=rv.f?e-(rv.a-10):void 0}function rx(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=rw(e.charCodeAt(n)),s=rw(e.charCodeAt(n+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+s}return i}function rE(e){return rb(ry(e))}function rS(e){return rf(e),rb(ry(Uint8Array.from(e).reverse()))}function rI(e,t){return rx(e.toString(16).padStart(2*t,"0"))}function rC(e,t){return rI(e,t).reverse()}function rA(e,t,r){let i;if("string"==typeof t)try{i=rx(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(rh(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=i.length;if("number"==typeof r&&n!==r)throw Error(e+" of length "+r+" expected, got "+n);return i}function rD(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];rf(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}let rO=e=>"bigint"==typeof e&&rc<=e;function r_(e,t,r){return rO(e)&&rO(t)&&rO(r)&&t<=e&&e<r}function rR(e,t,r,i){if(!r_(t,r,i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}function rN(e){let t;for(t=0;e>rc;e>>=ru,t+=1);return t}let rP=e=>(rd<<BigInt(e-1))-ru,rj=e=>new Uint8Array(e),rk=e=>Uint8Array.from(e);function rT(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let i=rj(e),n=rj(e),s=0,o=()=>{i.fill(1),n.fill(0),s=0},a=(...e)=>r(n,i,...e),l=(e=rj())=>{n=a(rk([0]),e),i=a(),0!==e.length&&(n=a(rk([1]),e),i=a())},c=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(i=a()).slice();r.push(t),e+=i.length}return rD(...r)};return(e,t)=>{let r;for(o(),l(e);!(r=t(c()));)l();return o(),r}}let rL={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||rh(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function rB(e,t,r={}){let i=(t,r,i)=>{let n=rL[r];if("function"!=typeof n)throw Error("invalid validator function");let s=e[t];if(!(i&&void 0===s)&&!n(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}function rM(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let s=e(r,...i);return t.set(r,s),s}}var rU=Object.freeze({__proto__:null,isBytes:rh,abytes:rf,abool:rp,bytesToHex:ry,numberToHexUnpadded:rm,hexToNumber:rb,hexToBytes:rx,bytesToNumberBE:rE,bytesToNumberLE:rS,numberToBytesBE:rI,numberToBytesLE:rC,numberToVarBytesBE:function(e){return rx(rm(e))},ensureBytes:rA,concatBytes:rD,equalBytes:function(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r},utf8ToBytes:function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))},inRange:r_,aInRange:rR,bitLen:rN,bitGet:function(e,t){return e>>BigInt(t)&ru},bitSet:function(e,t,r){return e|(r?ru:rc)<<BigInt(t)},bitMask:rP,createHmacDrbg:rT,validateObject:rB,notImplemented:()=>{throw Error("not implemented")},memoized:rM});let rF=BigInt(0),rq=BigInt(1),r$=BigInt(2),rz=BigInt(3),rK=BigInt(4),rV=BigInt(5),rH=BigInt(8);function rW(e,t){let r=e%t;return r>=rF?r:t+r}function rQ(e,t,r){if(t<rF)throw Error("invalid exponent, negatives unsupported");if(r<=rF)throw Error("invalid modulus");if(r===rq)return rF;let i=rq;for(;t>rF;)t&rq&&(i=i*e%r),e=e*e%r,t>>=rq;return i}function rJ(e,t,r){let i=e;for(;t-- >rF;)i*=i,i%=r;return i}function rY(e,t){if(e===rF)throw Error("invert: expected non-zero number");if(t<=rF)throw Error("invert: expected positive modulus, got "+t);let r=rW(e,t),i=t,n=rF,s=rq;for(;r!==rF;){let e=i/r,t=i%r,o=n-s*e;i=r,r=t,n=s,s=o}if(i!==rq)throw Error("invert: does not exist");return rW(n,t)}let rG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rZ(e,t){let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function rX(e,t,r=!1,i={}){let n;if(e<=rF)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:o}=rZ(e,t);if(o>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:rP(s),ZERO:rF,ONE:rq,create:t=>rW(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return rF<=t&&t<e},is0:e=>e===rF,isOdd:e=>(e&rq)===rq,neg:t=>rW(-t,e),eql:(e,t)=>e===t,sqr:t=>rW(t*t,e),add:(t,r)=>rW(t+r,e),sub:(t,r)=>rW(t-r,e),mul:(t,r)=>rW(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<rF)throw Error("invalid exponent, negatives unsupported");if(r===rF)return e.ONE;if(r===rq)return t;let i=e.ONE,n=t;for(;r>rF;)r&rq&&(i=e.mul(i,n)),n=e.sqr(n),r>>=rq;return i})(a,e,t),div:(t,r)=>rW(t*rY(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rY(t,e),sqrt:i.sqrt||(t=>(n||(n=function(e){if(e%rK===rz){let t=(e+rq)/rK;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}if(e%rH===rV){let t=(e-rV)/rH;return function(e,r){let i=e.mul(r,r$),n=e.pow(i,t),s=e.mul(r,n),o=e.mul(e.mul(s,r$),n),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,i,n=(e-rq)/r$;for(t=e-rq,r=0;t%r$===rF;t/=r$,r++);for(i=r$;i<e&&rQ(i,n,e)!==e-rq;i++)if(i>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+rq)/rK;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}let s=(t+rq)/r$;return function(e,o){if(e.pow(o,n)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),t),c=e.pow(o,s),u=e.pow(o,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,rq<<BigInt(a-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),a=t}return c}}(e)}(e)),n(a,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),i=t.reduce((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i)),e.ONE),n=e.inv(i);return t.reduceRight((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i)),n),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?rC(e,o):rI(e,o),fromBytes:e=>{if(e.length!==o)throw Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return r?rS(e):rE(e)}});return Object.freeze(a)}function r0(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function r1(e){let t=r0(e);return t+Math.ceil(t/2)}let r2=BigInt(0),r5=BigInt(1);function r3(e,t){let r=t.negate();return e?r:t}function r4(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function r8(e,t){return r4(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let r6=new WeakMap,r9=new WeakMap;function r7(e){return r9.get(e)||1}function ie(e){return rB(e.Fp,rG.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),rB(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rZ(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let it=BigInt(0),ir=BigInt(1),ii=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);let is=BigInt(1),io=BigInt(2),ia=BigInt(3),il=BigInt(5);BigInt(8);let ic=function(e){let t=(rB(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})),{P:r}=t,i=e=>rW(e,r),n=t.montgomeryBits,s=Math.ceil(n/8),o=t.nByteLength,a=t.adjustScalarBytes||(e=>e),l=t.powPminus2||(e=>rQ(e,r-BigInt(2),r));function c(e,t,r){let n=i(e*(t-r));return[t=i(t-n),r=i(r+n)]}let u=(t.a-BigInt(2))/BigInt(4);function d(e,t){let d=function(e,t){rR("u",e,it,r),rR("scalar",t,it,r);let s=ir,o=it,a=e,d=ir,h=it,f;for(let r=BigInt(n-1);r>=it;r--){let n=t>>r&ir;h^=n,s=(f=c(h,s,a))[0],a=f[1],o=(f=c(h,o,d))[0],d=f[1],h=n;let l=s+o,p=i(l*l),g=s-o,y=i(g*g),m=p-y,b=a+d,v=i((a-d)*l),w=i(b*g),x=v+w,E=v-w;a=i(x*x),d=i(e*i(E*E)),s=i(p*y),o=i(m*(p+i(u*m)))}return s=(f=c(h,s,a))[0],a=f[1],o=(f=c(h,o,d))[0],d=f[1],i(s*l(o))}(function(e){let t=rA("u coordinate",e,s);return 32===o&&(t[31]&=127),rS(t)}(t),function(e){let t=rA("scalar",e),r=t.length;if(r!==s&&r!==o)throw Error("invalid scalar, expected "+(""+s+" or ")+o+" bytes, got "+r);return rS(a(t))}(e));if(d===it)throw Error("invalid private or public key received");return rC(i(d),s)}let h=rC(i(t.Gu),s);function f(e){return d(e,h)}return{scalarMult:d,scalarMultBase:f,getSharedSecret:(e,t)=>d(e,t),getPublicKey:e=>f(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:h}}({P:ii,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{let{pow_p_5_8:t,b2:r}=function(e){let t=BigInt(10),r=BigInt(20),i=BigInt(40),n=BigInt(80),s=e*e%ii*e%ii,o=rJ(s,io,ii)*s%ii,a=rJ(o,is,ii)*e%ii,l=rJ(a,il,ii)*a%ii,c=rJ(l,t,ii)*l%ii,u=rJ(c,r,ii)*c%ii,d=rJ(u,i,ii)*u%ii,h=rJ(d,n,ii)*d%ii,f=rJ(h,n,ii)*d%ii,p=rJ(f,t,ii)*l%ii;return{pow_p_5_8:rJ(p,io,ii)*e%ii,b2:s}}(e);return rW(rJ(t,ia,ii)*r,ii)},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},randomBytes:e8});function iu(e){void 0!==e.lowS&&rp("lowS",e.lowS),void 0!==e.prehash&&rp("prehash",e.prehash)}let{bytesToNumberBE:id,hexToBytes:ih}=rU;class ip extends Error{constructor(e=""){super(e)}}let ig={Err:ip,_tlv:{encode:(e,t)=>{let{Err:r}=ig;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let i=t.length/2,n=rm(i);if(n.length/2&128)throw new r("tlv.encode: long form length too big");let s=i>127?rm(n.length/2|128):"";return rm(e)+s+n+t},decode(e,t){let{Err:r}=ig,i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new r("tlv.decode: wrong tlv");let n=t[i++],s=0;if(128&n){let e=127&n;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let o=t.subarray(i,i+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of o)s=s<<8|e;if(i+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=n;let o=t.subarray(i,i+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(i+s)}}},_int:{encode(e){let{Err:t}=ig;if(e<iy)throw new t("integer: negative integers are not allowed");let r=rm(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ig;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return id(e)}},toSig(e){let{Err:t,_int:r,_tlv:i}=ig,n="string"==typeof e?ih(e):e;rf(n);let{v:s,l:o}=i.decode(48,n);if(o.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:l}=i.decode(2,s),{v:c,l:u}=i.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=ig,i=t.encode(2,r.encode(e.r)),n=t.encode(2,r.encode(e.s));return t.encode(48,i+n)}},iy=BigInt(0),im=BigInt(1);BigInt(2);let ib=BigInt(3);BigInt(4);let iv=rX(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),iw=function(e,t){let r=t=>(function(e){let t=function(e){let t=ie(e);return rB(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:i}=t,n=r.BYTES+1,s=2*r.BYTES+1;function o(e){return rW(e,i)}let{ProjectivePoint:a,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:u}=function(e){var t;let r=function(e){let t=ie(e);rB(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=t;if(r){if(!i.eql(n,i.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:i}=r,n=rX(r.n,r.nBitLength),s=r.toBytes||((e,t,r)=>{let n=t.toAffine();return rD(Uint8Array.from([4]),i.toBytes(n.x),i.toBytes(n.y))}),o=r.fromBytes||(e=>{let t=e.subarray(1);return{x:i.fromBytes(t.subarray(0,i.BYTES)),y:i.fromBytes(t.subarray(i.BYTES,2*i.BYTES))}});function a(e){let{a:t,b:n}=r,s=i.sqr(e),o=i.mul(s,e);return i.add(i.add(o,i.mul(e,t)),n)}if(!i.eql(i.sqr(r.Gy),a(r.Gx)))throw Error("bad generator point: equation left != right");function l(e){let t,{allowedPrivateKeyLengths:i,nByteLength:n,wrapPrivateKey:s,n:o}=r;if(i&&"bigint"!=typeof e){if(rh(e)&&(e=ry(e)),"string"!=typeof e||!i.includes(e.length))throw Error("invalid private key");e=e.padStart(2*n,"0")}try{t="bigint"==typeof e?e:rE(rA("private key",e,n))}catch{throw Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return s&&(t=rW(t,o)),rR("private key",t,im,o),t}function c(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}let u=rM((e,t)=>{let{px:r,py:n,pz:s}=e;if(i.eql(s,i.ONE))return{x:r,y:n};let o=e.is0();null==t&&(t=o?i.ONE:i.inv(s));let a=i.mul(r,t),l=i.mul(n,t),c=i.mul(s,t);if(o)return{x:i.ZERO,y:i.ZERO};if(!i.eql(c,i.ONE))throw Error("invZ was invalid");return{x:a,y:l}}),d=rM(e=>{if(e.is0()){if(r.allowInfinityPoint&&!i.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:n}=e.toAffine();if(!i.isValid(t)||!i.isValid(n))throw Error("bad point: x or y not FE");let s=i.sqr(n),o=a(t);if(!i.eql(s,o))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!i.isValid(e))throw Error("x required");if(null==t||!i.isValid(t))throw Error("y required");if(null==r||!i.isValid(r))throw Error("z required");Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!i.isValid(t)||!i.isValid(r))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let n=e=>i.eql(e,i.ZERO);return n(t)&&n(r)?h.ZERO:new h(t,r,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=i.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(o(rA("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}static msm(e,t){return function(e,t,r,i){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(i,t),r.length!==i.length)throw Error("arrays of points and scalars must have equal length");let n=e.ZERO,s=rN(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=Array(a+1).fill(n),c=Math.floor((t.BITS-1)/o)*o,u=n;for(let e=c;e>=0;e-=o){l.fill(n);for(let t=0;t<i.length;t++){let n=Number(i[t]>>BigInt(e)&BigInt(a));l[n]=l[n].add(r[t])}let t=n;for(let e=l.length-1,r=n;e>0;e--)r=r.add(l[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<o;e++)u=u.double()}return u}(h,n,e,t)}_setWindowSize(e){p.setWindowSize(this,e)}assertValidity(){d(this)}hasEvenY(){let{y:e}=this.toAffine();if(i.isOdd)return!i.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:r,pz:n}=this,{px:s,py:o,pz:a}=e,l=i.eql(i.mul(t,a),i.mul(s,n)),u=i.eql(i.mul(r,a),i.mul(o,n));return l&&u}negate(){return new h(this.px,i.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,n=i.mul(t,ib),{px:s,py:o,pz:a}=this,l=i.ZERO,c=i.ZERO,u=i.ZERO,d=i.mul(s,s),f=i.mul(o,o),p=i.mul(a,a),g=i.mul(s,o);return g=i.add(g,g),u=i.mul(s,a),u=i.add(u,u),l=i.mul(e,u),c=i.mul(n,p),c=i.add(l,c),l=i.sub(f,c),c=i.add(f,c),c=i.mul(l,c),l=i.mul(g,l),u=i.mul(n,u),p=i.mul(e,p),g=i.sub(d,p),g=i.mul(e,g),g=i.add(g,u),u=i.add(d,d),d=i.add(u,d),d=i.add(d,p),d=i.mul(d,g),c=i.add(c,d),p=i.mul(o,a),p=i.add(p,p),d=i.mul(p,g),l=i.sub(l,d),u=i.mul(p,f),u=i.add(u,u),new h(l,c,u=i.add(u,u))}add(e){c(e);let{px:t,py:n,pz:s}=this,{px:o,py:a,pz:l}=e,u=i.ZERO,d=i.ZERO,f=i.ZERO,p=r.a,g=i.mul(r.b,ib),y=i.mul(t,o),m=i.mul(n,a),b=i.mul(s,l),v=i.add(t,n),w=i.add(o,a);v=i.mul(v,w),w=i.add(y,m),v=i.sub(v,w),w=i.add(t,s);let x=i.add(o,l);return w=i.mul(w,x),x=i.add(y,b),w=i.sub(w,x),x=i.add(n,s),u=i.add(a,l),x=i.mul(x,u),u=i.add(m,b),x=i.sub(x,u),f=i.mul(p,w),u=i.mul(g,b),f=i.add(u,f),u=i.sub(m,f),f=i.add(m,f),d=i.mul(u,f),m=i.add(y,y),m=i.add(m,y),b=i.mul(p,b),w=i.mul(g,w),m=i.add(m,b),b=i.sub(y,b),b=i.mul(p,b),w=i.add(w,b),y=i.mul(m,w),d=i.add(d,y),y=i.mul(x,w),u=i.mul(v,u),u=i.sub(u,y),y=i.mul(v,m),f=i.mul(x,f),new h(u,d,f=i.add(f,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return p.wNAFCached(this,e,h.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:n}=r;rR("scalar",e,iy,n);let s=h.ZERO;if(e===iy)return s;if(this.is0()||e===im)return this;if(!t||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,e,h.normalizeZ);let{k1neg:o,k1:a,k2neg:l,k2:c}=t.splitScalar(e),u=s,d=s,f=this;for(;a>iy||c>iy;)a&im&&(u=u.add(f)),c&im&&(d=d.add(f)),f=f.double(),a>>=im,c>>=im;return o&&(u=u.negate()),l&&(d=d.negate()),d=new h(i.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,n,{endo:s,n:o}=r;if(rR("scalar",e,im,o),s){let{k1neg:r,k1:o,k2neg:a,k2:l}=s.splitScalar(e),{p:c,f:u}=this.wNAF(o),{p:d,f:f}=this.wNAF(l);c=p.constTimeNegate(r,c),d=p.constTimeNegate(a,d),d=new h(i.mul(d.px,s.beta),d.py,d.pz),t=c.add(d),n=u.add(f)}else{let{p:r,f:i}=this.wNAF(e);t=r,n=i}return h.normalizeZ([t,n])[0]}multiplyAndAddUnsafe(e,t,r){let i=h.BASE,n=(e,t)=>t!==iy&&t!==im&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t),s=n(this,t).add(n(e,r));return s.is0()?void 0:s}toAffine(e){return u(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===im)return!0;if(t)return t(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===im?this:t?t(h,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return rp("isCompressed",e),this.assertValidity(),s(h,this,e)}toHex(e=!0){return rp("isCompressed",e),ry(this.toRawBytes(e))}}h.BASE=new h(r.Gx,r.Gy,i.ONE),h.ZERO=new h(i.ZERO,i.ONE,i.ZERO);let f=r.nBitLength,p=(t=r.endo?Math.ceil(f/2):f,{constTimeNegate:r3,hasPrecomputes:e=>1!==r7(e),unsafeLadder(e,t,r=h.ZERO){let i=e;for(;t>r2;)t&r5&&(r=r.add(i)),i=i.double(),t>>=r5;return r},precomputeWindow(e,r){let{windows:i,windowSize:n}=r8(r,t),s=[],o=e,a=o;for(let e=0;e<i;e++){a=o,s.push(a);for(let e=1;e<n;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,r,i){let{windows:n,windowSize:s}=r8(e,t),o=h.ZERO,a=h.BASE,l=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let e=0;e<n;e++){let t=e*s,n=Number(i&l);i>>=u,n>s&&(n-=c,i+=r5);let d=t+Math.abs(n)-1,h=e%2!=0,f=n<0;0===n?a=a.add(r3(h,r[t])):o=o.add(r3(f,r[d]))}return{p:o,f:a}},wNAFUnsafe(e,r,i,n=h.ZERO){let{windows:s,windowSize:o}=r8(e,t),a=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<s;e++){let t=e*o;if(i===r2)break;let s=Number(i&a);if(i>>=c,s>o&&(s-=l,i+=r5),0===s)continue;let u=r[t+Math.abs(s)-1];s<0&&(u=u.negate()),n=n.add(u)}return n},getPrecomputes(e,t,r){let i=r6.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&r6.set(t,r(i))),i},wNAFCached(e,t,r){let i=r7(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)},wNAFCachedUnsafe(e,t,r,i){let n=r7(e);return 1===n?this.unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)},setWindowSize(e,r){r4(r,t),r9.set(e,r),r6.delete(e)}});return{CURVE:r,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:function(e){return r_(e,im,r.n)}}}({...t,toBytes(e,t,i){let n=t.toAffine(),s=r.toBytes(n.x);return rp("isCompressed",i),i?rD(Uint8Array.from([t.hasEvenY()?2:3]),s):rD(Uint8Array.from([4]),s,r.toBytes(n.y))},fromBytes(e){let t=e.length,i=e[0],o=e.subarray(1);if(t===n&&(2===i||3===i)){let e,t=rE(o);if(!r_(t,im,r.ORDER))throw Error("Point is not on curve");let n=c(t);try{e=r.sqrt(n)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&i)==1!=((e&im)===im)&&(e=r.neg(e)),{x:t,y:e}}if(t===s&&4===i)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+n+", or uncompressed "+s+", got "+t)}}),d=e=>ry(rI(e,t.nByteLength)),h=(e,t,r)=>rE(e.slice(t,r));class f{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new f(h(e=rA("compactSignature",e,2*r),0,r),h(e,r,2*r))}static fromDER(e){let{r:t,s:r}=ig.toSig(rA("DER",e));return new f(t,r)}assertValidity(){rR("r",this.r,im,i),rR("s",this.s,im,i)}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:n,s:s,recovery:l}=this,c=y(rA("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let u=2===l||3===l?n+t.n:n;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&l)==0?"02":"03",f=a.fromHex(h+d(u)),p=rY(u,i),g=o(-c*p),m=o(s*p),b=a.BASE.multiplyAndAddUnsafe(f,g,m);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>i>>im}normalizeS(){return this.hasHighS()?new f(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return rx(this.toDERHex())}toDERHex(){return ig.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rx(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}function p(e){let t=rh(e),r="string"==typeof e,i=(t||r)&&e.length;return t?i===n||i===s:r?i===2*n||i===2*s:e instanceof a}let g=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let r=rE(e),i=8*e.length-t.nBitLength;return i>0?r>>BigInt(i):r},y=t.bits2int_modN||function(e){return o(g(e))},m=rP(t.nBitLength);function b(e){return rR("num < 2^"+t.nBitLength,e,iy,m),rI(e,t.nByteLength)}let v={lowS:t.lowS,prehash:!1},w={lowS:t.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return a.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return a.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,n,s=v){let{seed:c,k2sig:d}=function(e,n,s=v){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:d}=t,{lowS:h,prehash:p,extraEntropy:m}=s;null==h&&(h=!0),e=rA("msgHash",e),iu(s),p&&(e=rA("prehashed msgHash",c(e)));let w=y(e),x=l(n),E=[b(x),b(w)];if(null!=m&&!1!==m){let e=!0===m?d(r.BYTES):m;E.push(rA("extraEntropy",e))}return{seed:rD(...E),k2sig:function(e){var t;let r=g(e);if(!u(r))return;let n=rY(r,i),s=a.BASE.multiply(r).toAffine(),l=o(s.x);if(l===iy)return;let c=o(n*o(w+l*x));if(c===iy)return;let d=2*(s.x!==l)|Number(s.y&im),p=c;return h&&c>i>>im&&(p=(t=c)>i>>im?o(-t):t,d^=1),new f(l,p,d)}}}(e,n,s);return rT(t.hash.outputLen,t.nByteLength,t.hmac)(c,d)},verify:function(e,r,n,s=w){let l,c;r=rA("msgHash",r),n=rA("publicKey",n);let{lowS:u,prehash:d,format:h}=s;if(iu(s),"strict"in s)throw Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw Error("format must be compact or der");let p="string"==typeof e||rh(e),g=!p&&!h&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(l=new f(e.r,e.s)),p){try{"compact"!==h&&(l=f.fromDER(e))}catch(e){if(!(e instanceof ig.Err))throw e}l||"der"===h||(l=f.fromCompact(e))}c=a.fromHex(n)}catch{return!1}if(!l||u&&l.hasHighS())return!1;d&&(r=t.hash(r));let{r:m,s:b}=l,v=y(r),x=rY(b,i),E=o(v*x),S=o(m*x),I=a.BASE.multiplyAndAddUnsafe(c,E,S)?.toAffine();return!!I&&o(I.x)===m},ProjectivePoint:a,Signature:f,utils:{isValidPrivateKey(e){try{return l(e),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=r1(t.n);return function(e,t,r=!1){let i=e.length,n=r0(t),s=r1(t);if(i<16||i<s||i>1024)throw Error("expected "+s+"-1024 bytes of input, got "+i);let o=rW(r?rS(e):rE(e),t-rq)+rq;return r?rC(o,n):rI(o,n)}(t.randomBytes(e),t.n)},precompute:(e=8,t=a.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>re(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];eH(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}(...r)),randomBytes:e8});return{...r(t),create:r}}({a:iv.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:iv,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},rl),ix="base10",iE="base16",iS="base64pad",iI="base64url",iC="utf8";function iA(){return ea(e8(32),iE)}function iD(e){return ea(rl(eo(e,iE)),iE)}function iO(e){return ea(rl(eo(e,iC)),iE)}function i_(e){return Number(ea(e,ix))}function iR(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function iN(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function iP(e){if(2===i_(e.type))return ea(ee([e.type,e.sealed]),iS);if(1===i_(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return ea(ee([e.type,e.senderPublicKey,e.iv,e.sealed]),iS)}return ea(ee([e.type,e.iv,e.sealed]),iS)}function ij(e){let t=eo((e.encoding||iS)===iI?iN(e.encoded):e.encoded,iS),r=t.slice(0,1);if(1===i_(r)){let e=t.slice(1,33),i=t.slice(33,45);return{type:r,sealed:t.slice(45),iv:i,senderPublicKey:e}}if(2===i_(r))return{type:r,sealed:t.slice(1),iv:e8(12)};let i=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:i}}function ik(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function iT(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function iL(e){return e?.relay||{protocol:"irn"}}function iB(e){let t=el.CG[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}function iM(e){var t;if(!e.includes("wc:")){let t=eK(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),i=-1!==e.indexOf("?")?e.indexOf("?"):void 0,n=e.substring(0,r),s=e.substring(r+1,i).split("@"),o=new URLSearchParams("u">typeof i?e.substring(i):""),a={};o.forEach((e,t)=>{a[t]=e});let l="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:n,topic:(t=s[0]).startsWith("//")?t.substring(2):t,version:parseInt(s[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},i="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(i)){let n=t.replace(i,""),s=e[t];r[n]=s}}),r}(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function iU(e){let t=new URLSearchParams,r=function(e,t="-"){let r={};return Object.keys(e).forEach(i=>{e[i]&&(r["relay"+t+i]=e[i])}),r}(e.relay);Object.keys(r).sort().forEach(e=>{t.set(e,r[e])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));let i=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${i}`}function iF(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function iq(e){let t=[];return e.forEach(e=>{let[r,i]=e.split(":");t.push(`${r}:${i}`)}),t}function i$(e,t){let r=function(e){let t={};return e?.forEach(e=>{var r;let[i,n]=e.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[],methods:[]}),t[i].accounts.push(e),null==(r=t[i].chains)||r.push(`${i}:${n}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(let[t,i]of Object.entries(r))i.methods?i.methods=function(e=[],t=[]){return[...new Set([...e,...t])]}(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return r}Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let iz={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},iK={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function iV(e,t){let{message:r,code:i}=iK[e];return{message:t?`${r} ${t}`:r,code:i}}function iH(e,t){let{message:r,code:i}=iz[e];return{message:t?`${r} ${t}`:r,code:i}}function iW(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function iQ(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function iJ(e){return typeof e>"u"}function iY(e,t){return!!(t&&iJ(e))||"string"==typeof e&&!!e.trim().length}function iG(e,t){return!!(t&&iJ(e))||"number"==typeof e&&!isNaN(e)}function iZ(e){return!!(iY(e,!1)&&e.includes(":"))&&2===e.split(":").length}function iX(e){let t=!0;return iW(e)?e.length&&(t=e.every(e=>iY(e,!1))):t=!1,t}function i0(e,t){let r=null;return Object.values(e).forEach(e=>{var i;let n;if(r)return;let s=(i=`${t}, namespace`,n=null,iX(e?.methods)?iX(e?.events)||(n=iH("UNSUPPORTED_EVENTS",`${i}, events should be an array of strings or empty array for no events`)):n=iH("UNSUPPORTED_METHODS",`${i}, methods should be an array of strings or empty array for no methods`),n);s&&(r=s)}),r}function i1(e,t){let r=null;if(e&&iQ(e)){let i,n=i0(e,t);n&&(r=n);let s=(i=null,Object.values(e).forEach(e=>{var r,n;let s;if(i)return;let o=(r=e?.accounts,n=`${t} namespace`,s=null,iW(r)?r.forEach(e=>{s||function(e){if(iY(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&iZ(e)}}return!1}(e)||(s=iH("UNSUPPORTED_ACCOUNTS",`${n}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):s=iH("UNSUPPORTED_ACCOUNTS",`${n}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),s);o&&(i=o)}),i);s&&(r=s)}else r=iV("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function i2(e){return iY(e.protocol,!0)}function i5(e){return"u">typeof e}function i3(e,t){return!(!iZ(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...iq(e.accounts))}),t})(e).includes(t))}function i4(e,t,r){let i=null,n=function(e){let t={};return Object.keys(e).forEach(r=>{var i;r.includes(":")?t[r]=e[r]:null==(i=e[r].chains)||i.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}(e),s=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let i=iq(e[r].accounts);i?.forEach(i=>{t[i]={accounts:e[r].accounts.filter(e=>e.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),o=Object.keys(n),a=Object.keys(s),l=i8(Object.keys(e)),c=i8(Object.keys(t)),u=l.filter(e=>!c.includes(e));return u.length&&(i=iV("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),e_(o,a)||(i=iV("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||i)return;let n=iq(t[e].accounts);n.includes(e)||(i=iV("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${n.toString()}`))}),o.forEach(e=>{i||(e_(n[e].methods,s[e].methods)?e_(n[e].events,s[e].events)||(i=iV("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):i=iV("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),i}function i8(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function i6(){let e=eC();return new Promise(t=>{switch(e){case ex.browser:t(eI()&&navigator?.onLine);break;case ex.reactNative:t(i9());break;case ex.node:default:t(!0)}})}async function i9(){if(eS()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo){let e=await (null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}let i7={};class ne{static get(e){return i7[e]}static set(e,t){i7[e]=t}static delete(e){delete i7[e]}}function nt(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}let nr=nt("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ni=nt("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),nn={utf8:nr,"utf-8":nr,hex:et.Fo.base16,latin1:ni,ascii:ni,binary:ni,...et.Fo};var ns=r(77226),no=r(75086),na=r(90628),nl=r(44134).hp,nc=r(49509);let nu="core",nd=`wc@2:${nu}:`,nh={logger:"error"},nf={database:":memory:"},np="client_ed25519_seed",ng=H.ONE_DAY,ny=H.SIX_HOURS,nm="wss://relay.walletconnect.org",nb={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},nv={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},nw="2.19.2",nx={link_mode:"link_mode",relay:"relay"},nE={inbound:"inbound",outbound:"outbound"},nS="WALLETCONNECT_LINK_MODE_APPS",nI={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},nC=(H.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:H.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:H.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:H.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:H.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:H.ONE_DAY,prompt:!1,tag:0},res:{ttl:H.ONE_DAY,prompt:!1,tag:0}}}),nA={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},nD={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},nO={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},n_="https://verify.walletconnect.org",nR=`${n_}/v3`,nN=["https://verify.walletconnect.com",n_],nP={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal"},nj={no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_listener_not_found:"proposal_listener_not_found"},nk={session_approve_started:"session_approve_started",session_namespaces_validation_success:"session_namespaces_validation_success",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},nT={no_internet_connection:"no_internet_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},nL={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},nB={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var nM=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=n}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===l;)i++,t++;for(var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<n)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,c=new Uint8Array(o);n!==s;){for(var d=t[n],h=0,f=o-1;(0!==d||h<i)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");i=h,n++}for(var p=o-i;p!==o&&0===c[p];)p++;for(var g=l.repeat(r);p<o;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let nU=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class nF{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class nq{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return nz(this,e)}}class n${constructor(e){this.decoders=e}or(e){return nz(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let nz=(e,t)=>new n$({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class nK{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new nF(e,t,r),this.decoder=new nq(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let nV=({name:e,prefix:t,encode:r,decode:i})=>new nK(e,t,r,i),nH=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:n}=nM(r,t);return nV({prefix:e,name:t,encode:i,decode:e=>nU(n(e))})},nW=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>nV({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,s="",o=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,l=0,c=0;for(let t=0;t<s;++t){let s=n[e[t]];if(void 0===s)throw SyntaxError(`Non-${i} character`);l=l<<r|s,(a+=r)>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,i,r,e)});var nQ=Object.freeze({__proto__:null,identity:nV({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),nJ=Object.freeze({__proto__:null,base2:nW({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),nY=Object.freeze({__proto__:null,base8:nW({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),nG=Object.freeze({__proto__:null,base10:nH({prefix:"9",name:"base10",alphabet:"0123456789"})}),nZ=Object.freeze({__proto__:null,base16:nW({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:nW({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let nX=nW({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),n0=nW({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),n1=nW({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),n2=nW({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),n5=nW({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),n3=nW({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),n4=nW({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var n8=Object.freeze({__proto__:null,base32:nX,base32upper:n0,base32pad:n1,base32padupper:n2,base32hex:n5,base32hexupper:n3,base32hexpad:n4,base32hexpadupper:nW({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:nW({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),n6=Object.freeze({__proto__:null,base36:nH({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:nH({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),n9=Object.freeze({__proto__:null,base58btc:nH({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:nH({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let n7=nW({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),se=nW({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var st=Object.freeze({__proto__:null,base64:n7,base64pad:se,base64url:nW({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:nW({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let sr=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),si=sr.reduce((e,t,r)=>(e[r]=t,e),[]),sn=sr.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var ss=Object.freeze({__proto__:null,base256emoji:nV({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=si[t],"")},decode:function(e){let t=[];for(let r of e){let e=sn[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function so(e,t,r){t=t||[],r=r||0;for(var i=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,so.bytes=r-i+1,t}var sa={encode:so,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let sl=(e,t,r=0)=>(sa.encode(e,t,r),t),sc=e=>sa.encodingLength(e),su=(e,t)=>{let r=t.byteLength,i=sc(e),n=i+sc(r),s=new Uint8Array(n+r);return sl(e,s,0),sl(r,s,i),s.set(t,n),new sd(e,r,t,s)};class sd{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let sh=({name:e,code:t,encode:r})=>new sf(e,t,r);class sf{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?su(this.code,t):t.then(e=>su(this.code,e))}throw Error("Unknown type, must be binary type")}}let sp=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var sg=Object.freeze({__proto__:null,sha256:sh({name:"sha2-256",code:18,encode:sp("SHA-256")}),sha512:sh({name:"sha2-512",code:19,encode:sp("SHA-512")})}),sy=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:nU,digest:e=>su(0,nU(e))}});new TextEncoder,new TextDecoder;let sm={...nQ,...nJ,...nY,...nG,...nZ,...n8,...n6,...n9,...st,...ss};function sb(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...sg,...sy});let sv=sb("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),sw=sb("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),sx={utf8:sv,"utf-8":sv,hex:sm.base16,latin1:sw,ascii:sw,binary:sw,...sm};var sE=Object.defineProperty,sS=(e,t,r)=>((e,t,r)=>t in e?sE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class sI{constructor(e,t){this.core=e,this.logger=t,sS(this,"keychain",new Map),sS(this,"name","keychain"),sS(this,"version","0.3"),sS(this,"initialized",!1),sS(this,"storagePrefix",nd),sS(this,"init",async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}}),sS(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),sS(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),sS(this,"get",e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=iV("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}),sS(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=(0,C.U5)(t,this.name)}get context(){return(0,C.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,eR(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?eN(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}}var sC=Object.defineProperty,sA=(e,t,r)=>((e,t,r)=>t in e?sC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class sD{constructor(e,t,r){this.core=e,this.logger=t,sA(this,"name","crypto"),sA(this,"keychain"),sA(this,"randomSessionIdentifier",iA()),sA(this,"initialized",!1),sA(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),sA(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),sA(this,"getClientId",async()=>{this.isInitialized();let e=await this.getClientSeed(),t=W.TZ(e);return W.UF(t.publicKey)}),sA(this,"generateKeyPair",()=>{this.isInitialized();let e=function(){let e=ic.utils.randomPrivateKey(),t=ic.getPublicKey(e);return{privateKey:ea(e,iE),publicKey:ea(t,iE)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),sA(this,"signJWT",async e=>{this.isInitialized();let t=await this.getClientSeed(),r=W.TZ(t),i=this.randomSessionIdentifier;return await W.FA(i,e,ng,r)}),sA(this,"generateSharedKey",(e,t,r)=>{this.isInitialized();let i=function(e,t){var r;let i,n=ic.getSharedSecret(eo(e,iE),eo(t,iE));return ea((i=void 0,function(e,t,r,i=32){if(eW(e),eV(i),i>255*e.outputLen)throw Error("Length should be <= 255*HashLen");let n=Math.ceil(i/e.outputLen);void 0===r&&(r=rr);let s=new Uint8Array(n*e.outputLen),o=re.create(e,t),a=o._cloneInto(),l=new Uint8Array(o.outputLen);for(let t=0;t<n;t++)rt[0]=t+1,a.update(0===t?rr:l).update(r).update(rt).digestInto(l),s.set(l,e.outputLen*t),o._cloneInto(a);return o.destroy(),a.destroy(),l.fill(0),rt.fill(0),s.slice(0,i)}(rl,(r=void 0,eW(rl),void 0===r&&(r=new Uint8Array(rl.outputLen)),re(rl,e5(r),e5(n))),i,32)),iE)}(this.getPrivateKey(e),t);return this.setSymKey(i,r)}),sA(this,"setSymKey",async(e,t)=>{this.isInitialized();let r=t||iD(e);return await this.keychain.set(r,e),r}),sA(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),sA(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),sA(this,"encode",async(e,t,r)=>{this.isInitialized();let i=ik(r),n=(0,y.h)(t);if(2===i.type)return function(e,t){let r=eo("2",ix),i=e8(12),n=iP({type:r,sealed:eo(e,iC),iv:i});return t===iI?iR(n):n}(n,r?.encoding);if(iT(i)){let t=i.senderPublicKey,r=i.receiverPublicKey;e=await this.generateSharedKey(t,r)}let s=this.getSymKey(e),{type:o,senderPublicKey:a}=i;return function(e){var t;let r=(t="u">typeof e.type?e.type:0,eo(`${t}`,ix));if(1===i_(r)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let i="u">typeof e.senderPublicKey?eo(e.senderPublicKey,iE):void 0,n="u">typeof e.iv?eo(e.iv,iE):e8(12),s=iP({type:r,sealed:t9(eo(e.symKey,iE),n).encrypt(eo(e.message,iC)),iv:n,senderPublicKey:i});return e.encoding===iI?iR(s):s}({type:o,symKey:s,message:n,senderPublicKey:a,encoding:r?.encoding})}),sA(this,"decode",async(e,t,r)=>{this.isInitialized();let i=function(e,t){let r=ij({encoded:e,encoding:t?.encoding});return ik({type:i_(r.type),senderPublicKey:"u">typeof r.senderPublicKey?ea(r.senderPublicKey,iE):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(2===i.type){let e=function(e,t){let{sealed:r}=ij({encoded:e,encoding:t});return ea(r,iC)}(t,r?.encoding);return(0,y.j)(e)}if(iT(i)){let t=i.receiverPublicKey,r=i.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let i=this.getSymKey(e),n=function(e){let t=eo(e.symKey,iE),{sealed:r,iv:i}=ij({encoded:e.encoded,encoding:e.encoding}),n=t9(t,i).decrypt(r);if(null===n)throw Error("Failed to decrypt");return ea(n,iC)}({symKey:i,encoded:t,encoding:r?.encoding});return(0,y.j)(n)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),sA(this,"getPayloadType",(e,t=iS)=>i_(ij({encoded:e,encoding:t}).type)),sA(this,"getPayloadSenderPublicKey",(e,t=iS)=>{let r=ij({encoded:e,encoding:t});return r.senderPublicKey?function(e,t="utf8"){let r=nn[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}(r.senderPublicKey,iE):void 0}),this.core=e,this.logger=(0,C.U5)(t,this.name),this.keychain=r||new sI(this.core,this.logger)}get context(){return(0,C.oI)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(np)}catch{e=iA(),await this.keychain.set(np,e)}return function(e,t="utf8"){let r=sx[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}}var sO=Object.defineProperty,s_=Object.defineProperties,sR=Object.getOwnPropertyDescriptors,sN=Object.getOwnPropertySymbols,sP=Object.prototype.hasOwnProperty,sj=Object.prototype.propertyIsEnumerable,sk=(e,t,r)=>t in e?sO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sT=(e,t,r)=>sk(e,"symbol"!=typeof t?t+"":t,r);class sL extends P{constructor(e,t){super(e,t),this.logger=e,this.core=t,sT(this,"messages",new Map),sT(this,"messagesWithoutClientAck",new Map),sT(this,"name","messages"),sT(this,"version","0.3"),sT(this,"initialized",!1),sT(this,"storagePrefix",nd),sT(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e);let t=await this.getRelayerMessagesWithoutClientAck();"u">typeof t&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),sT(this,"set",async(e,t,r)=>{this.isInitialized();let i=iO(t),n=this.messages.get(e);if(typeof n>"u"&&(n={}),"u">typeof n[i])return i;if(n[i]=t,this.messages.set(e,n),r===nE.inbound){let r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,s_(((e,t)=>{for(var r in t||(t={}))sP.call(t,r)&&sk(e,r,t[r]);if(sN)for(var r of sN(t))sj.call(t,r)&&sk(e,r,t[r]);return e})({},r),sR({[i]:t})))}return await this.persist(),i}),sT(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),sT(this,"getWithoutAck",e=>{this.isInitialized();let t={};for(let r of e){let e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t}),sT(this,"has",(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[iO(t)])),sT(this,"ack",async(e,t)=>{this.isInitialized();let r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;let i=iO(t);delete r[i],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()}),sT(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=(0,C.U5)(e,this.name),this.core=t}get context(){return(0,C.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,eR(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,eR(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?eN(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof e?eN(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}}var sB=Object.defineProperty,sM=Object.defineProperties,sU=Object.getOwnPropertyDescriptors,sF=Object.getOwnPropertySymbols,sq=Object.prototype.hasOwnProperty,s$=Object.prototype.propertyIsEnumerable,sz=(e,t,r)=>t in e?sB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sK=(e,t)=>{for(var r in t||(t={}))sq.call(t,r)&&sz(e,r,t[r]);if(sF)for(var r of sF(t))s$.call(t,r)&&sz(e,r,t[r]);return e},sV=(e,t)=>sM(e,sU(t)),sH=(e,t,r)=>sz(e,"symbol"!=typeof t?t+"":t,r);class sW extends j{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,sH(this,"events",new i.EventEmitter),sH(this,"name","publisher"),sH(this,"queue",new Map),sH(this,"publishTimeout",(0,H.toMiliseconds)(H.ONE_MINUTE)),sH(this,"initialPublishTimeout",(0,H.toMiliseconds)(15*H.ONE_SECOND)),sH(this,"needsTransportRestart",!1),sH(this,"publish",async(e,t,r)=>{var i;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let n=r?.ttl||ny,s=iL(r),o=r?.prompt||!1,a=r?.tag||0,l=r?.id||(0,no.getBigIntRpcId)().toString(),c={topic:e,message:t,opts:{ttl:n,relay:s,prompt:o,tag:a,id:l,attestation:r?.attestation,tvf:r?.tvf}},u=`Failed to publish payload, please try again. id:${l} tag:${a}`;try{let i=new Promise(async i=>{let s=({id:e})=>{c.opts.id===e&&(this.removeRequestFromQueue(e),this.relayer.events.removeListener(nb.publish,s),i(c))};this.relayer.events.on(nb.publish,s);let u=ej(new Promise((i,s)=>{this.rpcPublish({topic:e,message:t,ttl:n,prompt:o,tag:a,id:l,attestation:r?.attestation,tvf:r?.tvf}).then(i).catch(e=>{this.logger.warn(e,e?.message),s(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${l} tag:${a}`);try{await u,this.events.removeListener(nb.publish,s)}catch(e){this.queue.set(l,sV(sK({},c),{attempt:1})),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:l,topic:e,message:t,opts:r}}),await ej(i,this.publishTimeout,u)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(i=r?.internal)&&i.throwOnFailedPublish)throw e}finally{this.queue.delete(l)}}),sH(this,"on",(e,t)=>{this.events.on(e,t)}),sH(this,"once",(e,t)=>{this.events.once(e,t)}),sH(this,"off",(e,t)=>{this.events.off(e,t)}),sH(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=(0,C.U5)(t,this.name),this.registerEventListeners()}get context(){return(0,C.oI)(this.logger)}async rpcPublish(e){var t,r,i,n;let{topic:s,message:o,ttl:a=ny,prompt:l,tag:c,id:u,attestation:d,tvf:h}=e,f={method:iB(iL().protocol).publish,params:sK({topic:s,message:o,ttl:a,prompt:l,tag:c,attestation:d},h),id:u};iJ(null==(t=f.params)?void 0:t.prompt)&&(null==(r=f.params)||delete r.prompt),iJ(null==(i=f.params)?void 0:i.tag)&&(null==(n=f.params)||delete n.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f});let p=await this.relayer.request(f);return this.relayer.events.emit(nb.publish,e),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{let r=e.attempt+1;this.queue.set(t,sV(sK({},e),{attempt:r}));let{topic:i,message:n,opts:s,attestation:o}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(sV(sK({},e),{topic:i,message:n,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:o,tvf:s.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(s.li.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(nb.connection_stalled);return}this.checkQueue()}),this.relayer.on(nb.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var sQ=Object.defineProperty,sJ=(e,t,r)=>((e,t,r)=>t in e?sQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class sY{constructor(){sJ(this,"map",new Map),sJ(this,"set",(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),sJ(this,"get",e=>this.map.get(e)||[]),sJ(this,"exists",(e,t)=>this.get(e).includes(t)),sJ(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let i=r.filter(e=>e!==t);if(!i.length)return void this.map.delete(e);this.map.set(e,i)}),sJ(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var sG=Object.defineProperty,sZ=Object.defineProperties,sX=Object.getOwnPropertyDescriptors,s0=Object.getOwnPropertySymbols,s1=Object.prototype.hasOwnProperty,s2=Object.prototype.propertyIsEnumerable,s5=(e,t,r)=>t in e?sG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s3=(e,t)=>{for(var r in t||(t={}))s1.call(t,r)&&s5(e,r,t[r]);if(s0)for(var r of s0(t))s2.call(t,r)&&s5(e,r,t[r]);return e},s4=(e,t)=>sZ(e,sX(t)),s8=(e,t,r)=>s5(e,"symbol"!=typeof t?t+"":t,r);class s6 extends B{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,s8(this,"subscriptions",new Map),s8(this,"topicMap",new sY),s8(this,"events",new i.EventEmitter),s8(this,"name","subscription"),s8(this,"version","0.3"),s8(this,"pending",new Map),s8(this,"cached",[]),s8(this,"initialized",!1),s8(this,"storagePrefix",nd),s8(this,"subscribeTimeout",(0,H.toMiliseconds)(H.ONE_MINUTE)),s8(this,"initialSubscribeTimeout",(0,H.toMiliseconds)(15*H.ONE_SECOND)),s8(this,"clientId"),s8(this,"batchSubscribeTopicsLimit",500),s8(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),s8(this,"subscribe",async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let r=iL(t),i={topic:e,relay:r,transportType:t?.transportType};this.pending.set(e,i);let n=await this.rpcSubscribe(e,r,t);return"string"==typeof n&&(this.onSubscribe(n,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),n}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),s8(this,"unsubscribe",async(e,t)=>{this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),s8(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),s8(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),s8(this,"on",(e,t)=>{this.events.on(e,t)}),s8(this,"once",(e,t)=>{this.events.once(e,t)}),s8(this,"off",(e,t)=>{this.events.off(e,t)}),s8(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),s8(this,"start",async()=>{await this.onConnect()}),s8(this,"stop",async()=>{await this.onDisconnect()}),s8(this,"restart",async()=>{await this.restore(),await this.onRestart()}),s8(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),s8(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(s.li.pulse,async()=>{await this.checkPending()}),this.events.on(nI.created,async e=>{let t=nI.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(nI.deleted,async e=>{let t=nI.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=(0,C.U5)(t,this.name),this.clientId=""}get context(){return(0,C.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let i=iL(r);await this.restartToComplete({topic:e,id:t,relay:i}),await this.rpcUnsubscribe(e,t,i);let n=iH("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var i;r&&r?.transportType!==nx.relay||await this.restartToComplete({topic:e,id:e,relay:t});let n={method:iB(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s=null==(i=r?.internal)?void 0:i.throwOnFailedPublish;try{let t=await this.getSubscriptionId(e);if(r?.transportType===nx.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(e=>this.logger.warn(e))},(0,H.toMiliseconds)(H.ONE_SECOND)),t;let i=new Promise(async t=>{let r=i=>{i.topic===e&&(this.events.removeListener(nI.created,r),t(i.id))};this.events.on(nI.created,r);try{let i=await ej(new Promise((e,t)=>{this.relayer.request(n).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(nI.created,r),t(i)}catch{}}),o=await ej(i,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!o&&s)throw Error(`Subscribing to ${e} failed, please try again`);return o?t:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(nb.connection_stalled),s)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:iB(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await ej(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(nb.connection_stalled)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r={method:iB(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{t=await await ej(new Promise((e,t)=>{this.relayer.request(r).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(nb.connection_stalled)}return t}rpcUnsubscribe(e,t,r){let i={method:iB(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,s4(s3({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,s3({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,s3({},t)),this.topicMap.set(t.topic,e),this.events.emit(nI.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=iV("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(nI.deleted,s4(s3({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(nI.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){let t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(nI.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:e}=iV("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>s4(s3({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){var t;if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await (t=(0,H.toMiliseconds)(H.ONE_SECOND),new Promise(e=>setTimeout(e,t))),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(e){this.relayer.connected||this.relayer.connecting||(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return iO(e+await this.getClientId())}}var s9=Object.defineProperty,s7=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,or=(e,t,r)=>t in e?s9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oi=(e,t)=>{for(var r in t||(t={}))oe.call(t,r)&&or(e,r,t[r]);if(s7)for(var r of s7(t))ot.call(t,r)&&or(e,r,t[r]);return e},on=(e,t,r)=>or(e,"symbol"!=typeof t?t+"":t,r);class os extends k{constructor(e){super(e),on(this,"protocol","wc"),on(this,"version",2),on(this,"core"),on(this,"logger"),on(this,"events",new i.EventEmitter),on(this,"provider"),on(this,"messages"),on(this,"subscriber"),on(this,"publisher"),on(this,"name","relayer"),on(this,"transportExplicitlyClosed",!1),on(this,"initialized",!1),on(this,"connectionAttemptInProgress",!1),on(this,"relayUrl"),on(this,"projectId"),on(this,"packageName"),on(this,"bundleId"),on(this,"hasExperiencedNetworkDisruption",!1),on(this,"pingTimeout"),on(this,"heartBeatTimeout",(0,H.toMiliseconds)(H.THIRTY_SECONDS+H.FIVE_SECONDS)),on(this,"reconnectTimeout"),on(this,"connectPromise"),on(this,"reconnectInProgress",!1),on(this,"requestsInFlight",[]),on(this,"connectTimeout",(0,H.toMiliseconds)(15*H.ONE_SECOND)),on(this,"request",async e=>{var t,r;this.logger.debug("Publishing Request Payload");let i=e.id||(0,no.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");let n=`${i}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(n);let s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==n),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${i}`),e}}),on(this,"resetPingTimeout",()=>{eE()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(i=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||i.call(r)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),on(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),on(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(nb.connect)}),on(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),on(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(nb.error,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),on(this,"registerProviderListeners",()=>{this.provider.on(nv.payload,this.onPayloadHandler),this.provider.on(nv.connect,this.onConnectHandler),this.provider.on(nv.disconnect,this.onDisconnectHandler),this.provider.on(nv.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?(0,C.U5)(e.logger,this.name):(0,C.h6)((0,C.iP)({level:e.logger||"error"})),this.messages=new sL(this.logger,e.core),this.subscriber=new s6(this,this.logger),this.publisher=new sW(this,this.logger),this.relayUrl=e?.relayUrl||nm,this.projectId=e.projectId,eS()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)&&(null==r.g?void 0:r.g.Platform.OS)==="android"?this.packageName=eA():eS()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)&&(null==r.g?void 0:r.g.Platform.OS)==="ios"&&(this.bundleId=eA()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return(0,C.oI)(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0||void 0!==this.connectPromise}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:nx.relay},nE.outbound)}async subscribe(e,t){var r,i,n;this.isInitialized(),null!=t&&t.transportType&&t?.transportType!=="relay"||await this.toEstablishConnection();let s=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(i=t?.internal)?void 0:i.throwOnFailedPublish),o=(null==(n=this.subscriber.topicMap.get(e))?void 0:n[0])||"",a,l=t=>{t.topic===e&&(this.subscriber.off(nI.created,l),a())};return await Promise.all([new Promise(e=>{a=e,this.subscriber.on(nI.created,l)}),new Promise(async(r,i)=>{o=await this.subscriber.subscribe(e,oi({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&i(e)})||o,r()})]),o}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ej(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics)return void this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await i6())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0)return void this.logger.trace("Batch message events is empty. Ignoring...");let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.debug(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=eL(H.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(nb.message,e),await this.recordMessageEvent(e,nE.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(nv.disconnect,r),await ej(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(nv.disconnect,r),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(nv.disconnect,r),await this.subscriber.start().then(e).catch(t).finally(()=>{this.provider.off(nv.disconnect,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop(),this.logger.warn({},e.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,H.toMiliseconds)(+t))),t++}}startPingTimeout(){var e,t,r,i,n;if(eE())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(n=null==(i=null==(r=this.provider)?void 0:r.connection)?void 0:i.socket)||n.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ns.F(new na.A(function({protocol:e,version:t,relayUrl:r,sdkVersion:i,auth:n,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){let c=r.split("?"),u=eO(e,t,i),d=function(e,t){let r=new URLSearchParams(e);for(let e of Object.keys(t).sort())if(t.hasOwnProperty(e)){let i=t[e];void 0!==i&&r.set(e,i)}return r.toString()}(c[1]||"",{auth:n,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:l||void 0,bundleId:a||void 0});return c[0]+"?"+d}({sdkVersion:nw,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){let{topic:r,message:i}=e;await this.messages.set(r,i,t)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;let i=this.messages.has(t,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,no.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:i,publishedAt:n,attestation:s}=t.data,o={topic:r,message:i,publishedAt:n,transportType:nx.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(oi({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,no.isJsonRpcResponse)(e)&&this.events.emit(nb.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,nE.inbound),this.events.emit(nb.message,e))}async acknowledgePayload(e){let t=(0,no.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(nv.payload,this.onPayloadHandler),this.provider.off(nv.connect,this.onConnectHandler),this.provider.off(nv.disconnect,this.onDisconnectHandler),this.provider.off(nv.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await i6();var t,i,n=async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))};switch(eC()){case ex.browser:t=n,!eS()&&eI()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)));break;case ex.reactNative:i=n,eS()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener(e=>i(e?.isConnected));case ex.node:}}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(nb.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,H.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function oo(){}function oa(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function ol(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function oc(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let ou="[object Arguments]",od="[object Object]";var oh=Object.defineProperty,of=Object.getOwnPropertySymbols,op=Object.prototype.hasOwnProperty,og=Object.prototype.propertyIsEnumerable,oy=(e,t,r)=>t in e?oh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,om=(e,t)=>{for(var r in t||(t={}))op.call(t,r)&&oy(e,r,t[r]);if(of)for(var r of of(t))og.call(t,r)&&oy(e,r,t[r]);return e},ob=(e,t,r)=>oy(e,"symbol"!=typeof t?t+"":t,r);class ov extends L{constructor(e,t,r,i=nd,n){super(e,t,r,i),this.core=e,this.logger=t,this.name=r,ob(this,"map",new Map),ob(this,"version","0.3"),ob(this,"cached",[]),ob(this,"initialized",!1),ob(this,"getKey"),ob(this,"storagePrefix",nd),ob(this,"recentlyDeleted",[]),ob(this,"recentlyDeletedLimit",200),ob(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!iJ(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),ob(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),ob(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),ob(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>{var i;return i=t[r],function e(t,r,i,n,s,o,a){let l=a(t,r,i,n,s,o);if(void 0!==l)return l;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,i,n,s){if(Object.is(r,i))return!0;let o=oc(r),a=oc(i);if(o===ou&&(o=od),a===ou&&(a=od),o!==a)return!1;switch(o){case"[object String]":return r.toString()===i.toString();case"[object Number]":{let e=r.valueOf(),t=i.valueOf();return e===t||Number.isNaN(e)&&Number.isNaN(t)}case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(r.valueOf(),i.valueOf());case"[object RegExp]":return r.source===i.source&&r.flags===i.flags;case"[object Function]":return r===i}let l=(n=n??new Map).get(r),c=n.get(i);if(null!=l&&null!=c)return l===i;n.set(r,i),n.set(i,r);try{switch(o){case"[object Map]":if(r.size!==i.size)return!1;for(let[t,o]of r.entries())if(!i.has(t)||!e(o,i.get(t),t,r,i,n,s))return!1;return!0;case"[object Set]":{if(r.size!==i.size)return!1;let t=Array.from(r.values()),o=Array.from(i.values());for(let a=0;a<t.length;a++){let l=t[a],c=o.findIndex(t=>e(l,t,void 0,r,i,n,s));if(-1===c)return!1;o.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if("u">typeof nl&&nl.isBuffer(r)!==nl.isBuffer(i)||r.length!==i.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],i[t],t,r,i,n,s))return!1;return!0;case"[object ArrayBuffer]":return r.byteLength===i.byteLength&&t(new Uint8Array(r),new Uint8Array(i),n,s);case"[object DataView]":return r.byteLength===i.byteLength&&r.byteOffset===i.byteOffset&&t(new Uint8Array(r),new Uint8Array(i),n,s);case"[object Error]":return r.name===i.name&&r.message===i.message;case od:{if(!(t(r.constructor,i.constructor,n,s)||oa(r)&&oa(i)))return!1;let o=[...Object.keys(r),...ol(r)],a=[...Object.keys(i),...ol(i)];if(o.length!==a.length)return!1;for(let t=0;t<o.length;t++){let a=o[t],l=r[a];if(!Object.hasOwn(i,a))return!1;let c=i[a];if(!e(l,c,a,r,i,n,s))return!1}return!0}default:return!1}}finally{n.delete(r),n.delete(i)}}(t,r,o,a)}(i,e[r],void 0,void 0,void 0,void 0,oo)})):this.values)),ob(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=om(om({},this.getData(e)),t);this.map.set(e,r),await this.persist()}),ob(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=(0,C.U5)(t,this.name),this.storagePrefix=i,this.getKey=n}get context(){return(0,C.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=iV("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=iV("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=iV("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}}var ow=Object.defineProperty,ox=(e,t,r)=>((e,t,r)=>t in e?ow(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class oE{constructor(e,t){this.core=e,this.logger=t,ox(this,"name","pairing"),ox(this,"version","0.3"),ox(this,"events",new(n())),ox(this,"pairings"),ox(this,"initialized",!1),ox(this,"storagePrefix",nd),ox(this,"ignoredPayloadTypes",[1]),ox(this,"registeredMethods",[]),ox(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),ox(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),ox(this,"create",async e=>{this.isInitialized();let t=iA(),r=await this.core.crypto.setSymKey(t),i=eL(H.FIVE_MINUTES),n={protocol:"irn"},s={topic:r,expiry:i,relay:n,active:!1,methods:e?.methods},o=iU({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:n,expiryTimestamp:i,methods:e?.methods});return this.events.emit(nA.create,s),this.core.expirer.set(r,i),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:e?.transportType}),{topic:r,uri:o}}),ox(this,"pair",async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[nP.pairing_started]}});this.isValidPair(e,r);let{topic:i,symKey:n,relay:s,expiryTimestamp:o,methods:a}=iM(e.uri);if(r.props.properties.topic=i,r.addTrace(nP.pairing_uri_validation_success),r.addTrace(nP.pairing_uri_not_expired),this.pairings.keys.includes(i)){if(t=this.pairings.get(i),r.addTrace(nP.existing_pairing),t.active)throw r.setError(nj.active_pairing_already_exists),Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);r.addTrace(nP.pairing_not_expired)}let l=o||eL(H.FIVE_MINUTES),c={topic:i,relay:s,expiry:l,active:!1,methods:a};this.core.expirer.set(i,l),await this.pairings.set(i,c),r.addTrace(nP.store_new_pairing),e.activatePairing&&await this.activate({topic:i}),this.events.emit(nA.create,c),r.addTrace(nP.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(n,i),r.addTrace(nP.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError(nj.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:s})}catch(e){throw r.setError(nj.subscribe_pairing_topic_failure),e}return r.addTrace(nP.subscribe_pairing_topic_success),c}),ox(this,"activate",async({topic:e})=>{this.isInitialized();let t=eL(H.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),ox(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:i,reject:n}=eP();this.events.once(eM("pairing_ping",e),({error:e})=>{e?n(e):i()}),await r()}}),ox(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),ox(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),ox(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),ox(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",iH("USER_DISCONNECTED")),await this.deletePairing(t))}),ox(this,"formatUriFromPairing",e=>{this.isInitialized();let{topic:t,relay:r,expiry:i,methods:n}=e,s=this.core.crypto.keychain.get(t);return iU({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:i,methods:n})}),ox(this,"sendRequest",async(e,t,r)=>{let i=(0,no.formatJsonRpcRequest)(t,r),n=await this.core.crypto.encode(e,i),s=nC[t].req;return this.core.history.set(e,i),this.core.relayer.publish(e,n,s),i.id}),ox(this,"sendResult",async(e,t,r)=>{let i=(0,no.formatJsonRpcResult)(e,r),n=await this.core.crypto.encode(t,i),s=nC[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,n,s),await this.core.history.resolve(i)}),ox(this,"sendError",async(e,t,r)=>{let i=(0,no.formatJsonRpcError)(e,r),n=await this.core.crypto.encode(t,i),s=(await this.core.history.get(t,e)).request.method,o=nC[s]?nC[s].res:nC.unregistered_method.res;await this.core.relayer.publish(t,n,o),await this.core.history.resolve(i)}),ox(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,iH("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),ox(this,"cleanup",async()=>{let e=this.pairings.getAll().filter(e=>eB(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),ox(this,"onRelayEventRequest",async e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}}),ox(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r}=e,i=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===i?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(i)}),ox(this,"onPairingPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(nA.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),ox(this,"onPairingPingResponse",(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,no.isJsonRpcResult)(t)?this.events.emit(eM("pairing_ping",r),{}):(0,no.isJsonRpcError)(t)&&this.events.emit(eM("pairing_ping",r),{error:t.error})},500)}),ox(this,"onPairingDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(nA.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),ox(this,"onUnknownRpcMethodRequest",async(e,t)=>{let{id:r,method:i}=t;try{if(this.registeredMethods.includes(i))return;let t=iH("WC_METHOD_UNSUPPORTED",i);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),ox(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(iH("WC_METHOD_UNSUPPORTED",e))}),ox(this,"isValidPair",(e,t)=>{var r;if(!i5(e)){let{message:r}=iV("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(nj.malformed_pairing_uri),Error(r)}if(!function(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(iY(e,!1)){if(t(e))return!0;let r=eK(e);return t(r)}}catch{}return!1}(e.uri)){let{message:r}=iV("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(nj.malformed_pairing_uri),Error(r)}let i=iM(e?.uri);if(!(null!=(r=i?.relay)&&r.protocol)){let{message:e}=iV("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(nj.malformed_pairing_uri),Error(e)}if(!(null!=i&&i.symKey)){let{message:e}=iV("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(nj.malformed_pairing_uri),Error(e)}if(null!=i&&i.expiryTimestamp&&(0,H.toMiliseconds)(i?.expiryTimestamp)<Date.now()){t.setError(nj.pairing_expired);let{message:e}=iV("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}}),ox(this,"isValidPing",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),ox(this,"isValidDisconnect",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),ox(this,"isValidPairingTopic",async e=>{if(!iY(e,!1)){let{message:t}=iV("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=iV("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(eB(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=iV("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}),this.core=e,this.logger=(0,C.U5)(t,this.name),this.pairings=new ov(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,C.oI)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(nb.message,async e=>{let{topic:t,message:r,transportType:i}=e;if(this.pairings.keys.includes(t)&&i!==nx.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let e=await this.core.crypto.decode(t,r);(0,no.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,no.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(nO.expired,async e=>{let{topic:t}=eT(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(nA.expire,{topic:t}))})}}var oS=Object.defineProperty,oI=(e,t,r)=>((e,t,r)=>t in e?oS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class oC extends N{constructor(e,t){super(e,t),this.core=e,this.logger=t,oI(this,"records",new Map),oI(this,"events",new i.EventEmitter),oI(this,"name","history"),oI(this,"version","0.3"),oI(this,"cached",[]),oI(this,"initialized",!1),oI(this,"storagePrefix",nd),oI(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),oI(this,"set",(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let i={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:eL(H.THIRTY_DAYS)};this.records.set(i.id,i),this.persist(),this.events.emit(nD.created,i)}),oI(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,no.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(nD.updated,t))}),oI(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),oI(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic===e&&("u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(nD.deleted,r)))}),this.persist()}),oI(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),oI(this,"on",(e,t)=>{this.events.on(e,t)}),oI(this,"once",(e,t)=>{this.events.once(e,t)}),oI(this,"off",(e,t)=>{this.events.off(e,t)}),oI(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,C.U5)(t,this.name)}get context(){return(0,C.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,no.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=iV("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(nD.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=iV("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(nD.created,e=>{let t=nD.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(nD.updated,e=>{let t=nD.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(nD.deleted,e=>{let t=nD.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(s.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,H.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(nD.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}}var oA=Object.defineProperty,oD=(e,t,r)=>((e,t,r)=>t in e?oA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class oO extends M{constructor(e,t){super(e,t),this.core=e,this.logger=t,oD(this,"expirations",new Map),oD(this,"events",new i.EventEmitter),oD(this,"name","expirer"),oD(this,"version","0.3"),oD(this,"cached",[]),oD(this,"initialized",!1),oD(this,"storagePrefix",nd),oD(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),oD(this,"has",e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}}),oD(this,"set",(e,t)=>{this.isInitialized();let r=this.formatTarget(e),i={target:r,expiry:t};this.expirations.set(r,i),this.checkExpiry(r,i),this.events.emit(nO.created,{target:r,expiration:i})}),oD(this,"get",e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)}),oD(this,"del",e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(nO.deleted,{target:t,expiration:r})}}),oD(this,"on",(e,t)=>{this.events.on(e,t)}),oD(this,"once",(e,t)=>{this.events.once(e,t)}),oD(this,"off",(e,t)=>{this.events.off(e,t)}),oD(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,C.U5)(t,this.name)}get context(){return(0,C.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return ek("topic",e);if("number"==typeof e)return ek("id",e);let{message:t}=iV("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(nO.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=iV("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=iV("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,H.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(nO.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(s.li.pulse,()=>this.checkExpirations()),this.events.on(nO.created,e=>{let t=nO.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(nO.expired,e=>{let t=nO.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(nO.deleted,e=>{let t=nO.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}}var o_=Object.defineProperty,oR=(e,t,r)=>((e,t,r)=>t in e?o_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class oN extends U{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,oR(this,"name","verify-api"),oR(this,"abortController"),oR(this,"isDevEnv"),oR(this,"verifyUrlV3",nR),oR(this,"storagePrefix",nd),oR(this,"version",2),oR(this,"publicKey"),oR(this,"fetchPromise"),oR(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,H.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),oR(this,"register",async e=>{if(!eI()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:i}=e,n=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${i}`;try{let e=(0,J.getDocument)(),t=this.startAbortTimer(5*H.ONE_SECOND),i=await new Promise((i,s)=>{let o=()=>{window.removeEventListener("message",l),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);let a=e.createElement("iframe");a.src=n,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});let l=n=>{if(n.data&&"string"==typeof n.data)try{let s=JSON.parse(n.data);if("verify_attestation"===s.type){if((0,W.Cq)(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",l),i(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(a),window.addEventListener("message",l,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",i),i}catch(e){this.logger.warn(e)}return""}),oR(this,"resolve",async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:i}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,W.Cq)(t).payload.id!==i)return;let e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;let n=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,n)}),oR(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*H.ONE_SECOND),i=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===i.status?await i.json():void 0}),oR(this,"getVerifyUrl",e=>{let t=e||n_;return nN.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${n_}`),t=n_),t}),oR(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(H.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),oR(this,"persistPublicKey",async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e}),oR(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),oR(this,"isValidJwtAttestation",async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),oR(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),oR(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e}),oR(this,"validateAttestation",(e,t)=>{let r=function(e,t){let[r,i,n]=e.split("."),s=eu.from(iN(n),"base64");if(64!==s.length)throw Error("Invalid signature length");let o=s.slice(0,32),a=s.slice(32,64),l=rl(`${r}.${i}`),c=function(e){let t=eu.from(e.x,"base64"),r=eu.from(e.y,"base64");return ee([new Uint8Array([4]),t,r])}(t);if(!iw.verify(ee([o,a]),l,c))throw Error("Invalid signature");return(0,W.Cq)(e).payload}(e,t.publicKey),i={hasExpired:(0,H.toMiliseconds)(r.exp)<Date.now(),payload:r};if(i.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:i.payload.origin,isScam:i.payload.isScam,isVerified:i.payload.isVerified}}),this.logger=(0,C.U5)(t,this.name),this.abortController=new AbortController,this.isDevEnv=ez(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,C.oI)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,H.toMiliseconds)(e))}}var oP=Object.defineProperty,oj=(e,t,r)=>((e,t,r)=>t in e?oP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class ok extends F{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,oj(this,"context","echo"),oj(this,"registerDeviceToken",async e=>{let{clientId:t,token:r,notificationType:i,enableEncrypted:n=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:i,token:r,always_raw:n})})}),this.logger=(0,C.U5)(t,this.context)}}var oT=Object.defineProperty,oL=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,oM=Object.prototype.propertyIsEnumerable,oU=(e,t,r)=>t in e?oT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oF=(e,t)=>{for(var r in t||(t={}))oB.call(t,r)&&oU(e,r,t[r]);if(oL)for(var r of oL(t))oM.call(t,r)&&oU(e,r,t[r]);return e},oq=(e,t,r)=>oU(e,"symbol"!=typeof t?t+"":t,r);class o$ extends q{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,oq(this,"context","event-client"),oq(this,"storagePrefix",nd),oq(this,"storageVersion",.1),oq(this,"events",new Map),oq(this,"shouldPersist",!1),oq(this,"init",async()=>{if(!ez())try{let e={eventId:e$(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:eO(this.core.relayer.protocol,this.core.relayer.version,nw)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),oq(this,"createEvent",e=>{let{event:t="ERROR",type:r="",properties:{topic:i,trace:n}}=e,s=e$(),o=this.core.projectId||"",a=oF({eventId:s,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:i,trace:n}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,a),this.shouldPersist=!0),a}),oq(this,"getEvent",e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let i=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(i)return oF(oF({},i),this.setMethods(i.eventId))}),oq(this,"deleteEvent",e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),oq(this,"setEventListeners",()=>{this.core.heartbeat.on(s.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,H.fromMiliseconds)(Date.now())-(0,H.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),oq(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),oq(this,"addTrace",(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)}),oq(this,"setError",(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)}),oq(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),oq(this,"restore",async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,oF(oF({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),oq(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),oq(this,"sendEvent",async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${nw}${t}`,{method:"POST",body:JSON.stringify(e)})}),oq(this,"getAppDomain",()=>eD().url),this.logger=(0,C.U5)(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var oz=Object.defineProperty,oK=Object.getOwnPropertySymbols,oV=Object.prototype.hasOwnProperty,oH=Object.prototype.propertyIsEnumerable,oW=(e,t,r)=>t in e?oz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oQ=(e,t)=>{for(var r in t||(t={}))oV.call(t,r)&&oW(e,r,t[r]);if(oK)for(var r of oK(t))oH.call(t,r)&&oW(e,r,t[r]);return e},oJ=(e,t,r)=>oW(e,"symbol"!=typeof t?t+"":t,r);class oY extends _{constructor(e){var t;super(e),oJ(this,"protocol","wc"),oJ(this,"version",2),oJ(this,"name",nu),oJ(this,"relayUrl"),oJ(this,"projectId"),oJ(this,"customStoragePrefix"),oJ(this,"events",new i.EventEmitter),oJ(this,"logger"),oJ(this,"heartbeat"),oJ(this,"relayer"),oJ(this,"crypto"),oJ(this,"storage"),oJ(this,"history"),oJ(this,"expirer"),oJ(this,"pairing"),oJ(this,"verify"),oJ(this,"echoClient"),oJ(this,"linkModeSupportedApps"),oJ(this,"eventClient"),oJ(this,"initialized",!1),oJ(this,"logChunkController"),oJ(this,"on",(e,t)=>this.events.on(e,t)),oJ(this,"once",(e,t)=>this.events.once(e,t)),oJ(this,"off",(e,t)=>this.events.off(e,t)),oJ(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),oJ(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let i={topic:e,message:t,publishedAt:Date.now(),transportType:nx.link_mode};this.relayer.onLinkMessageEvent(i,{sessionExists:r})});let r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||nm,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let n=(0,C.iP)({level:"string"==typeof e?.logger&&e.logger?e.logger:nh.logger,name:nu}),{logger:o,chunkLoggerController:a}=(0,C.D5)({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,C.U5)(o,this.name),this.heartbeat=new s.VH,this.crypto=new sD(this,this.logger,e?.keychain),this.history=new oC(this,this.logger),this.expirer=new oO(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new I(oQ(oQ({},nf),e?.storageOptions)),this.relayer=new os({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new oE(this,this.logger),this.verify=new oN(this,this.logger,this.storage),this.echoClient=new ok(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new o$(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let t=new oY(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,C.oI)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(nS,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(nS)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){console.warn("Failed to get global WalletConnect core",e);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return"u">typeof nc&&"true"===nc.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let oG="client",oZ=`wc@2:${oG}:`,oX={name:oG,logger:"error"},o0="WALLETCONNECT_DEEPLINK_CHOICE",o1="Proposal expired",o2=H.SEVEN_DAYS,o5={wc_sessionPropose:{req:{ttl:H.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:H.ONE_DAY,prompt:!1,tag:1104},res:{ttl:H.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:H.ONE_DAY,prompt:!1,tag:1106},res:{ttl:H.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:H.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:H.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:H.ONE_DAY,prompt:!1,tag:1112},res:{ttl:H.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:H.ONE_DAY,prompt:!1,tag:1114},res:{ttl:H.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:H.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:H.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:H.FIVE_MINUTES,prompt:!1,tag:1119}}},o3={min:H.FIVE_MINUTES,max:H.SEVEN_DAYS},o4={idle:"IDLE",active:"ACTIVE"},o8={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},o6=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],o9="wc@1.5:auth:",o7=`${o9}:PUB_KEY`;var ae=Object.defineProperty,at=Object.defineProperties,ar=Object.getOwnPropertyDescriptors,ai=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable,ao=(e,t,r)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aa=(e,t)=>{for(var r in t||(t={}))an.call(t,r)&&ao(e,r,t[r]);if(ai)for(var r of ai(t))as.call(t,r)&&ao(e,r,t[r]);return e},al=(e,t)=>at(e,ar(t)),ac=(e,t,r)=>ao(e,"symbol"!=typeof t?t+"":t,r);class au extends V{constructor(e){super(e),ac(this,"name","engine"),ac(this,"events",new(n())),ac(this,"initialized",!1),ac(this,"requestQueue",{state:o4.idle,queue:[]}),ac(this,"sessionRequestQueue",{state:o4.idle,queue:[]}),ac(this,"requestQueueDelay",H.ONE_SECOND),ac(this,"expectedPairingMethodMap",new Map),ac(this,"recentlyDeletedMap",new Map),ac(this,"recentlyDeletedLimit",200),ac(this,"relayMessageCache",[]),ac(this,"pendingSessions",new Map),ac(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(o5)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,H.toMiliseconds)(this.requestQueueDelay)))}),ac(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=al(aa({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);let{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:n,sessionProperties:s,scopedProperties:o,relays:a}=t,l=r,c,u=!1;try{if(l){let e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),e}if(!l||!u){let{topic:e,uri:t}=await this.client.core.pairing.create();l=e,c=t}if(!l){let{message:e}=iV("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw Error(e)}let d=await this.client.core.crypto.generateKeyPair(),h=o5.wc_sessionPropose.req.ttl||H.FIVE_MINUTES,f=eL(h),p=al(aa(aa({requiredNamespaces:i,optionalNamespaces:n,relays:a??[{protocol:"irn"}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:(0,no.payloadId)()}),g=eM("session_connect",p.id),{reject:y,resolve:m,done:b}=eP(h,o1),v=({id:e})=>{e===p.id&&(this.client.events.off("proposal_expire",v),this.pendingSessions.delete(p.id),this.events.emit(g,{error:{message:o1,code:0}}))};return this.client.events.on("proposal_expire",v),this.events.once(g,({error:e,session:t})=>{this.client.events.off("proposal_expire",v),e?y(e):t&&m(t)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:p,throwOnFailedPublish:!0,clientRpcId:p.id}),await this.setProposal(p.id,p),{uri:c,approval:b}}),ac(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),ac(this,"approve",async e=>{var t,r,i;let n=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[nk.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw n.setError(nT.no_internet_connection),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),n.setError(nT.proposal_not_found),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),n.setError(nT.session_approve_namespace_validation_failure),e}let{id:s,relayProtocol:o,namespaces:a,sessionProperties:l,scopedProperties:c,sessionConfig:u}=e,d=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:n.eventId});let{pairingTopic:h,proposer:f,requiredNamespaces:p,optionalNamespaces:g}=d,y=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});y||(y=null==(i=this.client.core.eventClient)?void 0:i.createEvent({type:nk.session_approve_started,properties:{topic:h,trace:[nk.session_approve_started,nk.session_namespaces_validation_success]}}));let m=await this.client.core.crypto.generateKeyPair(),b=f.publicKey,v=await this.client.core.crypto.generateSharedKey(m,b),w=aa(aa(aa({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:m,metadata:this.client.metadata},expiry:eL(o2)},l&&{sessionProperties:l}),c&&{scopedProperties:c}),u&&{sessionConfig:u}),x=nx.relay;y.addTrace(nk.subscribing_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:x})}catch(e){throw y.setError(nT.subscribe_session_topic_failure),e}y.addTrace(nk.subscribe_session_topic_success);let E=al(aa({},w),{topic:v,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:h,acknowledged:!1,self:w.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:m,transportType:nx.relay});await this.client.session.set(v,E),y.addTrace(nk.store_session);try{y.addTrace(nk.publishing_session_settle),await this.sendRequest({topic:v,method:"wc_sessionSettle",params:w,throwOnFailedPublish:!0}).catch(e=>{throw y?.setError(nT.session_settle_publish_failure),e}),y.addTrace(nk.session_settle_publish_success),y.addTrace(nk.publishing_session_approve),await this.sendResult({id:s,topic:h,result:{relay:{protocol:o??"irn"},responderPublicKey:m},throwOnFailedPublish:!0}).catch(e=>{throw y?.setError(nT.session_approve_publish_failure),e}),y.addTrace(nk.session_approve_publish_success)}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,iH("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:f.metadata}),await this.client.proposal.delete(s,iH("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(v,eL(o2)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}}),ac(this,"reject",async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:i}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&(await this.sendError({id:r,topic:t,error:i,rpcOpts:o5.wc_sessionPropose.reject}),await this.client.proposal.delete(r,iH("USER_DISCONNECTED")))}),ac(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:i,resolve:n,reject:s}=eP(),o=(0,no.payloadId)(),a=(0,no.getBigIntRpcId)().toString(),l=this.client.session.get(t).namespaces;return this.events.once(eM("session_update",o),({error:e})=>{e?s(e):n()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:l}),s(e)}),{acknowledged:i}}),ac(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=(0,no.payloadId)(),{done:i,resolve:n,reject:s}=eP();return this.events.once(eM("session_extend",r),({error:e})=>{e?s(e):n()}),await this.setExpiry(t,eL(o2)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:i}}),ac(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:i,expiry:n=o5.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(i);s?.transportType===nx.relay&&await this.confirmOnlineStateOrThrow();let o=(0,no.payloadId)(),a=(0,no.getBigIntRpcId)().toString(),{done:l,resolve:c,reject:u}=eP(n,"Request expired. Please try again.");this.events.once(eM("session_request",o),({error:e,result:t})=>{e?u(e):c(t)});let d="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:i,method:d,params:{request:al(aa({},r),{expiryTimestamp:eL(n)}),chainId:t},expiry:n,throwOnFailedPublish:!0,appLink:h}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:i,request:r,chainId:t,id:o}),await l();let f={request:al(aa({},r),{expiryTimestamp:eL(n)}),chainId:t},p=this.shouldSetTVF(d,f);return await Promise.all([new Promise(async e=>{await this.sendRequest(aa({clientRpcId:o,relayRpcId:a,topic:i,method:d,params:f,expiry:n,throwOnFailedPublish:!0},p&&{tvf:this.getTVFParams(o,f)})).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:i,request:r,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(!(null!=(t=s.sessionConfig)&&t.disableDeepLink)){let e=await eF(this.client.core.storage,o0);await eU({id:o,topic:i,wcDeepLink:e})}e()}),l()]).then(e=>e[2])}),ac(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:i}=r,n=this.client.session.get(t);n.transportType===nx.relay&&await this.confirmOnlineStateOrThrow();let s=this.getAppLinkIfEnabled(n.peer.metadata,n.transportType);(0,no.isJsonRpcResult)(r)?await this.sendResult({id:i,topic:t,result:r.result,throwOnFailedPublish:!0,appLink:s}):(0,no.isJsonRpcError)(r)&&await this.sendError({id:i,topic:t,error:r.error,appLink:s}),this.cleanupAfterResponse(e)}),ac(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=(0,no.payloadId)(),r=(0,no.getBigIntRpcId)().toString(),{done:i,resolve:n,reject:s}=eP();this.events.once(eM("session_ping",e),({error:e})=>{e?s(e):n()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),i()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),ac(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:i}=e,n=(0,no.getBigIntRpcId)().toString(),s=(0,no.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:i},throwOnFailedPublish:!0,relayRpcId:n,clientRpcId:s})}),ac(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:iH("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=iV("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}}),ac(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),n=Object.keys(r),s=!0;return!!e_(n,i)&&(i.forEach(t=>{let{accounts:i,methods:n,events:o}=e.namespaces[t],a=iq(i),l=r[t];e_(eh(t,l),a)&&e_(l.methods,n)&&e_(l.events,o)||(s=!1)}),s)})(t,e)))),ac(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ac(this,"authenticate",async(e,t)=>{var r,i,n;let s;this.isInitialized(),this.isValidAuthenticate(e);let o=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),a=o?nx.link_mode:nx.relay;a===nx.relay&&await this.confirmOnlineStateOrThrow();let{chains:l,statement:c="",uri:u,domain:d,nonce:h,type:f,exp:p,nbf:g,methods:y=[],expiry:m}=e,b=[...e.resources||[]],{topic:v,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:w}});let x=await this.client.core.crypto.generateKeyPair(),E=iD(x);if(await Promise.all([this.client.auth.authKeys.set(o7,{responseTopic:E,publicKey:x}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:v})]),await this.client.core.relayer.subscribe(E,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${v}`),y.length>0){let{namespace:e}=ed(l[0]),t=t_(function(e,t,r,i={}){return r?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t,r={}){return Object.assign({},...(t=t?.sort((e,t)=>e.localeCompare(t))).map(t=>({[`${e}/${t}`]:[r]})))}(t,r,i)}}}(e,"request",y));tj(b)&&(i=t,n=b.pop(),t=t_(function(e,t){tO(e),tO(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),i={att:{}};return r.forEach(r=>{var n,s;Object.keys((null==(n=e.att)?void 0:n[r])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[r])||{})).sort((e,t)=>e.localeCompare(t)).forEach(n=>{var s,o;i.att[r]=tm(((e,t)=>{for(var r in t||(t={}))tw.call(t,r)&&tE(e,r,t[r]);if(tv)for(var r of tv(t))tx.call(t,r)&&tE(e,r,t[r]);return e})({},i.att[r]),tb({[n]:(null==(s=e.att[r])?void 0:s[n])||(null==(o=t.att[r])?void 0:o[n])}))})}),i}(tR(i),tR(n)))),b.push(t)}let S=m&&m>o5.wc_sessionAuthenticate.req.ttl?m:o5.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:f??"caip122",chains:l,statement:c,aud:u,domain:d,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:g,resources:b},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:eL(S)},C={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:l,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:eL(o5.wc_sessionPropose.req.ttl),id:(0,no.payloadId)()},{done:A,resolve:D,reject:O}=eP(S,"Request expired"),_=(0,no.payloadId)(),R=eM("session_connect",C.id),N=eM("session_request",_),P=async({error:e,session:t})=>{this.events.off(N,j),e?O(e):t&&D({session:t})},j=async e=>{var r,i,n;let s;if(await this.deletePendingAuthRequest(_,{message:"fulfilled",code:0}),e.error){let t=iH("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(R,P),O(e.error.message))}await this.deleteProposal(C.id),this.events.off(R,P);let{cacaos:o,responder:l}=e.result,c=[],u=[];for(let e of o){await tA({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),O(iH("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=tj(t.resources),i=[tI(t.iss)],n=tC(t.iss);if(r){let e=tN(r),t=tP(r);c.push(...e),i.push(...t)}for(let e of i)u.push(`${e}:${n}`)}let d=await this.client.core.crypto.generateSharedKey(x,l.publicKey);c.length>0&&(s={topic:d,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:l,controller:l.publicKey,expiry:eL(o2),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:i$([...new Set(c)],[...new Set(u)]),transportType:a},await this.client.core.relayer.subscribe(d,{transportType:a}),await this.client.session.set(d,s),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:l.metadata}),s=this.client.session.get(d)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(i=l.metadata.redirect)&&i.linkMode&&null!=(n=l.metadata.redirect)&&n.universal&&t&&(this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.session.update(d,{transportType:nx.link_mode})),D({auths:o,session:s})};this.events.once(R,P),this.events.once(N,j);try{if(o){let e=(0,no.formatJsonRpcRequest)("wc_sessionAuthenticate",I,_);this.client.core.history.set(v,e);let r=await this.client.core.crypto.encode("",e,{type:2,encoding:iI});s=iF(t,v,r)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:I,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:_}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:C,expiry:o5.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch(e){throw this.events.off(R,P),this.events.off(N,j),e}return await this.setProposal(C.id,C),await this.setAuthRequest(_,{request:al(aa({},I),{verifyContext:{}}),pairingTopic:v,transportType:a}),{uri:s??w,response:A}}),ac(this,"approveSessionAuthenticate",async e=>{let t,{id:r,auths:i}=e,n=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[nL.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e){throw n.setError(nB.no_internet_connection),e}let s=this.getPendingAuthRequest(r);if(!s)throw n.setError(nB.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${r}`);let o=s.transportType||nx.relay;o===nx.relay&&await this.confirmOnlineStateOrThrow();let a=s.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),c=iD(a),u={type:1,receiverPublicKey:a,senderPublicKey:l},d=[],h=[];for(let e of i){if(!await tA({cacao:e,projectId:this.client.core.projectId})){n.setError(nB.invalid_cacao);let e=iH("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:c,error:e,encodeOpts:u}),Error(e.message)}n.addTrace(nL.cacaos_verified);let{p:t}=e,i=tj(t.resources),s=[tI(t.iss)],o=tC(t.iss);if(i){let e=tN(i),t=tP(i);d.push(...e),s.push(...t)}for(let e of s)h.push(`${e}:${o}`)}let f=await this.client.core.crypto.generateSharedKey(l,a);if(n.addTrace(nL.create_authenticated_session_topic),d?.length>0){t={topic:f,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:s.requester.metadata},controller:a,expiry:eL(o2),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:i$([...new Set(d)],[...new Set(h)]),transportType:o},n.addTrace(nL.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(f,{transportType:o})}catch(e){throw n.setError(nB.subscribe_authenticated_session_topic_failure),e}n.addTrace(nL.subscribe_authenticated_session_topic_success),await this.client.session.set(f,t),n.addTrace(nL.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}n.addTrace(nL.publishing_authenticated_session_approve);try{await this.sendResult({topic:c,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,o)})}catch(e){throw n.setError(nB.authenticated_session_approve_publish_failure),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:n.eventId}),{session:t}}),ac(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();let{id:t,reason:r}=e,i=this.getPendingAuthRequest(t);if(!i)throw Error(`Could not find pending auth request with id ${t}`);i.transportType===nx.relay&&await this.confirmOnlineStateOrThrow();let n=i.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=iD(n);await this.sendError({id:t,topic:o,error:r,encodeOpts:{type:1,receiverPublicKey:n,senderPublicKey:s},rpcOpts:o5.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,iH("USER_DISCONNECTED"))}),ac(this,"formatAuthMessage",e=>{this.isInitialized();let{request:t,iss:r}=e;return tD(t,r)}),ac(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),ac(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var i,n;return(null==(i=r.peerMetadata)?void 0:i.url)&&(null==(n=r.peerMetadata)?void 0:n.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),ac(this,"deleteSession",async e=>{var t;let{topic:r,expirerHasDeleted:i=!1,emitEvent:n=!0,id:s=0}=e,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,iH("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),i||this.client.core.expirer.del(r),this.client.core.storage.removeItem(o0).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,iH("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=o4.idle),n&&this.client.events.emit("session_delete",{id:s,topic:r})}),ac(this,"deleteProposal",async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError(nT.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,iH("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),ac(this,"deletePendingSessionRequest",async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=o4.idle,this.client.events.emit("session_request_expire",{id:e}))}),ac(this,"deletePendingAuthRequest",async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])}),ac(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),ac(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,eL(o5.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),ac(this,"setAuthRequest",async(e,t)=>{let{request:r,pairingTopic:i,transportType:n=nx.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:i,verifyContext:r.verifyContext,transportType:n})}),ac(this,"setPendingSessionRequest",async e=>{let{id:t,topic:r,params:i,verifyContext:n}=e,s=i.request.expiryTimestamp||eL(o5.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:r,params:i,verifyContext:n})}),ac(this,"sendRequest",async e=>{let t,i,{topic:n,method:s,params:o,expiry:a,relayRpcId:l,clientRpcId:c,throwOnFailedPublish:u,appLink:d,tvf:h}=e,f=(0,no.formatJsonRpcRequest)(s,o,c),p=!!d;try{let e=p?iI:iS;t=await this.client.core.crypto.encode(n,f,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),e}if(o6.includes(s)){let e=iO(JSON.stringify(f)),r=iO(t);i=await this.client.core.verify.register({id:r,decryptedId:e})}let g=o5[s].req;if(g.attestation=i,a&&(g.ttl=a),l&&(g.id=l),this.client.core.history.set(n,f),p){let e=iF(d,n,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=o5[s].req;a&&(e.ttl=a),l&&(e.id=l),e.tvf=al(aa({},h),{correlationId:f.id}),u?(e.internal=al(aa({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,t,e)):this.client.core.relayer.publish(n,t,e).catch(e=>this.client.logger.error(e))}return f.id}),ac(this,"sendResult",async e=>{let t,i,n,{id:s,topic:o,result:a,throwOnFailedPublish:l,encodeOpts:c,appLink:u}=e,d=(0,no.formatJsonRpcResult)(s,a),h=u&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=h?iI:iS;t=await this.client.core.crypto.encode(o,d,al(aa({},c||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${o} failed`),e}try{let e=(i=await this.client.core.history.get(o,s)).request;try{this.shouldSetTVF(e.method,e.params)&&(n=this.getTVFParams(s,e.params,a))}catch(e){this.client.logger.warn("sendResult() -> getTVFParams() failed",e)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${o}, ${s}) failed`),e}if(h){let e=iF(u,o,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=o5[i.request.method].res;e.tvf=al(aa({},n),{correlationId:s}),l?(e.internal=al(aa({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(o,t,e)):this.client.core.relayer.publish(o,t,e).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(d)}),ac(this,"sendError",async e=>{let t,i,{id:n,topic:s,error:o,encodeOpts:a,rpcOpts:l,appLink:c}=e,u=(0,no.formatJsonRpcError)(n,o),d=c&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=d?iI:iS;t=await this.client.core.crypto.encode(s,u,al(aa({},a||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),e}try{i=await this.client.core.history.get(s,n)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),e}if(d){let e=iF(c,s,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=i.request.method,r=l||o5[e].res;this.client.core.relayer.publish(s,t,r)}await this.client.core.history.resolve(u)}),ac(this,"cleanup",async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;eB(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{eB(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),ac(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),ac(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),ac(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===o4.active)return void this.client.logger.info("Request queue already active, skipping...");for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=o4.active;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=o4.idle}),ac(this,"processRequest",async e=>{let{topic:t,payload:r,attestation:i,transportType:n,encryptedId:s}=e,o=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:i,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:i,encryptedId:s,transportType:n});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:i,encryptedId:s,transportType:n});default:return this.client.logger.info(`Unsupported request method ${o}`)}}),ac(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r,transportType:i}=e,n=(await this.client.core.history.get(t,r.id)).request.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,i);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${n}`)}}),ac(this,"onRelayEventUnknownPayload",e=>{let{topic:t}=e,{message:r}=iV("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)}),ac(this,"shouldIgnorePairingRequest",e=>{let{topic:t,requestMethod:r}=e,i=this.expectedPairingMethodMap.get(t);return!(!i||i.includes(r))&&!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ac(this,"onSessionProposeRequest",async e=>{let{topic:t,payload:r,attestation:i,encryptedId:n}=e,{params:s,id:o}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(nj.proposal_listener_not_found)),this.isValidConnect(aa({},r.params));let a=s.expiryTimestamp||eL(o5.wc_sessionPropose.req.ttl),l=aa({id:o,pairingTopic:t,expiryTimestamp:a},s);await this.setProposal(o,l);let c=await this.getVerifyContext({attestationId:i,hash:iO(JSON.stringify(r)),encryptedId:n,metadata:l.proposer.metadata});e?.addTrace(nP.emit_session_proposal),this.client.events.emit("session_proposal",{id:o,params:l,verifyContext:c})}catch(e){await this.sendError({id:o,topic:t,error:e,rpcOpts:o5.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),ac(this,"onSessionProposeResponse",async(e,t,r)=>{let{id:i}=t;if((0,no.isJsonRpcResult)(t)){let{result:n}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:n});let s=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});let a=n.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});let l=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(i,{sessionTopic:l,pairingTopic:e,proposalId:i,publicKey:o});let c=await this.client.core.relayer.subscribe(l,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else if((0,no.isJsonRpcError)(t)){await this.client.proposal.delete(i,iH("USER_DISCONNECTED"));let e=eM("session_connect",i);if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),ac(this,"onSessionSettleRequest",async(e,t)=>{let{id:r,params:i}=t;try{this.isValidSessionSettleRequest(i);let{relay:r,controller:n,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:l,sessionConfig:c}=t.params,u=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!u)return this.client.logger.error(`Pending session not found for topic ${e}`);let d=this.client.proposal.get(u.proposalId),h=al(aa(aa(aa({topic:e,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces,controller:n.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},a&&{sessionProperties:a}),l&&{scopedProperties:l}),c&&{sessionConfig:c}),{transportType:nx.relay});await this.client.session.set(h.topic,h),await this.setExpiry(h.topic,h.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:h.peer.metadata}),this.client.events.emit("session_connect",{session:h}),this.events.emit(eM("session_connect",u.proposalId),{session:h}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(h),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),ac(this,"onSessionSettleResponse",async(e,t)=>{let{id:r}=t;(0,no.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(eM("session_approve",r),{})):(0,no.isJsonRpcError)(t)&&(await this.client.session.delete(e,iH("USER_DISCONNECTED")),this.events.emit(eM("session_approve",r),{error:t.error}))}),ac(this,"onSessionUpdateRequest",async(e,t)=>{let{params:r,id:i}=t;try{let t=`${e}_session_update`,n=ne.get(t);if(n&&this.isRequestOutOfSync(n,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:e,error:iH("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(aa({topic:e},r));try{ne.set(t,i),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0})}catch(e){throw ne.delete(t),e}this.client.events.emit("session_update",{id:i,topic:e,params:r})}catch(t){await this.sendError({id:i,topic:e,error:t}),this.client.logger.error(t)}}),ac(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),ac(this,"onSessionUpdateResponse",(e,t)=>{let{id:r}=t,i=eM("session_update",r);if(0===this.events.listenerCount(i))throw Error(`emitting ${i} without any listeners`);(0,no.isJsonRpcResult)(t)?this.events.emit(eM("session_update",r),{}):(0,no.isJsonRpcError)(t)&&this.events.emit(eM("session_update",r),{error:t.error})}),ac(this,"onSessionExtendRequest",async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,eL(o2)),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),ac(this,"onSessionExtendResponse",(e,t)=>{let{id:r}=t,i=eM("session_extend",r);if(0===this.events.listenerCount(i))throw Error(`emitting ${i} without any listeners`);(0,no.isJsonRpcResult)(t)?this.events.emit(eM("session_extend",r),{}):(0,no.isJsonRpcError)(t)&&this.events.emit(eM("session_extend",r),{error:t.error})}),ac(this,"onSessionPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),ac(this,"onSessionPingResponse",(e,t)=>{let{id:r}=t,i=eM("session_ping",r);setTimeout(()=>{if(0===this.events.listenerCount(i))throw Error(`emitting ${i} without any listeners 2176`);(0,no.isJsonRpcResult)(t)?this.events.emit(eM("session_ping",r),{}):(0,no.isJsonRpcError)(t)&&this.events.emit(eM("session_ping",r),{error:t.error})},500)}),ac(this,"onSessionDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(t=>{this.client.core.relayer.once(nb.publish,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:iH("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),ac(this,"onSessionRequest",async e=>{var t,r,i;let{topic:n,payload:s,attestation:o,encryptedId:a,transportType:l}=e,{id:c,params:u}=s;try{await this.isValidRequest(aa({topic:n},u));let e=this.client.session.get(n),s=await this.getVerifyContext({attestationId:o,hash:iO(JSON.stringify((0,no.formatJsonRpcRequest)("wc_sessionRequest",u,c))),encryptedId:a,metadata:e.peer.metadata,transportType:l}),d={id:c,topic:n,params:u,verifyContext:s};await this.setPendingSessionRequest(d),l===nx.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(i=this.client.signConfig)&&i.disableRequestQueue?this.emitSessionRequest(d):(this.addSessionRequestToSessionRequestQueue(d),this.processSessionRequestQueue())}catch(e){await this.sendError({id:c,topic:n,error:e}),this.client.logger.error(e)}}),ac(this,"onSessionRequestResponse",(e,t)=>{let{id:r}=t,i=eM("session_request",r);if(0===this.events.listenerCount(i))throw Error(`emitting ${i} without any listeners`);(0,no.isJsonRpcResult)(t)?this.events.emit(eM("session_request",r),{result:t.result}):(0,no.isJsonRpcError)(t)&&this.events.emit(eM("session_request",r),{error:t.error})}),ac(this,"onSessionEventRequest",async(e,t)=>{let{id:r,params:i}=t;try{let t=`${e}_session_event_${i.event.name}`,n=ne.get(t);if(n&&this.isRequestOutOfSync(n,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(aa({topic:e},i)),this.client.events.emit("session_event",{id:r,topic:e,params:i}),ne.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),ac(this,"onSessionAuthenticateResponse",(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,no.isJsonRpcResult)(t)?this.events.emit(eM("session_request",r),{result:t.result}):(0,no.isJsonRpcError)(t)&&this.events.emit(eM("session_request",r),{error:t.error})}),ac(this,"onSessionAuthenticateRequest",async e=>{var t;let{topic:r,payload:i,attestation:n,encryptedId:s,transportType:o}=e;try{let{requester:e,authPayload:a,expiryTimestamp:l}=i.params,c=await this.getVerifyContext({attestationId:n,hash:iO(JSON.stringify(i)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:r,id:i.id,authPayload:a,verifyContext:c,expiryTimestamp:l};await this.setAuthRequest(i.id,{request:u,pairingTopic:r,transportType:o}),o===nx.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:i.params,id:i.id,verifyContext:c})}catch(s){this.client.logger.error(s);let e=i.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),n=this.getAppLinkIfEnabled(i.params.requester.metadata,o);await this.sendError({id:i.id,topic:r,error:s,encodeOpts:{type:1,receiverPublicKey:e,senderPublicKey:t},rpcOpts:o5.wc_sessionAuthenticate.autoReject,appLink:n})}}),ac(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),ac(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=o4.idle,this.processSessionRequestQueue()},(0,H.toMiliseconds)(this.requestQueueDelay))}),ac(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{let r=eM("session_request",e.request.id);if(0===this.events.listenerCount(r))throw Error(`emitting ${r} without any listeners`);this.events.emit(eM("session_request",e.request.id),{error:t})})}),ac(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===o4.active)return void this.client.logger.info("session request queue is already active.");let e=this.sessionRequestQueue.queue[0];if(!e)return void this.client.logger.info("session request queue is empty.");try{this.sessionRequestQueue.state=o4.active,this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}}),ac(this,"emitSessionRequest",e=>{this.client.events.emit("session_request",e)}),ac(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,no.formatJsonRpcRequest)("wc_sessionPropose",al(aa({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})}),ac(this,"isValidConnect",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:n,scopedProperties:s,relays:o}=e;if(iJ(t)||await this.isValidPairingTopic(t),!function(e,t){let r=!1;return t&&!e?r=!0:e&&iW(e)&&e.length&&e.forEach(e=>{r=i2(e)}),r}(o,!0)){let{message:e}=iV("MISSING_OR_INVALID",`connect() relays: ${o}`);throw Error(e)}if(iJ(r)||0===iQ(r)||this.validateNamespaces(r,"requiredNamespaces"),iJ(i)||0===iQ(i)||this.validateNamespaces(i,"optionalNamespaces"),iJ(n)||this.validateSessionProps(n,"sessionProperties"),!iJ(s)){this.validateSessionProps(s,"scopedProperties");let e=Object.keys(r||{}).concat(Object.keys(i||{}));if(!Object.keys(s).every(t=>e.includes(t)))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),ac(this,"validateNamespaces",(e,t)=>{let r=function(e,t,r){let i=null;if(e&&iQ(e)){let n,s=i0(e,t);s&&(i=s);let o=(n=null,Object.entries(e).forEach(([e,i])=>{var s,o;let a;if(n)return;let l=(s=eh(e,i),o=`${t} ${r}`,a=null,iW(s)&&s.length?s.forEach(e=>{a||iZ(e)||(a=iH("UNSUPPORTED_CHAINS",`${o}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):iZ(e)||(a=iH("UNSUPPORTED_CHAINS",`${o}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a);l&&(n=l)}),n);o&&(i=o)}else i=iV("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return i}(e,"connect()",t);if(r)throw Error(r.message)}),ac(this,"isValidApprove",async e=>{if(!i5(e))throw Error(iV("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:i,sessionProperties:n,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let o=this.client.proposal.get(t),a=i1(r,"approve()");if(a)throw Error(a.message);let l=i4(o.requiredNamespaces,r,"approve()");if(l)throw Error(l.message);if(!iY(i,!0)){let{message:e}=iV("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw Error(e)}if(iJ(n)||this.validateSessionProps(n,"sessionProperties"),!iJ(s)){this.validateSessionProps(s,"scopedProperties");let e=new Set(Object.keys(r));if(!Object.keys(s).every(t=>e.has(t)))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),ac(this,"isValidReject",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!iG(e.code,!1)||!e.message||!iY(e.message,!1))}(r)){let{message:e}=iV("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}}),ac(this,"isValidSessionSettleRequest",e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:t,controller:r,namespaces:i,expiry:n}=e;if(!i2(t)){let{message:e}=iV("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let s=function(e,t){let r=null;return iY(e?.publicKey,!1)||(r=iV("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(s)throw Error(s.message);let o=i1(i,"onSessionSettleRequest()");if(o)throw Error(o.message);if(eB(n)){let{message:e}=iV("EXPIRED","onSessionSettleRequest()");throw Error(e)}}),ac(this,"isValidUpdate",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let i=this.client.session.get(t),n=i1(r,"update()");if(n)throw Error(n.message);let s=i4(i.requiredNamespaces,r,"update()");if(s)throw Error(s.message)}),ac(this,"isValidExtend",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),ac(this,"isValidRequest",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:t,request:r,chainId:i,expiry:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let{namespaces:s}=this.client.session.get(t);if(!i3(s,i)){let{message:e}=iV("MISSING_OR_INVALID",`request() chainId: ${i}`);throw Error(e)}if(!function(e){return!(iJ(e)||!iY(e.method,!1))}(r)){let{message:e}=iV("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw Error(e)}if(!function(e,t,r){return!!iY(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{iq(e.accounts).includes(t)&&r.push(...e.methods)}),r})(e,t).includes(r)}(s,i,r.method)){let{message:e}=iV("MISSING_OR_INVALID",`request() method: ${r.method}`);throw Error(e)}if(n&&!function(e,t){return iG(e,!1)&&e<=t.max&&e>=t.min}(n,o3)){let{message:e}=iV("MISSING_OR_INVALID",`request() expiry: ${n}. Expiry must be a number (in seconds) between ${o3.min} and ${o3.max}`);throw Error(e)}}),ac(this,"isValidRespond",async e=>{var t;if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:i}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!function(e){return!(iJ(e)||iJ(e.result)&&iJ(e.error)||!iG(e.id,!1)||!iY(e.jsonrpc,!1))}(i)){let{message:e}=iV("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw Error(e)}}),ac(this,"isValidPing",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),ac(this,"isValidEmit",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:t,event:r,chainId:i}=e;await this.isValidSessionTopic(t);let{namespaces:n}=this.client.session.get(t);if(!i3(n,i)){let{message:e}=iV("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw Error(e)}if(!function(e){return!(iJ(e)||!iY(e.name,!1))}(r)||!function(e,t,r){return!!iY(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{iq(e.accounts).includes(t)&&r.push(...e.events)}),r})(e,t).includes(r)}(n,i,r.name)){let{message:e}=iV("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}}),ac(this,"isValidDisconnect",async e=>{if(!i5(e)){let{message:t}=iV("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),ac(this,"isValidAuthenticate",e=>{let{chains:t,uri:r,domain:i,nonce:n}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!iY(r,!1))throw Error("uri is required parameter");if(!iY(i,!1))throw Error("domain is required parameter");if(!iY(n,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>ed(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:s}=ed(t[0]);if("eip155"!==s)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ac(this,"getVerifyContext",async e=>{let{attestationId:t,hash:r,encryptedId:i,metadata:n,transportType:s}=e,o={verified:{verifyUrl:n.verifyUrl||n_,validation:"UNKNOWN",origin:n.url||""}};try{if(s===nx.link_mode){let e=this.getAppLinkIfEnabled(n,s);return o.verified.validation=e&&new URL(e).origin===new URL(n.url).origin?"VALID":"INVALID",o}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:i,verifyUrl:n.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o}),ac(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((r,i)=>{if(null==r){let{message:n}=iV("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${r} for key ${Object.keys(e)[i]}`);throw Error(n)}})}),ac(this,"getPendingAuthRequest",e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),ac(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}}),ac(this,"checkRecentlyDeleted",e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=iV("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}}),ac(this,"isLinkModeEnabled",(e,t)=>{var i,n,s,o,a,l,c,u,d;return!!e&&t===nx.link_mode&&(null==(n=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:n.linkMode)===!0&&(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)!==void 0&&(null==(l=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:l.universal)!==""&&(null==(c=e?.redirect)?void 0:c.universal)!==void 0&&(null==(u=e?.redirect)?void 0:u.universal)!==""&&(null==(d=e?.redirect)?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==r.g?void 0:r.g.Linking)}),ac(this,"getAppLinkIfEnabled",(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0}),ac(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=eq(e,"topic")||"",r=decodeURIComponent(eq(e,"wc_ev")||""),i=this.client.session.keys.includes(t);i&&this.client.session.update(t,{transportType:nx.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:i})}),ac(this,"registerLinkModeListeners",async()=>{var e;if(ez()||eS()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==r.g?void 0:r.g.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),ac(this,"shouldSetTVF",(e,t)=>{if(!t||"wc_sessionRequest"!==e)return!1;let{request:r}=t;return Object.keys(o8).includes(r.method)}),ac(this,"getTVFParams",(e,t,r)=>{var i,n;try{let s=t.request.method,o=this.extractTxHashesFromResult(s,r);return al(aa({correlationId:e,rpcMethods:[s],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[null==(n=null==(i=t.request.params)?void 0:i[0])?void 0:n.to]}),{txHashes:o})}catch(e){this.client.logger.warn("Error getting TVF params",e)}return{}}),ac(this,"isValidContractData",e=>{var t;if(!e)return!1;try{let r=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;let i=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(i)&&i.length%2==0}catch{}return!1}),ac(this,"extractTxHashesFromResult",(e,t)=>{try{let r=o8[e];if("string"==typeof t)return[t];let i=t[r.key];if(iW(i))return"solana_signAllTransactions"===e?i.map(e=>(function(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let i=r[0];if(0===i)throw Error("No signatures found");if(r.length<1+64*i)throw Error("Transaction data too short for claimed signature count");if(r.length<100)throw Error("Transaction too short");let n=eu.from(e,"base64").slice(1,65);return Z.A.encode(n)})(e)):i;if("string"==typeof i)return[i]}catch(e){this.client.logger.warn("Error extracting tx hashes from result",e)}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(let[e,r]of Object.entries(t))for(let t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){let{message:e}=iV("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(nb.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:i,transportType:n}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(o7)?this.client.auth.authKeys.get(o7):{responseTopic:void 0,publicKey:void 0};try{let e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:s,encoding:n===nx.link_mode?iI:iS});(0,no.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:i,transportType:n,encryptedId:iO(r)})):(0,no.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:n}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:n}),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(nO.expired,async e=>{let{topic:t,id:r}=eT(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,iV("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,iV("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(nA.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(nA.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!iY(e,!1)){let{message:t}=iV("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=iV("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(eB(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=iV("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!iY(e,!1)){let{message:t}=iV("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=iV("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(eB(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=iV("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=iV("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(iY(e,!1)){let{message:t}=iV("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=iV("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=iV("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=iV("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(eB(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=iV("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class ad extends ov{constructor(e,t){super(e,t,"proposal",oZ),this.core=e,this.logger=t}}class ah extends ov{constructor(e,t){super(e,t,"session",oZ),this.core=e,this.logger=t}}class af extends ov{constructor(e,t){super(e,t,"request",oZ,e=>e.id),this.core=e,this.logger=t}}class ap extends ov{constructor(e,t){super(e,t,"authKeys",o9,()=>o7),this.core=e,this.logger=t}}class ag extends ov{constructor(e,t){super(e,t,"pairingTopics",o9),this.core=e,this.logger=t}}class ay extends ov{constructor(e,t){super(e,t,"requests",o9,e=>e.id),this.core=e,this.logger=t}}var am=Object.defineProperty,ab=(e,t,r)=>((e,t,r)=>t in e?am(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class av{constructor(e,t){this.core=e,this.logger=t,ab(this,"authKeys"),ab(this,"pairingTopics"),ab(this,"requests"),this.authKeys=new ap(this.core,this.logger),this.pairingTopics=new ag(this.core,this.logger),this.requests=new ay(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var aw=Object.defineProperty,ax=(e,t,r)=>((e,t,r)=>t in e?aw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class aE extends K{constructor(e){super(e),ax(this,"protocol","wc"),ax(this,"version",2),ax(this,"name",oX.name),ax(this,"metadata"),ax(this,"core"),ax(this,"logger"),ax(this,"events",new i.EventEmitter),ax(this,"engine"),ax(this,"session"),ax(this,"proposal"),ax(this,"pendingRequest"),ax(this,"auth"),ax(this,"signConfig"),ax(this,"on",(e,t)=>this.events.on(e,t)),ax(this,"once",(e,t)=>this.events.once(e,t)),ax(this,"off",(e,t)=>this.events.off(e,t)),ax(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),ax(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),ax(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),ax(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),ax(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||oX.name,this.metadata=function(e){var t,r;let i=eD();try{let n,s;return null!=e&&e.url&&i.url&&e.url!==i.url&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${i.url}. This is probably unintended and can lead to issues.`),e.url=i.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),n=ew(ew({},i),e),s={url:e?.url||i.url,name:e?.name||i.name,description:e?.description||i.description,icons:null!=(r=e?.icons)&&r.length&&e.icons.length>0?e.icons:i.icons},ep(n,eg(s))}catch(t){return console.warn("Error populating app metadata",t),e||i}}(e?.metadata),this.signConfig=e?.signConfig;let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,C.h6)((0,C.iP)({level:e?.logger||oX.logger}));this.core=e?.core||new oY(e),this.logger=(0,C.U5)(t,this.name),this.session=new ah(this.core,this.logger),this.proposal=new ad(this.core,this.logger),this.pendingRequest=new af(this.core,this.logger),this.engine=new au(this),this.auth=new av(this.core,this.logger)}static async init(e){let t=new aE(e);return await t.initialize(),t}get context(){return(0,C.oI)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,H.toMiliseconds)(H.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}let aS=aE},69662:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,s:()=>o});var i=r(22447),n=r(61190),s=r(91302),o=class extends n.k{#T;#L;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#L=e.mutationCache,this.#T=[],this.state=e.state||a(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#T.includes(e)||(this.#T.push(e),this.clearGcTimeout(),this.#L.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#T=this.#T.filter(t=>t!==e),this.scheduleGc(),this.#L.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#T.length||("pending"===this.state.status?this.scheduleGc():this.#L.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#a({type:"continue"})};this.#n=(0,s.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#L.canRun(this)});let r="pending"===this.state.status,i=!this.#n.canStart();try{if(r)t();else{this.#a({type:"pending",variables:e,isPaused:i}),await this.#L.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:i})}let n=await this.#n.start();return await this.#L.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#L.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#a({type:"success",data:n}),n}catch(t){try{throw await this.#L.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#L.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#a({type:"error",error:t})}}finally{this.#L.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),i.jG.batch(()=>{this.#T.forEach(t=>{t.onMutationUpdate(e)}),this.#L.notify({mutation:this,type:"updated",action:e})})}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},69991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return m},NormalizeError:function(){return g},PageNotFoundError:function(){return y},SP:function(){return h},ST:function(){return f},WEB_VITALS:function(){return r},execOnce:function(){return i},getDisplayName:function(){return l},getLocationOrigin:function(){return o},getURL:function(){return a},isAbsoluteUrl:function(){return s},isResSent:function(){return c},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return v}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return function(){for(var i=arguments.length,n=Array(i),s=0;s<i;s++)n[s]=arguments[s];return r||(r=!0,t=e(...n)),t}}let n=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=e=>n.test(e);function o(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function a(){let{href:e}=window.location,t=o();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&c(r))return i;if(!i)throw Object.defineProperty(Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+i+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}let h="undefined"!=typeof performance,f=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class g extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class m extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},70607:(e,t,r)=>{"use strict";function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===u(e)}r.d(t,{A:()=>Q});let n=1/0;function s(e){return"string"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e}function l(e){return null!=e}function c(e){return!e.trim().length}function u(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let d=Object.prototype.hasOwnProperty;class h{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let r=f(e);this._keys.push(r),this._keyMap[r.id]=r,t+=r.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function f(e){let t=null,r=null,n=null,o=1,a=null;if(s(e)||i(e))n=e,t=p(e),r=g(e);else{if(!d.call(e,"name"))throw Error("Missing name property in key");let i=e.name;if(n=i,d.call(e,"weight")&&(o=e.weight)<=0)throw Error(`Property 'weight' in key '${i}' must be a positive integer`);t=p(i),r=g(i),a=e.getFn}return{path:t,id:r,weight:o,src:n,getFn:a}}function p(e){return i(e)?e:e.split(".")}function g(e){return i(e)?e.join("."):e}var y={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let r=[],c=!1,d=(e,t,h)=>{if(l(e))if(t[h]){var f,p;let g=e[t[h]];if(!l(g))return;if(h===t.length-1&&(s(g)||o(g)||!0===(f=g)||!1===f||a(p=f)&&null!==p&&"[object Boolean]"==u(f)))r.push(null==g?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-n?"-0":t}(g));else if(i(g)){c=!0;for(let e=0,r=g.length;e<r;e+=1)d(g[e],t,h+1)}else t.length&&d(g,t,h+1)}else r.push(e)};return d(e,s(t)?t.split("."):t,0),c?r:r[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};let m=/[^ ]+/g;class b{constructor({getFn:e=y.getFn,fieldNormWeight:t=y.fieldNormWeight}={}){this.norm=function(e=1,t=3){let r=new Map,i=Math.pow(10,t);return{get(t){let n=t.match(m).length;if(r.has(n))return r.get(n);let s=parseFloat(Math.round(1/Math.pow(n,.5*e)*i)/i);return r.set(n,s),s},clear(){r.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,s(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();s(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!l(e)||c(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((t,n)=>{let o=t.getFn?t.getFn(e):this.getFn(e,t.path);if(l(o)){if(i(o)){let e=[],t=[{nestedArrIndex:-1,value:o}];for(;t.length;){let{nestedArrIndex:r,value:n}=t.pop();if(l(n))if(s(n)&&!c(n)){let t={v:n,i:r,n:this.norm.get(n)};e.push(t)}else i(n)&&n.forEach((e,r)=>{t.push({nestedArrIndex:r,value:e})})}r.$[n]=e}else if(s(o)&&!c(o)){let e={v:o,n:this.norm.get(o)};r.$[n]=e}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function v(e,t,{getFn:r=y.getFn,fieldNormWeight:i=y.fieldNormWeight}={}){let n=new b({getFn:r,fieldNormWeight:i});return n.setKeys(e.map(f)),n.setSources(t),n.create(),n}function w(e,{errors:t=0,currentLocation:r=0,expectedLocation:i=0,distance:n=y.distance,ignoreLocation:s=y.ignoreLocation}={}){let o=t/e.length;if(s)return o;let a=Math.abs(i-r);return n?o+a/n:a?1:o}let x=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class E{constructor(e,{location:t=y.location,threshold:r=y.threshold,distance:i=y.distance,includeMatches:n=y.includeMatches,findAllMatches:s=y.findAllMatches,minMatchCharLength:o=y.minMatchCharLength,isCaseSensitive:a=y.isCaseSensitive,ignoreDiacritics:l=y.ignoreDiacritics,ignoreLocation:c=y.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:i,includeMatches:n,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:a,ignoreDiacritics:l,ignoreLocation:c},e=a?e:e.toLowerCase(),e=l?x(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;let u=(e,t)=>{this.chunks.push({pattern:e,alphabet:function(e){let t={};for(let r=0,i=e.length;r<i;r+=1){let n=e.charAt(r);t[n]=(t[n]||0)|1<<i-r-1}return t}(e),startIndex:t})},d=this.pattern.length;if(d>32){let e=0,t=d%32,r=d-t;for(;e<r;)u(this.pattern.substr(e,32),e),e+=32;if(t){let e=d-32;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=t?e:e.toLowerCase(),e=r?x(e):e,this.pattern===e){let t={isMatch:!0,score:0};return i&&(t.indices=[[0,e.length-1]]),t}let{location:n,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options,u=[],d=0,h=!1;this.chunks.forEach(({pattern:t,alphabet:r,startIndex:f})=>{let{isMatch:p,score:g,indices:m}=function(e,t,r,{location:i=y.location,distance:n=y.distance,threshold:s=y.threshold,findAllMatches:o=y.findAllMatches,minMatchCharLength:a=y.minMatchCharLength,includeMatches:l=y.includeMatches,ignoreLocation:c=y.ignoreLocation}={}){let u;if(t.length>32)throw Error("Pattern length exceeds max of 32.");let d=t.length,h=e.length,f=Math.max(0,Math.min(i,h)),p=s,g=f,m=a>1||l,b=m?Array(h):[];for(;(u=e.indexOf(t,g))>-1;)if(p=Math.min(w(t,{currentLocation:u,expectedLocation:f,distance:n,ignoreLocation:c}),p),g=u+d,m){let e=0;for(;e<d;)b[u+e]=1,e+=1}g=-1;let v=[],x=1,E=d+h,S=1<<d-1;for(let i=0;i<d;i+=1){let s=0,a=E;for(;s<a;)w(t,{errors:i,currentLocation:f+a,expectedLocation:f,distance:n,ignoreLocation:c})<=p?s=a:E=a,a=Math.floor((E-s)/2+s);E=a;let l=Math.max(1,f-a+1),u=o?h:Math.min(f+a,h)+d,y=Array(u+2);y[u+1]=(1<<i)-1;for(let s=u;s>=l;s-=1){let o=s-1,a=r[e.charAt(o)];if(m&&(b[o]=+!!a),y[s]=(y[s+1]<<1|1)&a,i&&(y[s]|=(v[s+1]|v[s])<<1|1|v[s+1]),y[s]&S&&(x=w(t,{errors:i,currentLocation:o,expectedLocation:f,distance:n,ignoreLocation:c}))<=p){if(p=x,(g=o)<=f)break;l=Math.max(1,2*f-g)}}if(w(t,{errors:i+1,currentLocation:f,expectedLocation:f,distance:n,ignoreLocation:c})>p)break;v=y}let I={isMatch:g>=0,score:Math.max(.001,x)};if(m){let e=function(e=[],t=y.minMatchCharLength){let r=[],i=-1,n=-1,s=0;for(let o=e.length;s<o;s+=1){let o=e[s];o&&-1===i?i=s:o||-1===i||((n=s-1)-i+1>=t&&r.push([i,n]),i=-1)}return e[s-1]&&s-i>=t&&r.push([i,s-1]),r}(b,a);e.length?l&&(I.indices=e):I.isMatch=!1}return I}(e,t,r,{location:n+f,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:l,includeMatches:i,ignoreLocation:c});p&&(h=!0),d+=g,p&&m&&(u=[...u,...m])});let f={isMatch:h,score:h?d/this.chunks.length:1};return h&&i&&(f.indices=u),f}}class S{constructor(e){this.pattern=e}static isMultiMatch(e){return I(e,this.multiRegex)}static isSingleMatch(e){return I(e,this.singleRegex)}search(){}}function I(e,t){let r=e.match(t);return r?r[1]:null}class C extends S{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:+!t,indices:[0,this.pattern.length-1]}}}class A extends S{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let t=-1===e.indexOf(this.pattern);return{isMatch:t,score:+!t,indices:[0,e.length-1]}}}class D extends S{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:+!t,indices:[0,this.pattern.length-1]}}}class O extends S{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:+!t,indices:[0,e.length-1]}}}class _ extends S{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:+!t,indices:[e.length-this.pattern.length,e.length-1]}}}class R extends S{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:+!t,indices:[0,e.length-1]}}}class N extends S{constructor(e,{location:t=y.location,threshold:r=y.threshold,distance:i=y.distance,includeMatches:n=y.includeMatches,findAllMatches:s=y.findAllMatches,minMatchCharLength:o=y.minMatchCharLength,isCaseSensitive:a=y.isCaseSensitive,ignoreDiacritics:l=y.ignoreDiacritics,ignoreLocation:c=y.ignoreLocation}={}){super(e),this._bitapSearch=new E(e,{location:t,threshold:r,distance:i,includeMatches:n,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:a,ignoreDiacritics:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class P extends S{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,r=0,i=[],n=this.pattern.length;for(;(t=e.indexOf(this.pattern,r))>-1;)r=t+n,i.push([t,r-1]);let s=!!i.length;return{isMatch:s,score:+!s,indices:i}}}let j=[C,P,D,O,R,_,A,N],k=j.length,L=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,B=new Set([N.type,P.type]);class M{constructor(e,{isCaseSensitive:t=y.isCaseSensitive,ignoreDiacritics:r=y.ignoreDiacritics,includeMatches:i=y.includeMatches,minMatchCharLength:n=y.minMatchCharLength,ignoreLocation:s=y.ignoreLocation,findAllMatches:o=y.findAllMatches,location:a=y.location,threshold:l=y.threshold,distance:c=y.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:n,findAllMatches:o,ignoreLocation:s,location:a,threshold:l,distance:c},e=t?e:e.toLowerCase(),e=r?x(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map(e=>{let r=e.trim().split(L).filter(e=>e&&!!e.trim()),i=[];for(let e=0,n=r.length;e<n;e+=1){let n=r[e],s=!1,o=-1;for(;!s&&++o<k;){let e=j[o],r=e.isMultiMatch(n);r&&(i.push(new e(r,t)),s=!0)}if(!s)for(o=-1;++o<k;){let e=j[o],r=e.isSingleMatch(n);if(r){i.push(new e(r,t));break}}}return i})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:n}=this.options;e=i?e:e.toLowerCase(),e=n?x(e):e;let s=0,o=[],a=0;for(let i=0,n=t.length;i<n;i+=1){let n=t[i];o.length=0,s=0;for(let t=0,i=n.length;t<i;t+=1){let i=n[t],{isMatch:l,indices:c,score:u}=i.search(e);if(l){if(s+=1,a+=u,r){let e=i.constructor.type;B.has(e)?o=[...o,...c]:o.push(c)}}else{a=0,s=0,o.length=0;break}}if(s){let e={isMatch:!0,score:a/s};return r&&(e.indices=o),e}}return{isMatch:!1,score:1}}}let U=[];function F(e,t){for(let r=0,i=U.length;r<i;r+=1){let i=U[r];if(i.condition(e,t))return new i(e,t)}return new E(e,t)}let q={AND:"$and",OR:"$or"},$={PATH:"$path",PATTERN:"$val"},z=e=>!!(e[q.AND]||e[q.OR]),K=e=>({[q.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function V(e,t,{auto:r=!0}={}){let n=e=>{let o=Object.keys(e),l=!!e[$.PATH];if(!l&&o.length>1&&!z(e))return n(K(e));if(!i(e)&&a(e)&&!z(e)){let i=l?e[$.PATH]:o[0],n=l?e[$.PATTERN]:e[i];if(!s(n))throw Error(`Invalid value for key ${i}`);let a={keyId:g(i),pattern:n};return r&&(a.searcher=F(n,t)),a}let c={children:[],operator:o[0]};return o.forEach(t=>{let r=e[t];i(r)&&r.forEach(e=>{c.children.push(n(e))})}),c};return z(e)||(e=K(e)),n(e)}function H(e,t){let r=e.matches;t.matches=[],l(r)&&r.forEach(e=>{if(!l(e.indices)||!e.indices.length)return;let{indices:r,value:i}=e,n={indices:r,value:i};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)})}function W(e,t){t.score=e.score}class Q{constructor(e,t={},r){this.options={...y,...t},this.options.useExtendedSearch,this._keyStore=new h(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof b))throw Error("Incorrect 'index' type");this._myIndex=t||v(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){l(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let r=0,i=this._docs.length;r<i;r+=1){let n=this._docs[r];e(n,r)&&(this.removeAt(r),r-=1,i-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:r,includeScore:i,shouldSort:n,sortFn:a,ignoreFieldNorm:l}=this.options,c=s(e)?s(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return!function(e,{ignoreFieldNorm:t=y.ignoreFieldNorm}){e.forEach(e=>{let r=1;e.matches.forEach(({key:e,norm:i,score:n})=>{let s=e?e.weight:null;r*=Math.pow(0===n&&s?Number.EPSILON:n,(s||1)*(t?1:i))}),e.score=r})}(c,{ignoreFieldNorm:l}),n&&c.sort(a),o(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:r=y.includeMatches,includeScore:i=y.includeScore}={}){let n=[];return r&&n.push(H),i&&n.push(W),e.map(e=>{let{idx:r}=e,i={item:t[r],refIndex:r};return n.length&&n.forEach(t=>{t(e,i)}),i})}(c,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){let t=F(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:e,i:r,n:n})=>{if(!l(e))return;let{isMatch:s,score:o,indices:a}=t.searchIn(e);s&&i.push({item:e,idx:r,matches:[{score:o,value:e,norm:n,indices:a}]})}),i}_searchLogical(e){let t=V(e,this.options),r=(e,t,i)=>{if(!e.children){let{keyId:r,searcher:n}=e,s=this._findMatches({key:this._keyStore.get(r),value:this._myIndex.getValueForItemAtKeyId(t,r),searcher:n});return s&&s.length?[{idx:i,item:t,matches:s}]:[]}let n=[];for(let s=0,o=e.children.length;s<o;s+=1){let o=r(e.children[s],t,i);if(o.length)n.push(...o);else if(e.operator===q.AND)return[]}return n},i=this._myIndex.records,n={},s=[];return i.forEach(({$:e,i:i})=>{if(l(e)){let o=r(t,e,i);o.length&&(n[i]||(n[i]={idx:i,item:e,matches:[]},s.push(n[i])),o.forEach(({matches:e})=>{n[i].matches.push(...e)}))}}),s}_searchObjectList(e){let t=F(e,this.options),{keys:r,records:i}=this._myIndex,n=[];return i.forEach(({$:e,i:i})=>{if(!l(e))return;let s=[];r.forEach((r,i)=>{s.push(...this._findMatches({key:r,value:e[i],searcher:t}))}),s.length&&n.push({idx:i,item:e,matches:s})}),n}_findMatches({key:e,value:t,searcher:r}){if(!l(t))return[];let n=[];if(i(t))t.forEach(({v:t,i:i,n:s})=>{if(!l(t))return;let{isMatch:o,score:a,indices:c}=r.searchIn(t);o&&n.push({score:a,key:e,value:t,idx:i,norm:s,indices:c})});else{let{v:i,n:s}=t,{isMatch:o,score:a,indices:l}=r.searchIn(i);o&&n.push({score:a,key:e,value:i,norm:s,indices:l})}return n}}Q.version="7.1.0",Q.createIndex=v,Q.parseIndex=function(e,{getFn:t=y.getFn,fieldNormWeight:r=y.fieldNormWeight}={}){let{keys:i,records:n}=e,s=new b({getFn:t,fieldNormWeight:r});return s.setKeys(i),s.setIndexRecords(n),s},Q.config=y,Q.parseQuery=V,function(...e){U.push(...e)}(M)},71075:(e,t,r)=>{"use strict";function i(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)}catch(t){return e}}function n(e){return"string"==typeof e?e:JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t)||""}r.d(t,{h:()=>n,j:()=>i})},73012:(e,t,r)=>{"use strict";r.d(t,{lY:()=>x});var i=r(61947);let n=BigInt(0x100000000-1),s=BigInt(32);var o=r(28185);let a=[],l=[],c=[],u=BigInt(0),d=BigInt(1),h=BigInt(2),f=BigInt(7),p=BigInt(256),g=BigInt(113);for(let e=0,t=d,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],a.push(2*(5*i+r)),l.push((e+1)*(e+2)/2%64);let n=u;for(let e=0;e<7;e++)(t=(t<<d^(t>>f)*g)%p)&h&&(n^=d<<(d<<BigInt(e))-d);c.push(n)}let[y,m]=function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:a,l}=function(e,t=!1){return t?{h:Number(e&n),l:Number(e>>s&n)}:{h:0|Number(e>>s&n),l:0|Number(e&n)}}(e[o],t);[r[o],i[o]]=[a,l]}return[r,i]}(c,!0),b=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),v=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class w extends o.Vw{constructor(e,t,r,n=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,i.Fe)(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,o.DH)(this.state)}keccak(){o.qv||(0,o.Fc)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,s=r[n],o=r[n+1],a=b(s,o,1)^r[i],l=v(s,o,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=l[r],s=b(t,n,i),o=v(t,n,i),c=a[r];t=e[c],n=e[c+1],e[c]=s,e[c+1]=o}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=y[i],e[1]^=m[i]}r.fill(0)}(this.state32,this.rounds),o.qv||(0,o.Fc)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.CC)(this);let{blockLen:t,state:r}=this,n=(e=(0,o.ZJ)(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,i.CC)(this,!1),(0,i.DO)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.Ht)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new w(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}let x=(0,o.ld)(()=>new w(136,1,32))},73180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},74822:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var i=r(95155),n=r(12115),s=r(31530);let o=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});var a=r(55628);let l=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))});var c=r(29509);let u=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))});var d=r(6865),h=r(98359),f=r(45125);function p(e){let{quest:t,onClose:r,onSuccess:a}=e,{submitQuestProof:l,isSubmitting:c}=(0,h.rn)(),[u,d]=(0,n.useState)(""),[f,p]=(0,n.useState)(!1),[m,b]=(0,n.useState)(""),[v,w]=(0,n.useState)("instructions");(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]);let x=async()=>{if(console.log("\uD83D\uDE80 QuestSubmissionForm: Starting handleSubmit",{isValidUrl:f,tweetUrl:u.trim(),questId:t.questId.toString(),submitQuestProof:!!l}),!f||!u.trim()){console.log("❌ QuestSubmissionForm: Invalid URL or empty tweet URL"),s.oR.error("Please provide a valid tweet URL");return}if(!l){console.log("❌ QuestSubmissionForm: submitQuestProof function not available"),s.oR.error("Contract connection not available. Please refresh and try again.");return}try{console.log("\uD83D\uDD04 QuestSubmissionForm: Calling submitQuestProof...",{questId:Number(t.questId),tweetUrl:u.trim()});let e=new Promise((e,t)=>setTimeout(()=>t(Error("Submission timed out")),3e4)),r=l(Number(t.questId),u.trim()),i=await Promise.race([r,e]);console.log("✅ QuestSubmissionForm: Submission successful",i),s.oR.success("Quest submitted successfully! Check your dashboard for verification status."),a()}catch(t){console.error("❌ QuestSubmissionForm: Submission failed",{error:t,errorMessage:null==t?void 0:t.message,errorStack:null==t?void 0:t.stack});let e="Failed to submit quest. Please try again.";(null==t?void 0:t.message)&&(e=t.message.includes("rejected")||t.message.includes("denied")?"Transaction was rejected. Please try again.":t.message.includes("insufficient")?"Insufficient funds for transaction fees.":t.message.includes("QuestManager__QuestAlreadySubmitted")?"You have already submitted this quest. Check your dashboard for verification status.":t.message.includes("QuestManager__PlayerAlreadyCompleted")?"You have already completed this quest. Check your dashboard for your rewards.":t.message.includes("QuestManager__QuestNotActive")?"This quest is no longer active.":t.message.includes("QuestManager__EmptyTweetUrl")?"Please provide a valid tweet URL.":t.message.includes("network")?"Network error. Please check your connection and try again.":t.message.includes("Contract not available")?"Smart contract is not available. Please check your network connection.":t.message.includes("No account connected")?"Please connect your wallet and try again.":t.message.includes("timed out")?"Transaction timed out. Please try again.":"Error: ".concat(t.message)),s.oR.error(e)}};return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t.title}),(0,i.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Reward: ",(0,h.NJ)(t.rewardAmount,6)," USDC + NFT Badge"]})]}),(0,i.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),r()},className:"p-2 text-gray-400 hover:text-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",type:"button","aria-label":"Close dialog",children:(0,i.jsx)(o,{className:"h-5 w-5"})})]}),(0,i.jsx)("div",{className:"p-6",children:"instructions"===v?(0,i.jsx)(g,{quest:t,onNext:()=>w("submit"),onCopyHashtag:()=>{navigator.clipboard.writeText("#EtherlinkQuest"),s.oR.success("Hashtag copied to clipboard!")},onCopyRequirements:()=>{navigator.clipboard.writeText(t.requirements),s.oR.success("Requirements copied to clipboard!")}}):(0,i.jsx)(y,{quest:t,tweetUrl:u,isValidUrl:f,urlError:m,isSubmitting:c,onUrlChange:e=>{d(e);let t=(e=>{if(!e.trim())return{isValid:!1,error:""};try{let t=new URL(e);if(!["twitter.com","x.com","mobile.twitter.com","m.twitter.com"].some(e=>t.hostname===e||t.hostname==="www.".concat(e)))return{isValid:!1,error:"Please provide a valid Twitter/X post URL"};if(!/\/(status|statuses)\/\d+/.test(t.pathname))return{isValid:!1,error:"URL should link to a specific tweet/post"};return{isValid:!0,error:""}}catch(e){return{isValid:!1,error:"Please enter a valid URL"}}})(e);p(t.isValid),b(t.error)},onSubmit:x,onBack:()=>w("instructions")})})]})})}function g(e){let{quest:t,onNext:r,onCopyHashtag:n,onCopyRequirements:s}=e;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"How to Complete This Quest"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Follow these steps to complete the quest and earn your reward:"})]}),(0,i.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,i.jsxs)("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[(0,i.jsx)(a.A,{className:"h-4 w-4 mr-2"}),"Quest Requirements"]}),(0,i.jsx)("div",{className:"text-blue-800 text-sm bg-white rounded p-3 font-mono",children:t.requirements}),(0,i.jsxs)("button",{onClick:s,className:"mt-2 text-xs text-blue-600 hover:text-blue-800 flex items-center",children:[(0,i.jsx)(l,{className:"h-3 w-3 mr-1"}),"Copy requirements"]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0",children:"1"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Go to Twitter/X"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Open Twitter/X in a new tab to create your post"}),(0,i.jsxs)("a",{href:"https://twitter.com/intent/tweet",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center mt-2 text-blue-600 hover:text-blue-800 text-sm",children:[(0,i.jsx)(c.A,{className:"h-4 w-4 mr-1"}),"Open Twitter"]})]})]}),(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0",children:"2"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Create your post"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Write a post that includes the required hashtag and mentions"}),(0,i.jsxs)("div",{className:"mt-2 bg-gray-50 rounded p-2 text-sm font-mono flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-blue-600",children:"#EtherlinkQuest"}),(0,i.jsx)("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:(0,i.jsx)(l,{className:"h-4 w-4"})})]})]})]}),(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0",children:"3"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Publish your post"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Make sure your post is public so it can be verified"})]})]}),(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0",children:"4"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Copy the post URL"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Copy the direct link to your tweet and submit it below"})]})]})]}),(0,i.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,i.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"Important Notes:"}),(0,i.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-1",children:[(0,i.jsx)("li",{children:"• Your post must be public to be verified"}),(0,i.jsx)("li",{children:"• Include exactly the hashtag and mentions as specified"}),(0,i.jsx)("li",{children:"• Each wallet can only complete this quest once"}),(0,i.jsx)("li",{children:"• Verification may take a few minutes to several hours"})]})]}),(0,i.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),r()},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"I've completed the task - Submit proof"})]})}function y(e){let{quest:t,tweetUrl:r,isValidUrl:n,urlError:s,isSubmitting:o,onUrlChange:l,onSubmit:c,onBack:p}=e;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Submit Your Quest Proof"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Paste the URL of your completed post below for verification."})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Post URL ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,i.jsx)(u,{className:"h-5 w-5 text-gray-400"})}),(0,i.jsx)("input",{type:"url",value:r,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(s?"border-red-300 bg-red-50":n?"border-green-300 bg-green-50":"border-gray-300"),placeholder:"https://twitter.com/username/status/123456789..."}),n&&(0,i.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,i.jsx)(d.A,{className:"h-5 w-5 text-green-500"})})]}),s&&(0,i.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,i.jsx)(a.A,{className:"h-4 w-4 mr-1"}),s]}),n&&(0,i.jsxs)("p",{className:"mt-1 text-sm text-green-600 flex items-center",children:[(0,i.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Valid tweet URL"]}),(0,i.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Example: https://twitter.com/yourhandle/status/1234567890123456789"})]}),n&&r&&(0,i.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Submission Preview:"}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Quest:"})," ",t.title]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Proof URL:"})," ",r]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Reward:"})," ",(0,h.NJ)(t.rewardAmount,6)," USDC + NFT Badge"]})]})]}),(0,i.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,i.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"What happens next?"}),(0,i.jsxs)("ol",{className:"text-sm text-blue-800 space-y-1",children:[(0,i.jsx)("li",{children:"1. Your submission will be reviewed by an admin"}),(0,i.jsx)("li",{children:"2. We'll verify that your post meets the requirements"}),(0,i.jsx)("li",{children:"3. Upon approval, you'll receive your USDC reward"}),(0,i.jsx)("li",{children:"4. Your NFT badge will be minted automatically"}),(0,i.jsx)("li",{children:"5. Check your dashboard for updates on the verification status"})]})]}),(0,i.jsxs)("div",{className:"flex space-x-3",children:[(0,i.jsx)("button",{onClick:p,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors",children:"Back to Instructions"}),(0,i.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),n&&!o&&c()},disabled:!n||o,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center",children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Ay,{size:"sm",color:"white",className:"mr-2"}),"Submitting..."]}):"Submit Quest"})]})]})}},75086:(e,t,r)=>{"use strict";r.d(t,{IJsonRpcProvider:()=>o.kF,formatJsonRpcError:()=>s.dZ,formatJsonRpcRequest:()=>s.e_,formatJsonRpcResult:()=>s.Im,getBigIntRpcId:()=>s.eX,isHttpUrl:()=>a.q$,isJsonRpcError:()=>l.U$,isJsonRpcRequest:()=>l.p3,isJsonRpcResponse:()=>l.tq,isJsonRpcResult:()=>l.xT,isLocalhostUrl:()=>a.z,isWsUrl:()=>a.A1,parseConnectionError:()=>i.eF,payloadId:()=>s.ER}),r(18067);var i=r(53428),n=r(77401);r.o(n,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}}),r.o(n,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return n.formatJsonRpcError}}),r.o(n,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return n.formatJsonRpcRequest}}),r.o(n,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return n.formatJsonRpcResult}}),r.o(n,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return n.getBigIntRpcId}}),r.o(n,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return n.isHttpUrl}}),r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}}),r.o(n,"payloadId")&&r.d(t,{payloadId:function(){return n.payloadId}});var s=r(93909),o=r(44157),a=r(14911),l=r(96553)},75155:(e,t,r)=>{"use strict";r.d(t,{n:()=>u});var i=r(12115),n=r(69662),s=r(22447),o=r(44088),a=r(13330),l=class extends o.Q{#i;#g=void 0;#B;#M;constructor(e,t){super(),this.#i=e,this.setOptions(t),this.bindMethods(),this.#U()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#i.defaultMutationOptions(e),(0,a.f8)(this.options,t)||this.#i.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#B,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.EN)(t.mutationKey)!==(0,a.EN)(this.options.mutationKey)?this.reset():this.#B?.state.status==="pending"&&this.#B.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#B?.removeObserver(this)}onMutationUpdate(e){this.#U(),this.#j(e)}getCurrentResult(){return this.#g}reset(){this.#B?.removeObserver(this),this.#B=void 0,this.#U(),this.#j()}mutate(e,t){return this.#M=t,this.#B?.removeObserver(this),this.#B=this.#i.getMutationCache().build(this.#i,this.options),this.#B.addObserver(this),this.#B.execute(e)}#U(){let e=this.#B?.state??(0,n.$)();this.#g={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#j(e){s.jG.batch(()=>{if(this.#M&&this.hasListeners()){let t=this.#g.variables,r=this.#g.context;e?.type==="success"?(this.#M.onSuccess?.(e.data,t,r),this.#M.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#M.onError?.(e.error,t,r),this.#M.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#g)})})}},c=r(26715);function u(e,t){let r=(0,c.jE)(t),[n]=i.useState(()=>new l(r,e));i.useEffect(()=>{n.setOptions(e)},[n,e]);let o=i.useSyncExternalStore(i.useCallback(e=>n.subscribe(s.jG.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),u=i.useCallback((e,t)=>{n.mutate(e,t).catch(a.lQ)},[n]);if(o.error&&(0,a.GU)(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}},76589:(e,t,r)=>{"use strict";r.d(t,{H:()=>i});class i{}},77226:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var i=r(40662),n=r(75086);class s extends n.IJsonRpcProvider{constructor(e){super(e),this.events=new i.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,n.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,n.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(e){i(e)}this.events.on(`${e.id}`,e=>{(0,n.isJsonRpcError)(e)?i(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){i(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,n.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},77401:(e,t,r)=>{"use strict";var i=r(91203);r.o(i,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),r.o(i,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),r.o(i,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),r.o(i,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),r.o(i,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),r.o(i,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),r.o(i,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),r.o(i,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),r.o(i,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),r.o(i,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),r.o(i,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),r.o(i,"isReactNative")&&r.d(t,{isReactNative:function(){return i.isReactNative}}),r.o(i,"isWsUrl")&&r.d(t,{isWsUrl:function(){return i.isWsUrl}}),r.o(i,"payloadId")&&r.d(t,{payloadId:function(){return i.payloadId}})},77726:(e,t,r)=>{"use strict";r.d(t,{J:()=>p});var i,n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s=r(14088),o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,s.A)(function(e){return l(e)?e:e.replace(o,"-$&").toLowerCase()}),d=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(a,function(e,t,r){return i={name:t,styles:r,next:i},t})}return 1===n[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"};function h(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return i={name:r.name,styles:r.styles,next:i},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)i={name:n.name,styles:n.styles,next:i},n=n.next;return r.styles+";"}return function(e,t,r){var i="";if(Array.isArray(r))for(var n=0;n<r.length;n++)i+=h(e,t,r[n])+";";else for(var s in r){var o=r[s];if("object"!=typeof o)null!=t&&void 0!==t[o]?i+=s+"{"+t[o]+"}":c(o)&&(i+=u(s)+":"+d(s,o)+";");else if(Array.isArray(o)&&"string"==typeof o[0]&&(null==t||void 0===t[o[0]]))for(var a=0;a<o.length;a++)c(o[a])&&(i+=u(s)+":"+d(s,o[a])+";");else{var l=h(e,t,o);switch(s){case"animation":case"animationName":i+=u(s)+":"+l+";";break;default:i+=s+"{"+l+"}"}}}return i}(e,t,r);case"function":if(void 0!==e){var s=i,o=r(e);return i=s,h(e,t,o)}}if(null==t)return r;var a=t[r];return void 0!==a?a:r}var f=/label:\s*([^\s;{]+)\s*(;|$)/g;function p(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n,s=!0,o="";i=void 0;var a=e[0];null==a||void 0===a.raw?(s=!1,o+=h(r,t,a)):o+=a[0];for(var l=1;l<e.length;l++)o+=h(r,t,e[l]),s&&(o+=a[l]);f.lastIndex=0;for(var c="";null!==(n=f.exec(o));)c+="-"+n[1];return{name:function(e){for(var t,r=0,i=0,n=e.length;n>=4;++i,n-=4)t=(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,r=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&r)*0x5bd1e995+((r>>>16)*59797<<16);switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r^=255&e.charCodeAt(i),r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16)}return r^=r>>>13,(((r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16))^r>>>15)>>>0).toString(36)}(o)+c,styles:o,next:i}}},78046:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},78566:(e,t,r)=>{"use strict";r.d(t,{E:()=>g});var i=r(12115),n=r(22447),s=r(22761),o=r(44088),a=r(13330);function l(e,t){let r=new Set(t);return e.filter(e=>!r.has(e))}var c=class extends o.Q{#i;#F;#q;#$;#T;#z;#K;#V;#H=[];constructor(e,t,r){super(),this.#i=e,this.#$=r,this.#q=[],this.#T=[],this.#F=[],this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.#T.forEach(e=>{e.subscribe(t=>{this.#W(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#T.forEach(e=>{e.destroy()})}setQueries(e,t){this.#q=e,this.#$=t,n.jG.batch(()=>{let e=this.#T,t=this.#Q(this.#q);this.#H=t,t.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions));let r=t.map(e=>e.observer),i=r.map(e=>e.getCurrentResult()),n=r.some((t,r)=>t!==e[r]);(e.length!==r.length||n)&&(this.#T=r,this.#F=i,this.hasListeners()&&(l(e,r).forEach(e=>{e.destroy()}),l(r,e).forEach(e=>{e.subscribe(t=>{this.#W(e,t)})}),this.#j()))})}getCurrentResult(){return this.#F}getQueries(){return this.#T.map(e=>e.getCurrentQuery())}getObservers(){return this.#T}getOptimisticResult(e,t){let r=this.#Q(e),i=r.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[i,e=>this.#J(e??i,t),()=>this.#Y(i,r)]}#Y(e,t){return t.map((r,i)=>{let n=e[i];return r.defaultedQueryOptions.notifyOnChangeProps?n:r.observer.trackResult(n,e=>{t.forEach(t=>{t.observer.trackProp(e)})})})}#J(e,t){return t?(this.#z&&this.#F===this.#V&&t===this.#K||(this.#K=t,this.#V=this.#F,this.#z=(0,a.BH)(this.#z,t(e))),this.#z):e}#Q(e){let t=new Map(this.#T.map(e=>[e.options.queryHash,e])),r=[];return e.forEach(e=>{let i=this.#i.defaultQueryOptions(e),n=t.get(i.queryHash);n?r.push({defaultedQueryOptions:i,observer:n}):r.push({defaultedQueryOptions:i,observer:new s.$(this.#i,i)})}),r}#W(e,t){let r=this.#T.indexOf(e);-1!==r&&(this.#F=function(e,t,r){let i=e.slice(0);return i[t]=r,i}(this.#F,r,t),this.#j())}#j(){if(this.hasListeners()){let e=this.#z,t=this.#Y(this.#F,this.#H);e!==this.#J(t,this.#$?.combine)&&n.jG.batch(()=>{this.listeners.forEach(e=>{e(this.#F)})})}}},u=r(26715),d=r(61581),h=r(80382),f=r(22450),p=r(4791);function g(e,t){let{queries:r,...o}=e,l=(0,u.jE)(t),g=(0,d.w)(),y=(0,h.h)(),m=i.useMemo(()=>r.map(e=>{let t=l.defaultQueryOptions(e);return t._optimisticResults=g?"isRestoring":"optimistic",t}),[r,l,g]);m.forEach(e=>{(0,p.jv)(e),(0,f.LJ)(e,y)}),(0,f.wZ)(y);let[b]=i.useState(()=>new c(l,m,o)),[v,w,x]=b.getOptimisticResult(m,o.combine),E=!g&&!1!==o.subscribed;i.useSyncExternalStore(i.useCallback(e=>E?b.subscribe(n.jG.batchCalls(e)):a.lQ,[b,E]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),i.useEffect(()=>{b.setQueries(m,o)},[m,o,b]);let S=v.some((e,t)=>(0,p.EU)(m[t],e))?v.flatMap((e,t)=>{let r=m[t];if(r){let t=new s.$(l,r);if((0,p.EU)(r,e))return(0,p.iL)(r,t,y);(0,p.nE)(e,g)&&(0,p.iL)(r,t,y)}return[]}):[];if(S.length>0)throw Promise.all(S);let I=v.find((e,t)=>{let r=m[t];return r&&(0,f.$1)({result:e,errorResetBoundary:y,throwOnError:r.throwOnError,query:l.getQueryCache().get(r.queryHash),suspense:r.suspense})});if(null==I?void 0:I.error)throw I.error;return w(x())}},78859:(e,t)=>{"use strict";function r(e){let t={};for(let[r,i]of e.entries()){let e=t[r];void 0===e?t[r]=i:Array.isArray(e)?e.push(i):t[r]=[e,i]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function n(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,i(e));else t.set(r,i(n));return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,i]of t.entries())e.append(r,i)}return e}Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return s},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return n}})},79777:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var i=r(44088),n=r(13330),s=new class extends i.Q{#G=!0;#c;#u;constructor(){super(),this.#u=e=>{if(!n.S$&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#c||this.setEventListener(this.#u)}onUnsubscribe(){this.hasListeners()||(this.#c?.(),this.#c=void 0)}setEventListener(e){this.#u=e,this.#c?.(),this.#c=e(this.setOnline.bind(this))}setOnline(e){this.#G!==e&&(this.#G=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#G}}},80382:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var i=r(12115);r(95155);var n=i.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),s=()=>i.useContext(n)},80749:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var i=r(95155),n=r(12115),s=r(49112),o=r(28960);let a=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))});var l=r(27572);let c=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}),u=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),d=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))});var h=r(67695),f=r(82771),p=r(98359),g=r(45125);function y(){var e,t,r,y,v,w,x;let E=(0,s.UD)(),{poolBalance:S,poolStats:I,getStakerInfo:C,stakeTokens:A,unstakeTokens:D,isStaking:O,isUnstaking:_,refetchPoolBalance:R,refetchPoolStats:N}=(0,p.hL)(),{getBalance:P,getAllowance:j,approveSpender:k,isApproving:L}=(0,p.Kp)(),[B,M]=(0,n.useState)(null),[U,F]=(0,n.useState)(!0),[q,$]=(0,n.useState)(""),[z,K]=(0,n.useState)("stake"),[V,H]=(0,n.useState)(BigInt(0)),W=(0,n.useMemo)(()=>"0x4f910ef3996d7C4763EFA2fEf15265e8b918cD0b",[]);(0,n.useEffect)(()=>{(async()=>{if(!E){M(null),F(!1);return}F(!0);try{console.log("\uD83D\uDCCA StakesSummary: Starting data fetch for address:",E);let e=null,t=BigInt(0),r=BigInt(0);try{e=await C(E)}catch(e){console.warn("Failed to fetch staker info:",e)}try{let e=await P(E);e&&(t=e)}catch(e){console.warn("Failed to fetch USDC balance:",e)}try{let e=await j(E,W);e&&(r=e)}catch(e){console.warn("Failed to fetch allowance:",e)}let i=S||BigInt(0),n=(null==e?void 0:e.stakedAmount)||BigInt(0),s=i>BigInt(0)?Number(n)/Number(i)*100:0,o=(null==e?void 0:e.isActive)?[{type:"stake",amount:(0,p.NJ)(e.stakedAmount,6),timestamp:1e3*Number(e.stakeTimestamp)}]:[],a={stakerInfo:e,poolStats:I?{totalPoolBalance:I[0],totalStakers:I[1],totalRewardsDistributed:I[2],minimumStakeAmount:I[3]}:null,userBalance:(0,p.NJ)(t,6),stakingShare:s,stakingHistory:o};console.log("\uD83D\uDCCA StakesSummary: Processed staking data",{stakerInfo:!!e,userBalance:a.userBalance,stakingShare:a.stakingShare}),M(a),H(r)}catch(e){console.error("Error fetching staking data:",e),M({stakerInfo:null,poolStats:null,userBalance:"0",stakingShare:0,stakingHistory:[]})}finally{F(!1)}})()},[E,S,I,W]);let Q=(0,n.useMemo)(()=>!!q&&"stake"===z&&parseFloat(q)>parseFloat((0,p.NJ)(V,6)),[q,z,V]),J=(0,n.useMemo)(()=>{var e,t;if(!q||!B)return!1;let r=parseFloat(q);if("stake"===z){let t=parseFloat(B.userBalance),i=parseFloat((0,p.NJ)(null==(e=B.poolStats)?void 0:e.minimumStakeAmount,6));return r>0&&r>=i&&r<=t&&!Q}{let e=parseFloat((0,p.NJ)(null==(t=B.stakerInfo)?void 0:t.stakedAmount,6));return r>0&&r<=e}},[q,z,B,Q]),Y=async()=>{if(q)try{let e=BigInt(q)*BigInt(1e6);await k(W,e);let t=await j(E,W);H(t||BigInt(0))}catch(e){console.error("Approval failed:",e)}},G=async()=>{if(J&&q)try{let e=BigInt(q)*BigInt(1e6);"stake"===z?await A(e):await D(e),$(""),await Promise.all([R(),N()])}catch(e){console.error("Quick action failed:",e)}},Z=async()=>{await Promise.all([R(),N()]),window.location.reload()};return U?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsx)(g.Qv,{}),(0,i.jsx)(g.Qv,{}),(0,i.jsx)(g.Qv,{})]}),(0,i.jsx)(g.Qv,{}),(0,i.jsx)(g.Qv,{})]}):B?(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Staking Overview"}),(0,i.jsxs)("button",{onClick:Z,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,i.jsx)(a,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsx)(m,{title:"Your Stake",value:"".concat((0,p.NJ)(null==(e=B.stakerInfo)?void 0:e.stakedAmount,6)," USDC"),icon:(0,i.jsx)(o.A,{className:"h-5 w-5"}),color:"blue",subtitle:"".concat(B.stakingShare.toFixed(2),"% of pool")}),(0,i.jsx)(m,{title:"Available Balance",value:"".concat(B.userBalance," USDC"),icon:(0,i.jsx)(l.A,{className:"h-5 w-5"}),color:"green",subtitle:"Ready to stake"}),(0,i.jsx)(m,{title:"Pool Share",value:"".concat(B.stakingShare.toFixed(4),"%"),icon:(0,i.jsx)(c,{className:"h-5 w-5"}),color:"purple",subtitle:"Of total pool"})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 sm:p-6",children:[(0,i.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex mb-4",children:[(0,i.jsxs)("button",{onClick:()=>K("stake"),className:"flex-1 py-2 px-3 sm:px-4 rounded-l-lg border-2 font-medium transition-colors text-sm sm:text-base ".concat("stake"===z?"bg-green-50 text-green-700 border-green-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"),children:[(0,i.jsx)(u,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1 sm:mr-2"}),"Stake"]}),(0,i.jsxs)("button",{onClick:()=>K("unstake"),className:"flex-1 py-2 px-3 sm:px-4 rounded-r-lg border-2 border-l-0 font-medium transition-colors text-sm sm:text-base ".concat("unstake"===z?"bg-red-50 text-red-700 border-red-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"),children:[(0,i.jsx)(d,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1 sm:mr-2"}),"Unstake"]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"number",value:q,onChange:e=>$(e.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12 sm:pr-16 text-sm sm:text-base",placeholder:"Amount to ".concat(z),min:"0",step:"0.01"}),(0,i.jsx)("button",{onClick:()=>{if(B)if("stake"===z)$(B.userBalance);else{var e;$((0,p.NJ)(null==(e=B.stakerInfo)?void 0:e.stakedAmount,6))}},className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium",children:"MAX"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[Q&&(0,i.jsx)("button",{onClick:Y,disabled:!q||L,className:"w-full bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium py-2 sm:py-3 px-3 sm:px-4 rounded-lg transition-colors flex items-center justify-center text-sm sm:text-base",children:L?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Ay,{size:"sm",color:"white",className:"mr-2"}),"Approving..."]}):"Approve ".concat(q," USDC")}),(0,i.jsx)("button",{onClick:G,disabled:!J||Q||O||_,className:"w-full font-medium py-2 sm:py-3 px-3 sm:px-4 rounded-lg transition-colors flex items-center justify-center text-sm sm:text-base ".concat("stake"===z?"bg-green-600 hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white":"bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white"),children:O||_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Ay,{size:"sm",color:"white",className:"mr-2"}),"stake"===z?"Staking...":"Unstaking..."]}):(0,i.jsxs)(i.Fragment,{children:["stake"===z?(0,i.jsx)(u,{className:"h-4 w-4 mr-2"}):(0,i.jsx)(d,{className:"h-4 w-4 mr-2"}),"stake"===z?"Stake USDC":"Unstake USDC"]})})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200",children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900 mb-3 text-sm sm:text-base",children:"stake"===z?"Staking Info":"Unstaking Info"}),(0,i.jsx)("div",{className:"space-y-2 text-xs sm:text-sm",children:"stake"===z?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Available Balance:"}),(0,i.jsxs)("span",{className:"font-medium",children:[B.userBalance," USDC"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Minimum Stake:"}),(0,i.jsxs)("span",{className:"font-medium",children:[(0,p.NJ)(null==(t=B.poolStats)?void 0:t.minimumStakeAmount,6)," USDC"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Current Allowance:"}),(0,i.jsxs)("span",{className:"font-medium",children:[(0,p.NJ)(V,6)," USDC"]})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Your Stake:"}),(0,i.jsxs)("span",{className:"font-medium",children:[(0,p.NJ)(null==(r=B.stakerInfo)?void 0:r.stakedAmount,6)," USDC"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Staked Since:"}),(0,i.jsx)("span",{className:"font-medium",children:(null==(y=B.stakerInfo)?void 0:y.stakeTimestamp)?new Date(1e3*Number(B.stakerInfo.stakeTimestamp)).toLocaleDateString():"N/A"})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Instant Unstaking:"}),(0,i.jsx)("span",{className:"font-medium text-green-600",children:"✓ Available"})]})]})})]}),(0,i.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4",children:(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(h.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 mt-0.5 mr-2 sm:mr-3 flex-shrink-0"}),(0,i.jsx)("div",{className:"text-xs sm:text-sm text-blue-800",children:"stake"===z?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium mb-1",children:"Staking Benefits"}),(0,i.jsx)("p",{children:"Your staked USDC helps fund quest rewards and supports the community ecosystem."})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium mb-1",children:"Instant Unstaking"}),(0,i.jsx)("p",{children:"You can unstake your tokens at any time without penalties or waiting periods."})]})})]})})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staking History"}),0===B.stakingHistory.length?(0,i.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,i.jsx)(f.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,i.jsx)("p",{className:"text-gray-500",children:"No staking history yet"}),(0,i.jsx)("p",{className:"text-sm text-gray-400",children:"Your staking transactions will appear here"})]}):(0,i.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,i.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,i.jsxs)("div",{className:"grid grid-cols-4 text-sm font-medium text-gray-600",children:[(0,i.jsx)("span",{children:"Action"}),(0,i.jsx)("span",{children:"Amount"}),(0,i.jsx)("span",{children:"Date"}),(0,i.jsx)("span",{children:"Status"})]})}),(0,i.jsx)("div",{className:"divide-y divide-gray-200",children:B.stakingHistory.map((e,t)=>(0,i.jsx)(b,{event:e},t))})]})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl p-4 sm:p-6",children:[(0,i.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Pool Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,i.jsxs)("div",{className:"text-center space-y-1",children:[(0,i.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-blue-600 break-all",children:(0,p.NJ)(null==(v=B.poolStats)?void 0:v.totalPoolBalance,6)}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Pool Balance (USDC)"})]}),(0,i.jsxs)("div",{className:"text-center space-y-1",children:[(0,i.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:null==(w=B.poolStats)?void 0:w.totalStakers.toString()}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Stakers"})]}),(0,i.jsxs)("div",{className:"text-center space-y-1 sm:col-span-2 lg:col-span-1",children:[(0,i.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-purple-600 break-all",children:(0,p.NJ)(null==(x=B.poolStats)?void 0:x.totalRewardsDistributed,6)}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Rewards Distributed (USDC)"})]})]})]})]}):(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)(o.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Staking Data"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Unable to load your staking information"})]})}function m(e){let{title:t,value:r,icon:n,color:s,subtitle:o}=e,a={blue:"text-blue-600 bg-blue-50",green:"text-green-600 bg-green-50",purple:"text-purple-600 bg-purple-50"};return(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-card border border-gray-200 p-4 sm:p-6",children:[(0,i.jsxs)("div",{className:"flex items-center mb-2 space-x-3",children:[(0,i.jsx)("div",{className:"p-2 rounded-lg flex-shrink-0 ".concat(a[s]),children:n}),(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:t}),(0,i.jsx)("p",{className:"text-base sm:text-xl font-bold ".concat(a[s].split(" ")[0]," truncate"),children:r})]})]}),o&&(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:o})]})}function b(e){let{event:t}=e,r="stake"===t.type;return(0,i.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:(0,i.jsxs)("div",{className:"grid grid-cols-4 items-center text-sm",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full mr-3 ".concat(r?"bg-green-400":"bg-red-400")}),(0,i.jsx)("span",{className:"capitalize font-medium text-gray-900",children:t.type})]}),(0,i.jsxs)("span",{className:"font-medium ".concat(r?"text-green-600":"text-red-600"),children:[r?"+":"-",t.amount," USDC"]}),(0,i.jsx)("span",{className:"text-gray-600",children:new Date(t.timestamp).toLocaleDateString()}),(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Completed"})})]})})}},82757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return s},formatWithValidation:function(){return a},urlObjectKeys:function(){return o}});let i=r(6966)._(r(78859)),n=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,s=e.protocol||"",o=e.pathname||"",a=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(i.urlQueryToSearchParams(l)));let u=e.search||l&&"?"+l||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),""+s+c+(o=o.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+a}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(e){return s(e)}},82771:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(12115);let n=i.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},84701:(e,t,r)=>{"use strict";r.d(t,{UG:()=>o,xo:()=>n,zz:()=>s});var i=r(68321);class n extends i.C{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class s extends i.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class o extends i.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},84945:(e,t,r)=>{"use strict";r.d(t,{BN:()=>f,ER:()=>p,Ej:()=>y,UE:()=>b,UU:()=>g,cY:()=>h,jD:()=>m,we:()=>d});var i=r(22475),n=r(12115),s=r(47650),o="undefined"!=typeof document?n.useLayoutEffect:function(){};function a(e,t){let r,i,n;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(i=r;0!=i--;)if(!a(e[i],t[i]))return!1;return!0}if((r=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!({}).hasOwnProperty.call(t,n[i]))return!1;for(i=r;0!=i--;){let r=n[i];if(("_owner"!==r||!e.$$typeof)&&!a(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function l(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c(e,t){let r=l(e);return Math.round(t*r)/r}function u(e){let t=n.useRef(e);return o(()=>{t.current=e}),t}function d(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:d=[],platform:h,elements:{reference:f,floating:p}={},transform:g=!0,whileElementsMounted:y,open:m}=e,[b,v]=n.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,x]=n.useState(d);a(w,d)||x(d);let[E,S]=n.useState(null),[I,C]=n.useState(null),A=n.useCallback(e=>{e!==R.current&&(R.current=e,S(e))},[]),D=n.useCallback(e=>{e!==N.current&&(N.current=e,C(e))},[]),O=f||E,_=p||I,R=n.useRef(null),N=n.useRef(null),P=n.useRef(b),j=null!=y,k=u(y),L=u(h),B=u(m),M=n.useCallback(()=>{if(!R.current||!N.current)return;let e={placement:t,strategy:r,middleware:w};L.current&&(e.platform=L.current),(0,i.rD)(R.current,N.current,e).then(e=>{let t={...e,isPositioned:!1!==B.current};U.current&&!a(P.current,t)&&(P.current=t,s.flushSync(()=>{v(t)}))})},[w,t,r,L,B]);o(()=>{!1===m&&P.current.isPositioned&&(P.current.isPositioned=!1,v(e=>({...e,isPositioned:!1})))},[m]);let U=n.useRef(!1);o(()=>(U.current=!0,()=>{U.current=!1}),[]),o(()=>{if(O&&(R.current=O),_&&(N.current=_),O&&_){if(k.current)return k.current(O,_,M);M()}},[O,_,M,k,j]);let F=n.useMemo(()=>({reference:R,floating:N,setReference:A,setFloating:D}),[A,D]),q=n.useMemo(()=>({reference:O,floating:_}),[O,_]),$=n.useMemo(()=>{let e={position:r,left:0,top:0};if(!q.floating)return e;let t=c(q.floating,b.x),i=c(q.floating,b.y);return g?{...e,transform:"translate("+t+"px, "+i+"px)",...l(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:i}},[r,g,q.floating,b.x,b.y]);return n.useMemo(()=>({...b,update:M,refs:F,elements:q,floatingStyles:$}),[b,M,F,q,$])}let h=(e,t)=>({...(0,i.cY)(e),options:[e,t]}),f=(e,t)=>({...(0,i.BN)(e),options:[e,t]}),p=(e,t)=>({...(0,i.ER)(e),options:[e,t]}),g=(e,t)=>({...(0,i.UU)(e),options:[e,t]}),y=(e,t)=>({...(0,i.Ej)(e),options:[e,t]}),m=(e,t)=>({...(0,i.jD)(e),options:[e,t]}),b=(e,t)=>({...(e=>({name:"arrow",options:e,fn(t){let{element:r,padding:n}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?(0,i.UE)({element:r.current,padding:n}).fn(t):{}:r?(0,i.UE)({element:r,padding:n}).fn(t):{}}}))(e),options:[e,t]})},85006:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>x,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>A,__createBinding:()=>h,__decorate:()=>a,__exportStar:()=>f,__extends:()=>n,__generator:()=>d,__importDefault:()=>I,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>l,__read:()=>g,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function a(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function l(e,t){return function(r,i){t(r,i,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})}function d(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){var l=[s,a];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&l[0]?i.return:l[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,l[1])).done)return n;switch(i=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],i=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function h(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){n[e]&&(i[e]=function(t){return new Promise(function(r,i){s.push([e,t,r,i])>1||a(e,t)})})}function a(e,t){try{var r;(r=n[e](t)).value instanceof b?Promise.resolve(r.value.v).then(l,c):u(s[0][2],r)}catch(e){u(s[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:"return"===i}:n?n(t):t}:n}}function x(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){var s,o,a;s=i,o=n,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:a})},o)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function A(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},85185:(e,t,r)=>{"use strict";function i(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),!1===r||!i.defaultPrevented)return t?.(i)}}r.d(t,{m:()=>i})},85744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return i.workAsyncStorageInstance}});let i=r(17828)},86156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},89101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(85006);i.__exportStar(r(10351),t),i.__exportStar(r(31498),t),i.__exportStar(r(40347),t),i.__exportStar(r(64587),t)},89629:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c});var i=r(95155),n=r(36228),s=r(21273),o=r(49112),a=r(49509);let l=[(0,s.i)("io.metamask"),(0,s.i)("com.coinbase.wallet"),(0,s.i)("me.rainbow"),(0,s.i)("io.rabby")];function c(e){let{className:t="",variant:r="default",theme:s="light"}=e,c="true"===a.env.NEXT_PUBLIC_USE_MAINNET?o.qi:o.zw;return"compact"===r?(0,i.jsx)("div",{className:t,children:(0,i.jsx)(n.p,{client:o.Sn,wallets:l,chain:c,connectButton:{label:"Connect",style:{fontSize:"14px",padding:"8px 16px",borderRadius:"8px"}},connectModal:{title:"Connect to Quest DApp",titleIcon:"/images/logo.png",showThirdwebBranding:!1}})}):"icon-only"===r?(0,i.jsx)("div",{className:t,children:(0,i.jsx)(n.p,{client:o.Sn,wallets:l,chain:c,connectButton:{label:"",style:{padding:"8px",borderRadius:"8px",minWidth:"auto",width:"40px",height:"40px"}},connectModal:{title:"Connect Wallet",showThirdwebBranding:!1}})}):(0,i.jsx)("div",{className:t,children:(0,i.jsx)(n.p,{client:o.Sn,wallets:l,chain:c,connectButton:{label:"Connect Wallet",style:{backgroundColor:"dark"===s?"#1f2937":"#2563eb",color:"white",border:"none",borderRadius:"12px",padding:"12px 24px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"}},connectModal:{title:"Welcome to Quest DApp",titleIcon:"/images/quest-logo.png",showThirdwebBranding:!1,welcomeScreen:{title:"Quest DApp",subtitle:"Connect your wallet to start earning rewards and completing quests on Etherlink",img:{src:"/images/wallet-connect.png",width:300,height:200}},termsOfServiceUrl:"/terms",privacyPolicyUrl:"/privacy"},detailsButton:{style:{backgroundColor:"dark"===s?"#374151":"#f3f4f6",color:"dark"===s?"white":"#1f2937",border:"1px solid #d1d5db",borderRadius:"12px",padding:"8px 16px"}},switchButton:{style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"6px 12px",fontSize:"14px"}}})})}},90628:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var i=r(40662),n=r(71075),s=r(75086);let o=e=>e.split("?")[0],a="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(52205);class l{constructor(e){if(this.url=e,this.events=new i.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u")return void t(Error("Connection already closed"));this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,n.h)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,s.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{let n=(0,s.isReactNative)()?void 0:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},o=new a(e,[],n);"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket?o.onerror=e=>{i(this.emitError(e.error))}:o.on("error",e=>{i(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,n.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),i=r.message||r.toString(),n=(0,s.formatJsonRpcError)(e,i);this.events.emit("payload",n)}parseError(e,t=this.url){return(0,s.parseConnectionError)(e,o(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${o(this.url)}`));return this.events.emit("register_error",t),t}}},91203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(85006);i.__exportStar(r(55252),t),i.__exportStar(r(7488),t)},91302:(e,t,r)=>{"use strict";r.d(t,{II:()=>d,v_:()=>l,wm:()=>u});var i=r(21858),n=r(79777),s=r(44414),o=r(13330);function a(e){return Math.min(1e3*2**e,3e4)}function l(e){return(e??"online")!=="online"||n.t.isOnline()}var c=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function u(e){return e instanceof c}function d(e){let t,r=!1,u=0,d=!1,h=(0,s.T)(),f=()=>i.m.isFocused()&&("always"===e.networkMode||n.t.isOnline())&&e.canRun(),p=()=>l(e.networkMode)&&e.canRun(),g=r=>{d||(d=!0,e.onSuccess?.(r),t?.(),h.resolve(r))},y=r=>{d||(d=!0,e.onError?.(r),t?.(),h.reject(r))},m=()=>new Promise(r=>{t=e=>{(d||f())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,d||e.onContinue?.()}),b=()=>{let t;if(d)return;let i=0===u?e.initialPromise:void 0;try{t=i??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(g).catch(t=>{if(d)return;let i=e.retry??3*!o.S$,n=e.retryDelay??a,s="function"==typeof n?n(u,t):n,l=!0===i||"number"==typeof i&&u<i||"function"==typeof i&&i(u,t);if(r||!l)return void y(t);u++,e.onFail?.(u,t),(0,o.yy)(s).then(()=>f()?void 0:m()).then(()=>{r?y(t):b()})})};return{promise:h,cancel:t=>{d||(y(new c(t)),e.abort?.())},continue:()=>(t?.(),h),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:p,start:()=>(p()?b():m().then(b),h)}}},92293:(e,t,r)=>{"use strict";r.d(t,{Oh:()=>s});var i=r(12115),n=0;function s(){i.useEffect(()=>{var e,t;let r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=r[0])?e:o()),document.body.insertAdjacentElement("beforeend",null!=(t=r[1])?t:o()),n++,()=>{1===n&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),n--}},[])}function o(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}},92664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return s}});let i=r(69991),n=r(87102);function s(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},93662:(e,t,r)=>{"use strict";r.d(t,{O2:()=>s,Ss:()=>l,VI:()=>a,jt:()=>n,JS:()=>o});var i=r(95155);function n(e){let{className:t,variant:r="default",count:n=1,height:s,width:o}=e,a=function e(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];let n=[];for(let t of r)if(t){if("string"==typeof t)n.push(t);else if("number"==typeof t)n.push(t.toString());else if(Array.isArray(t)){let r=e(...t);r&&n.push(r)}else if("object"==typeof t)for(let[e,r]of Object.entries(t))r&&n.push(e)}return n.join(" ").trim()}("animate-pulse bg-gray-200 rounded",{default:"h-4 w-full",card:"h-32 w-full",text:"h-4 w-3/4",button:"h-10 w-24",avatar:"h-10 w-10 rounded-full",table:"h-8 w-full"}[r],t),l={...s&&{height:s},...o&&{width:o}};return 1===n?(0,i.jsx)("div",{className:a,style:l}):(0,i.jsx)("div",{className:"space-y-2",children:Array.from({length:n}).map((e,t)=>(0,i.jsx)("div",{className:a,style:l},t))})}function s(){return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array.from({length:3}).map((e,t)=>(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,i.jsx)(n,{variant:"text",className:"mb-2"}),(0,i.jsx)(n,{height:"2rem",className:"mb-1"}),(0,i.jsx)(n,{variant:"text",width:"60%"})]},t))}),(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,i.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,i.jsx)(n,{height:"1.5rem",width:"40%"})}),(0,i.jsx)("div",{className:"p-6 space-y-4",children:Array.from({length:5}).map((e,t)=>(0,i.jsx)(n,{variant:"table"},t))})]})]})}function o(){return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,i.jsx)(n,{height:"1.5rem",width:"30%",className:"mb-4"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(n,{variant:"text",width:"20%",className:"mb-2"}),(0,i.jsx)(n,{height:"3rem"})]}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)(n,{variant:"button",className:"flex-1"}),(0,i.jsx)(n,{variant:"button",className:"flex-1"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,i.jsx)(n,{height:"1.5rem",width:"40%",className:"mb-4"}),(0,i.jsx)("div",{className:"space-y-3",children:Array.from({length:4}).map((e,t)=>(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(n,{variant:"text",width:"30%"}),(0,i.jsx)(n,{variant:"text",width:"20%"})]},t))})]})]})}function a(){return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,i.jsx)(n,{height:"1.5rem",width:"40%",className:"mb-4"}),(0,i.jsx)(n,{count:3,className:"mb-4"}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(n,{variant:"text",width:"25%"}),(0,i.jsx)(n,{variant:"button"})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,i.jsx)(n,{height:"1.5rem",width:"30%",className:"mb-4"}),(0,i.jsx)("div",{className:"space-y-3",children:Array.from({length:4}).map((e,t)=>(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)(n,{variant:"avatar",className:"w-6 h-6 rounded-full"}),(0,i.jsx)(n,{variant:"text",className:"flex-1"})]},t))})]})]})}function l(){return(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,i.jsx)(n,{variant:"card",className:"mb-4"}),(0,i.jsx)(n,{variant:"text",className:"mb-2"}),(0,i.jsx)(n,{variant:"text",width:"60%"})]},t))})}},93909:(e,t,r)=>{"use strict";r.d(t,{ER:()=>s,Im:()=>l,dZ:()=>c,eX:()=>o,e_:()=>a});var i=r(53428),n=r(18067);function s(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function o(e=6){return BigInt(s(e))}function a(e,t,r){return{id:r||s(),jsonrpc:"2.0",method:e,params:t}}function l(e,t){return{id:e,jsonrpc:"2.0",result:t}}function c(e,t,r){var s,o;return{id:e,jsonrpc:"2.0",error:(s=t,o=r,void 0===s?(0,i.vG)(n.zR):("string"==typeof s&&(s=Object.assign(Object.assign({},(0,i.vG)(n.fO)),{message:s})),void 0!==o&&(s.data=o),(0,i.mE)(s.code)&&(s=(0,i.rI)(s.code)),s))}}},95999:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var i=r(95155),n=r(12115),s=r(49112),o=r(82771),a=r(6865);let l=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var c=r(29675),u=r(27305),d=r(78046),h=r(55233),f=r(26884),p=r(10184),g=r(29509),y=r(98359),m=r(45125);function b(){let e=(0,s.UD)(),{getPlayerSubmissions:t,getSubmission:r,getQuest:f}=(0,y.rn)(),[p,g]=(0,n.useState)([]),[b,S]=(0,n.useState)(!0),[I,C]=(0,n.useState)(null),[A,D]=(0,n.useState)(!1),[O,_]=(0,n.useState)({status:"all",search:"",sort:"newest"});(0,n.useEffect)(()=>{(async()=>{if(!e){g([]),S(!1);return}S(!0);try{console.log("\uD83D\uDCCA SubmissionHistory: Starting data fetch for address:",e);let i=[];try{i=await t(e)||[],console.log("\uD83D\uDCCA SubmissionHistory: Found submission IDs:",i.length,i)}catch(e){console.warn("Failed to fetch player submissions:",e)}if(0===i.length){g([]),S(!1);return}let n=i.map(async e=>{try{let t=await r(Number(e));if(!t)return null;let i=null;try{i=await f(Number(t.questId))}catch(e){console.warn("Failed to fetch quest details for quest ".concat(t.questId,":"),e)}return{...t,questDetails:i}}catch(t){return console.warn("Failed to fetch submission ".concat(e,":"),t),null}}),s=(await Promise.all(n)).filter(e=>null!==e);console.log("\uD83D\uDCCA SubmissionHistory: Processed submissions:",s.length),g(s)}catch(e){console.error("Error fetching submission history:",e),g([])}finally{S(!1)}})()},[e]);let R=(0,n.useMemo)(()=>{let e=[...p];if("all"!==O.status){let t={pending:0,completed:1,rejected:2};e=e.filter(e=>e.status===t[O.status])}if(O.search){let t=O.search.toLowerCase();e=e.filter(e=>{var r,i;return(null==(r=e.questDetails)?void 0:r.title.toLowerCase().includes(t))||(null==(i=e.questDetails)?void 0:i.description.toLowerCase().includes(t))||e.tweetUrl.toLowerCase().includes(t)})}return e.sort((e,t)=>{switch(O.sort){case"newest":return Number(t.submitTime)-Number(e.submitTime);case"oldest":return Number(e.submitTime)-Number(t.submitTime);case"quest":var r,i;return((null==(r=e.questDetails)?void 0:r.title)||"").localeCompare((null==(i=t.questDetails)?void 0:i.title)||"");case"status":return e.status-t.status;default:return 0}}),e},[p,O]),N=(0,n.useMemo)(()=>{let e=p.length,t=p.filter(e=>1===e.status).length,r=p.filter(e=>0===e.status).length,i=p.filter(e=>2===e.status).length,n=+t;return console.log("\uD83D\uDCCA SubmissionHistory: Calculated stats",{total:e,completed:t,pending:r,rejected:i,totalEarned:n,submissions:p.map(e=>{var t,r;return{questId:null==(t=e.questId)?void 0:t.toString(),status:e.status,submitTime:null==(r=e.submitTime)?void 0:r.toString()}})}),{total:e,completed:t,pending:r,rejected:i,totalEarned:n}},[p]),P=(e,t)=>{_(r=>({...r,[e]:t}))},j=e=>{switch(e){case 0:return"text-yellow-700 bg-yellow-100 border-yellow-200";case 1:return"text-green-700 bg-green-100 border-green-200";case 2:return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},k=e=>{switch(e){case 0:return"Pending";case 1:return"Completed";case 2:return"Rejected";default:return"Unknown"}},L=e=>{switch(e){case 0:default:return(0,i.jsx)(o.A,{className:"h-4 w-4"});case 1:return(0,i.jsx)(a.A,{className:"h-4 w-4"});case 2:return(0,i.jsx)(l,{className:"h-4 w-4"})}};return b?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,i.jsx)("div",{className:"h-20 bg-gray-200 rounded-lg animate-pulse"},t))}),(0,i.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,i.jsx)("div",{className:"p-4",children:(0,i.jsx)("table",{className:"w-full",children:(0,i.jsx)("tbody",{children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,i.jsx)(m.mj,{columns:5},t))})})})})]}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,i.jsx)(v,{title:"Total Submissions",value:N.total,icon:(0,i.jsx)(c.A,{className:"h-5 w-5 text-blue-600"}),color:"blue"}),(0,i.jsx)(v,{title:"Completed",value:N.completed,icon:(0,i.jsx)(a.A,{className:"h-5 w-5 text-green-600"}),color:"green"}),(0,i.jsx)(v,{title:"Pending",value:N.pending,icon:(0,i.jsx)(o.A,{className:"h-5 w-5 text-yellow-600"}),color:"yellow"}),(0,i.jsx)(v,{title:"Total Earned",value:"".concat(N.totalEarned," USDC"),icon:(0,i.jsx)(u.A,{className:"h-5 w-5 text-purple-600"}),color:"purple"})]}),(0,i.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,i.jsx)("div",{className:"flex-1 max-w-md",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,i.jsx)(d.A,{className:"h-4 w-4 text-gray-400"})}),(0,i.jsx)("input",{type:"text",value:O.search,onChange:e=>P("search",e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Search submissions..."})]})}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(h.A,{className:"h-4 w-4 text-gray-400"}),(0,i.jsxs)("select",{value:O.status,onChange:e=>P("status",e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,i.jsx)("option",{value:"all",children:"All Status"}),(0,i.jsx)("option",{value:"pending",children:"Pending"}),(0,i.jsx)("option",{value:"completed",children:"Completed"}),(0,i.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,i.jsxs)("select",{value:O.sort,onChange:e=>P("sort",e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,i.jsx)("option",{value:"newest",children:"Newest First"}),(0,i.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,i.jsx)("option",{value:"quest",children:"By Quest"}),(0,i.jsx)("option",{value:"status",children:"By Status"})]})]})]})}),0===R.length?(0,i.jsx)(x,{filters:O}):(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,i.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,i.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Quest Submissions (",R.length,")"]})}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quest"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reward"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map((e,t)=>(0,i.jsx)(w,{submission:e,onViewDetails:()=>{C(e),D(!0)},getStatusColor:j,getStatusText:k,getStatusIcon:L},t))})]})})]}),A&&I&&(0,i.jsx)(E,{submission:I,onClose:()=>D(!1),getStatusColor:j,getStatusText:k,getStatusIcon:L})]})}function v(e){let{title:t,value:r,icon:n,color:s}=e;return(0,i.jsx)("div",{className:"rounded-lg border p-4 ".concat({blue:"bg-blue-50 border-blue-200",green:"bg-green-50 border-green-200",yellow:"bg-yellow-50 border-yellow-200",purple:"bg-purple-50 border-purple-200"}[s]),children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:n}),(0,i.jsxs)("div",{className:"ml-3",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,i.jsx)("p",{className:"text-xl font-bold text-gray-900",children:r})]})]})})}function w(e){var t,r;let{submission:n,onViewDetails:s,getStatusColor:o,getStatusText:a,getStatusIcon:l}=e;return(0,i.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c.A,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null==(t=n.questDetails)?void 0:t.title)||"Quest #".concat(n.questId.toString())}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",n.questId.toString()]})]})]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("span",{className:"\n          inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border\n          ".concat(o(n.status),"\n        "),children:[l(n.status),(0,i.jsx)("span",{className:"ml-1",children:a(n.status)})]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(f.A,{className:"h-4 w-4 mr-2"}),new Date(1e3*Number(n.submitTime)).toLocaleDateString()]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:1===n.status?(0,i.jsxs)("span",{className:"font-medium text-green-600",children:[(0,y.NJ)(null==(r=n.questDetails)?void 0:r.rewardAmount,6)," USDC"]}):(0,i.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)("button",{onClick:s,className:"text-blue-600 hover:text-blue-900 flex items-center",children:[(0,i.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"View"]}),(0,i.jsx)("a",{href:n.tweetUrl,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900 flex items-center",children:(0,i.jsx)(g.A,{className:"h-4 w-4"})})]})})]})}function x(e){let{filters:t}=e,r="all"!==t.status||""!==t.search;return(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[(0,i.jsx)(c.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r?"No submissions found":"No quest submissions yet"}),(0,i.jsx)("p",{className:"text-gray-600 mb-6",children:r?"Try adjusting your filters to see more results.":"Complete your first quest to start earning rewards and NFT badges!"}),!r&&(0,i.jsxs)("a",{href:"/quests",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,i.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Browse Available Quests"]})]})}function E(e){var t,r,n,s;let{submission:c,onClose:d,getStatusColor:h,getStatusText:f,getStatusIcon:p}=e;return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Submission Details"}),(0,i.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Quest #",c.questId.toString()]})]}),(0,i.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,i.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,i.jsxs)("div",{className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Quest Information"}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Title:"}),(0,i.jsx)("p",{className:"text-gray-900",children:(null==(t=c.questDetails)?void 0:t.title)||"Quest #".concat(c.questId.toString())})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Description:"}),(0,i.jsx)("p",{className:"text-gray-900",children:(null==(r=c.questDetails)?void 0:r.description)||"No description available"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Requirements:"}),(0,i.jsx)("p",{className:"text-gray-900 font-mono text-sm bg-white rounded p-2 border",children:(null==(n=c.questDetails)?void 0:n.requirements)||"No requirements available"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Reward:"}),(0,i.jsxs)("p",{className:"text-green-600 font-semibold",children:[(0,y.NJ)(null==(s=c.questDetails)?void 0:s.rewardAmount,6)," USDC + NFT Badge"]})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Submission Details"}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Status:"}),(0,i.jsx)("div",{className:"mt-1",children:(0,i.jsxs)("span",{className:"\n                    inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border\n                    ".concat(h(c.status),"\n                  "),children:[p(c.status),(0,i.jsx)("span",{className:"ml-2",children:f(c.status)})]})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Proof URL:"}),(0,i.jsxs)("div",{className:"mt-1 flex items-center space-x-2",children:[(0,i.jsx)("p",{className:"text-gray-900 font-mono text-sm bg-white rounded p-2 border flex-1",children:c.tweetUrl}),(0,i.jsx)("a",{href:c.tweetUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-2 text-blue-600 hover:text-blue-800 border border-blue-200 rounded hover:bg-blue-50 transition-colors",title:"Open link",children:(0,i.jsx)(g.A,{className:"h-4 w-4"})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Submitted:"}),(0,i.jsx)("p",{className:"text-gray-900",children:new Date(1e3*Number(c.submitTime)).toLocaleString()})]}),0!==c.status&&c.verifyTime>BigInt(0)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:1===c.status?"Approved:":"Rejected:"}),(0,i.jsx)("p",{className:"text-gray-900",children:new Date(1e3*Number(c.verifyTime)).toLocaleString()})]})]}),c.verifiedBy&&"0x0000000000000000000000000000000000000000"!==c.verifiedBy&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Verified by:"}),(0,i.jsxs)("p",{className:"text-gray-900 font-mono text-sm",children:[c.verifiedBy.slice(0,10),"...",c.verifiedBy.slice(-8)]})]}),2===c.status&&c.rejectionReason&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Rejection Reason:"}),(0,i.jsx)("p",{className:"text-red-700 bg-red-50 rounded p-2 border border-red-200",children:c.rejectionReason})]})]})]}),1===c.status&&c.nftTokenId>BigInt(0)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"NFT Badge"}),(0,i.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(u.A,{className:"h-8 w-8 text-purple-600 mr-3"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-semibold text-purple-900",children:"NFT Badge Minted!"}),(0,i.jsxs)("p",{className:"text-sm text-purple-700",children:["Token ID: #",c.nftTokenId.toString()]})]})]})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Timeline"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(S,{icon:(0,i.jsx)(g.A,{className:"h-4 w-4"}),title:"Quest Submitted",time:new Date(1e3*Number(c.submitTime)),description:"Submission received and awaiting review",completed:!0}),0!==c.status&&(0,i.jsx)(S,{icon:1===c.status?(0,i.jsx)(a.A,{className:"h-4 w-4"}):(0,i.jsx)(l,{className:"h-4 w-4"}),title:1===c.status?"Quest Approved":"Quest Rejected",time:new Date(1e3*Number(c.verifyTime)),description:1===c.status?"Reward distributed and NFT badge minted":"Rejected: ".concat(c.rejectionReason||"See rejection reason above"),completed:!0,isSuccess:1===c.status,isError:2===c.status}),0===c.status&&(0,i.jsx)(S,{icon:(0,i.jsx)(o.A,{className:"h-4 w-4"}),title:"Under Review",description:"Your submission is being reviewed by our team",completed:!1,isPending:!0})]})]})]}),(0,i.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:(0,i.jsx)("button",{onClick:d,className:"px-4 py-2 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})}function S(e){let{icon:t,title:r,time:n,description:s,completed:o,isSuccess:a,isError:l,isPending:c}=e;return(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center ".concat(a?"bg-green-100 text-green-600 border-green-200":l?"bg-red-100 text-red-600 border-red-200":c?"bg-yellow-100 text-yellow-600 border-yellow-200":o?"bg-blue-100 text-blue-600 border-blue-200":"bg-gray-100 text-gray-400 border-gray-200"),children:t}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-900",children:r}),n&&(0,i.jsx)("p",{className:"text-xs text-gray-500",children:n.toLocaleString()})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s})]})]})}},96427:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var i=r(16652);function n(e){let t=[],r=e.length;for(let n=0;n<r;n++){let r=e[n],s=(0,i.B)(r);t.push(s)}return t}},96553:(e,t,r)=>{"use strict";function i(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function n(e){return i(e)&&"method"in e}function s(e){return i(e)&&(o(e)||a(e))}function o(e){return"result"in e}function a(e){return"error"in e}r.d(t,{U$:()=>a,p3:()=>n,tq:()=>s,xT:()=>o})},97061:(e,t,r)=>{"use strict";r.d(t,{VH:()=>c,li:()=>l});var i=r(40662),n=r(89101),s=r(76589);class o extends s.H{constructor(e){super()}}let a=n.FIVE_SECONDS,l={pulse:"heartbeat_pulse"};class c extends o{constructor(e){super(e),this.events=new i.EventEmitter,this.interval=a,this.interval=e?.interval||a}static async init(e){let t=new c(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,n.toMiliseconds)(this.interval))}pulse(){this.events.emit(l.pulse)}}},98359:(e,t,r)=>{"use strict";r.d(t,{Kp:()=>p,NJ:()=>y,hL:()=>d,jO:()=>f,n:()=>g,rn:()=>h,t6:()=>m});var i=r(49112),n=r(12115),s=r(31530);let o=[{type:"function",name:"stake",inputs:[{name:"amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unstake",inputs:[{name:"amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getPoolBalance",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getStakerInfo",inputs:[{name:"staker",type:"address"}],outputs:[{name:"stakedAmount",type:"uint256"},{name:"stakeTimestamp",type:"uint256"},{name:"lastUpdateTime",type:"uint256"},{name:"isActive",type:"bool"}],stateMutability:"view"},{type:"function",name:"getPoolStats",inputs:[],outputs:[{name:"totalPoolBalance",type:"uint256"},{name:"totalStakers",type:"uint256"},{name:"totalRewardsDistributed",type:"uint256"},{name:"minimumStakeAmount",type:"uint256"}],stateMutability:"view"},{type:"function",name:"getStakingToken",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"distributeReward",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"replenishPool",inputs:[{name:"amount",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getQuestManager",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"function",name:"getConfig",inputs:[],outputs:[{name:"stakingToken",type:"address"},{name:"questManager",type:"address"},{name:"minimumStakeAmount",type:"uint256"},{name:"emergencyWithdrawDelay",type:"uint256"},{name:"isPaused",type:"bool"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address"}],stateMutability:"view"},{type:"error",name:"StakingPool__InvalidAddress",inputs:[]},{type:"error",name:"StakingPool__InvalidAmount",inputs:[]},{type:"error",name:"StakingPool__InsufficientBalance",inputs:[{name:"available",type:"uint256"},{name:"requested",type:"uint256"}]},{type:"error",name:"StakingPool__InsufficientPoolBalance",inputs:[{name:"poolBalance",type:"uint256"},{name:"required",type:"uint256"}]},{type:"error",name:"StakingPool__TransferFailed",inputs:[]},{type:"error",name:"StakingPool__Unauthorized",inputs:[]},{type:"error",name:"StakingPool__ZeroAmount",inputs:[]}],a=[{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"tokenURI",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"getUserBadges",inputs:[{name:"user",type:"address"}],outputs:[{name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"getBadge",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"tuple",components:[{name:"questId",type:"uint256"},{name:"recipient",type:"address"},{name:"tweetUrl",type:"string"},{name:"mintTime",type:"uint256"},{name:"questReward",type:"uint256"},{name:"questTitle",type:"string"},{name:"isValid",type:"bool"}]}],stateMutability:"view"},{type:"function",name:"getUserBadgeCount",inputs:[{name:"user",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"}],l=[{type:"function",name:"approve",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"}],c=[{type:"error",name:"QuestManager__InvalidAddress",inputs:[]},{type:"error",name:"QuestManager__InvalidAmount",inputs:[]},{type:"error",name:"QuestManager__QuestNotFound",inputs:[]},{type:"error",name:"QuestManager__QuestAlreadySubmitted",inputs:[]},{type:"error",name:"QuestManager__QuestNotSubmitted",inputs:[]},{type:"error",name:"QuestManager__QuestAlreadyCompleted",inputs:[]},{type:"error",name:"QuestManager__QuestAlreadyRejected",inputs:[]},{type:"error",name:"QuestManager__Unauthorized",inputs:[]},{type:"error",name:"QuestManager__EmptyTweetUrl",inputs:[]},{type:"error",name:"QuestManager__InvalidQuestId",inputs:[]},{type:"error",name:"QuestManager__InsufficientPoolBalance",inputs:[]},{type:"error",name:"QuestManager__QuestNotActive",inputs:[]},{type:"error",name:"QuestManager__SubmissionWindowClosed",inputs:[]},{type:"error",name:"QuestManager__PlayerAlreadyCompleted",inputs:[]},{type:"function",name:"submitQuest",inputs:[{name:"questId",type:"uint256"},{name:"tweetUrl",type:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verifyQuest",inputs:[{name:"submissionId",type:"uint256"},{name:"approved",type:"bool"},{name:"rejectionReason",type:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getQuest",inputs:[{name:"questId",type:"uint256"}],outputs:[{name:"",type:"tuple",components:[{name:"questId",type:"uint256"},{name:"title",type:"string"},{name:"description",type:"string"},{name:"requirements",type:"string"},{name:"rewardAmount",type:"uint256"},{name:"isActive",type:"bool"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"maxCompletions",type:"uint256"},{name:"currentCompletions",type:"uint256"},{name:"creator",type:"address"},{name:"createTime",type:"uint256"}]}],stateMutability:"view"},{type:"function",name:"getSubmission",inputs:[{name:"submissionId",type:"uint256"}],outputs:[{name:"",type:"tuple",components:[{name:"questId",type:"uint256"},{name:"player",type:"address"},{name:"tweetUrl",type:"string"},{name:"submitTime",type:"uint256"},{name:"status",type:"uint8"},{name:"verifyTime",type:"uint256"},{name:"verifiedBy",type:"address"},{name:"nftTokenId",type:"uint256"},{name:"rejectionReason",type:"string"}]}],stateMutability:"view"},{type:"function",name:"getActiveQuests",inputs:[],outputs:[{name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"getPendingSubmissions",inputs:[],outputs:[{name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"getPlayerSubmissions",inputs:[{name:"player",type:"address"}],outputs:[{name:"",type:"uint256[]"}],stateMutability:"view"},{type:"function",name:"hasPlayerCompletedQuest",inputs:[{name:"player",type:"address"},{name:"questId",type:"uint256"}],outputs:[{name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"isAdmin",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"bool"}],stateMutability:"view"},{type:"function",name:"getDefaultQuestId",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"pure"}],u=()=>{let e={stakingPool:"0x4f910ef3996d7C4763EFA2fEf15265e8b918cD0b".trim(),questManager:"0x02fc1eCc6c04fdd2760E74F9343b69d9c3798aD0".trim(),nftMinter:"0x9d44cb1dbd766dd8c4ab8493dbf8cbfb9650f907".trim(),usdcToken:"0x4C2AA252BEe766D3399850569713b55178934849".trim()},t=Object.entries(e).filter(e=>{let[,t]=e;return!t||""===t.trim()||"undefined"===t}).map(e=>{let[t]=e;return t});return t.length>0&&console.warn("Missing contract addresses: ".concat(t.join(", "))),e};function d(){let{stakingPool:e}=u(),{contract:t}=(0,i.ku)(e||"",o),{data:a,refetch:l}=(0,i.qx)(t,"getPoolBalance"),{data:c,refetch:d}=(0,i.qx)(t,"getPoolStats"),{mutateAsync:h,isPending:f}=(0,i.t4)(t,"stake"),{mutateAsync:p,isPending:g}=(0,i.t4)(t,"unstake"),{mutateAsync:y,isPending:m}=(0,i.t4)(t,"pause"),{mutateAsync:b,isPending:v}=(0,i.t4)(t,"unpause"),{data:w,refetch:x}=(0,i.qx)(t,"paused"),{data:E}=(0,i.qx)(t,"owner"),S=(0,n.useCallback)(async function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!t||!i||!e)return null;for(let e=1;e<=n;e++)try{let{readContract:e}=await r.e(754).then(r.bind(r,47415)),n=await e({contract:t,method:"getStakerInfo",params:[i]}),s=n&&"object"==typeof n&&"result"in n?n.result:n;if(s&&Array.isArray(s)&&s.length>=4)return{stakedAmount:s[0],stakeTimestamp:s[1],lastUpdateTime:s[2],isActive:s[3]};return{stakedAmount:BigInt(0),stakeTimestamp:BigInt(0),lastUpdateTime:BigInt(0),isActive:!1}}catch(t){if(console.warn("StakingPool.getStakerInfo attempt ".concat(e,"/").concat(n," failed:"),t),e===n)return console.error("Final attempt failed for getStakerInfo:",t),{stakedAmount:BigInt(0),stakeTimestamp:BigInt(0),lastUpdateTime:BigInt(0),isActive:!1};await new Promise(t=>setTimeout(t,1e3*Math.pow(2,e)))}return null},[t,e]),I=(0,n.useCallback)(async r=>{if(!t||!e)throw Error("Contract not available or not configured");try{let e=await h([r]);return s.oR.success("Tokens staked successfully!"),e}catch(e){throw console.error("Staking error:",e),s.oR.error((null==e?void 0:e.message)||"Failed to stake tokens"),e}},[t,h,e]),C=(0,n.useCallback)(async r=>{if(!t||!e)throw Error("Contract not available or not configured");try{let e=await p([r]);return s.oR.success("Tokens unstaked successfully!"),await Promise.all([l(),d()]),e}catch(e){throw console.error("Unstaking error:",e),s.oR.error((null==e?void 0:e.message)||"Failed to unstake tokens"),e}},[t,p,l,d,e]),A=(0,n.useCallback)(async()=>{if(!t||!e)throw Error("Contract not available or not configured");try{let e=await y([]);return s.oR.success("StakingPool paused successfully!"),await x(),e}catch(e){throw console.error("Pause error:",e),s.oR.error((null==e?void 0:e.message)||"Failed to pause contract"),e}},[t,y,x,e]),D=(0,n.useCallback)(async()=>{if(!t||!e)throw Error("Contract not available or not configured");try{let e=await b([]);return s.oR.success("StakingPool unpaused successfully!"),await x(),e}catch(e){throw console.error("Unpause error:",e),s.oR.error((null==e?void 0:e.message)||"Failed to unpause contract"),e}},[t,b,x,e]);return{contract:t,poolBalance:a,poolStats:c,isStaking:f,isUnstaking:g,isPausing:m,isUnpausing:v,isPaused:w,contractOwner:E,getStakerInfo:S,stakeTokens:I,unstakeTokens:C,pauseStakingPool:A,unpauseStakingPool:D,refetchPoolBalance:l,refetchPoolStats:d,refetchPauseState:x}}function h(){var e;let{questManager:t}=u();console.log("\uD83D\uDD27 useQuestManager: Initializing",{questManagerAddress:t,hasAddress:!!t});let{contract:o}=(0,i.ku)(t||"",c);console.log("\uD83D\uDD27 useQuestManager: Contract instance",{contract:!!o,contractAddress:null==o?void 0:o.address,contractChain:null==o||null==(e=o.chain)?void 0:e.id});let{data:a,refetch:l}=(0,i.qx)(o,"getActiveQuests"),{data:d,refetch:h}=(0,i.qx)(o,"getPendingSubmissions"),{data:f}=(0,i.qx)(o,"getDefaultQuestId");console.log("\uD83D\uDD27 useQuestManager: Contract read results",{activeQuests:a,activeQuestsType:typeof a,activeQuestsLength:Array.isArray(a)?a.length:"not array",defaultQuestId:null==f?void 0:f.toString(),hasContract:!!o});let{mutateAsync:p,isPending:g}=(0,i.t4)(o,"submitQuest"),{mutateAsync:y,isPending:m}=(0,i.t4)(o,"verifyQuest"),{mutateAsync:b,isPending:v}=(0,i.t4)(o,"toggleQuestStatus"),w=(0,n.useCallback)(async e=>{if(!o||!t)return null;try{let{readContract:t}=await r.e(754).then(r.bind(r,47415)),i=await t({contract:o,method:"getQuest",params:[e]}),n=i&&"object"==typeof i&&"result"in i?i.result:i;if(n&&Array.isArray(n)&&n.length>=12)return{questId:n[0],title:n[1],description:n[2],requirements:n[3],rewardAmount:n[4],isActive:n[5],startTime:n[6],endTime:n[7],maxCompletions:n[8],currentCompletions:n[9],creator:n[10],createTime:n[11]};return null}catch(e){return console.error("Error fetching quest:",e),null}},[o,t]),x=(0,n.useCallback)(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!o||!t)return null;for(let t=1;t<=i;t++)try{let{readContract:t}=await r.e(754).then(r.bind(r,47415)),i=await t({contract:o,method:"getSubmission",params:[e]});console.log("\uD83D\uDCCA getSubmission(".concat(e,") raw result:"),{result:i,isArray:Array.isArray(i),length:Array.isArray(i)?i.length:"not array",type:typeof i,hasResultProperty:i&&"object"==typeof i&&"result"in i,objectKeys:i&&"object"==typeof i?Object.keys(i):"not object",directAccess:null==i?void 0:i.result,actualData:i&&"object"==typeof i&&"result"in i?i.result:i});let n=i;if(i&&"object"==typeof i&&!Array.isArray(i)){if(void 0!==i.result)n=i.result,console.log("\uD83D\uDCCA getSubmission(".concat(e,") using wrapped result:"),typeof n);else if(Object.keys(i).length>=9&&void 0!==i[0])n=Object.values(i),console.log("\uD83D\uDCCA getSubmission(".concat(e,") converted object to array:"),n.length);else if(Object.keys(i).length>=9){let t=Object.values(i);t.length>=9&&(n=t,console.log("\uD83D\uDCCA getSubmission(".concat(e,") using object values as array:"),t.length))}}if(console.log("\uD83D\uDCCA getSubmission(".concat(e,") processed result:"),{originalType:typeof i,processedType:typeof n,isProcessedArray:Array.isArray(n),processedLength:Array.isArray(n)?n.length:"not array"}),n&&Array.isArray(n)&&n.length>=9){let t={questId:n[0],player:n[1],tweetUrl:n[2],submitTime:n[3],status:n[4],verifyTime:n[5],verifiedBy:n[6],nftTokenId:n[7],rejectionReason:n[8]};return console.log("\uD83D\uDCCA getSubmission(".concat(e,") parsed:"),t),t}console.warn("\uD83D\uDCCA getSubmission(".concat(e,") invalid result structure"));break}catch(r){if(console.warn("QuestManager.getSubmission(".concat(e,") attempt ").concat(t,"/").concat(i," failed:"),r),t===i)return console.error("Final attempt failed for getSubmission(".concat(e,"):"),r),null;await new Promise(e=>setTimeout(e,1e3*Math.pow(2,t)))}return null},[o,t]),E=(0,n.useCallback)(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!o||!e||!t)return null;for(let t=1;t<=i;t++)try{let{readContract:t}=await r.e(754).then(r.bind(r,47415));return await t({contract:o,method:"getPlayerSubmissions",params:[e]})}catch(e){if(console.warn("QuestManager.getPlayerSubmissions attempt ".concat(t,"/").concat(i," failed:"),e),t===i)return console.error("Final attempt failed for getPlayerSubmissions:",e),[];await new Promise(e=>setTimeout(e,1e3*Math.pow(2,t)))}return[]},[o,t]),S=(0,n.useCallback)(async(e,i)=>{if(!o||!e||!t)return!1;try{let{readContract:t}=await r.e(754).then(r.bind(r,47415));return await t({contract:o,method:"hasPlayerCompletedQuest",params:[e,i]})}catch(e){return console.error("Error checking quest completion:",e),!1}},[o,t]),I=(0,n.useCallback)(async(e,r)=>{if(!o||!e||!t)return!1;try{let t=await E(e);if(!t||0===t.length)return!1;for(let e of t){let t=await x(Number(e));if(t&&Number(t.questId)===r)return!0}return!1}catch(e){return console.error("Error checking player submission:",e),!1}},[o,t,E,x]),C=(0,n.useCallback)(async e=>{if(!o||!e||!t)return!1;try{let{readContract:t}=await r.e(754).then(r.bind(r,47415));return await t({contract:o,method:"isAdmin",params:[e]})}catch(e){return console.error("Error checking admin status:",e),!1}},[o,t]),A=(0,n.useCallback)(async(e,r)=>{if(console.log("\uD83D\uDE80 submitQuestProof: Starting submission",{questId:e,tweetUrl:r,hasContract:!!o,questManagerAddress:t,hasSubmitQuest:!!p}),!o)throw console.error("❌ submitQuestProof: Contract not available"),Error("Contract not available or not configured");if(!t)throw console.error("❌ submitQuestProof: Quest manager address is empty"),Error("Contract not available or not configured - questManager address is empty");try{var i;console.log("\uD83D\uDD04 submitQuestProof: Calling submitQuest with params:",[e,r]);let t=await p([e,r]);return console.log("✅ submitQuestProof: Transaction successful",{transactionHash:t.transactionHash,chain:null==(i=t.chain)?void 0:i.id}),s.oR.success("Quest submitted successfully! Waiting for verification..."),console.log("\uD83D\uDD04 submitQuestProof: Refetching active quests..."),await l(),t}catch(e){throw console.error("❌ submitQuestProof: Transaction failed",{error:e,errorMessage:null==e?void 0:e.message,errorCode:null==e?void 0:e.code,errorData:null==e?void 0:e.data}),s.oR.error((null==e?void 0:e.message)||"Failed to submit quest"),e}},[o,p,l,t]),D=(0,n.useCallback)(async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!o||!t)throw Error("Contract not available or not configured");try{let t=await y([e,r,i]);return s.oR.success("Quest ".concat(r?"approved":"rejected"," successfully!")),await h(),t}catch(e){throw console.error("Verify quest error:",e),s.oR.error((null==e?void 0:e.message)||"Failed to verify quest"),e}},[o,y,h,t]),O=(0,n.useCallback)(async e=>{if(!o||!t)throw Error("Contract not available or not configured");try{let t=await b([e]);return s.oR.success("Quest status updated successfully!"),await l(),t}catch(e){throw console.error("Toggle quest status error:",e),s.oR.error((null==e?void 0:e.message)||"Failed to toggle quest status"),e}},[o,b,l,t]);return{contract:o,activeQuests:a,pendingSubmissions:d,defaultQuestId:f,isSubmitting:g,isVerifying:m,isToggling:v,getQuest:w,getSubmission:x,getPlayerSubmissions:E,hasPlayerCompleted:S,hasPlayerSubmitted:I,checkIsAdmin:C,submitQuestProof:A,verifyQuestSubmission:D,toggleQuestStatus:O,refetchActiveQuests:l,refetchPendingSubmissions:h}}function f(){let{nftMinter:e}=u(),{contract:t}=(0,i.ku)(e||"",a),{data:s}=(0,i.qx)(t,"totalSupply"),o=(0,n.useCallback)(async function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!t||!i||!e)return null;for(let e=1;e<=n;e++)try{let{readContract:e}=await r.e(754).then(r.bind(r,47415));return await e({contract:t,method:"getUserBadges",params:[i]})}catch(t){if(console.warn("NFTMinter.getUserBadges attempt ".concat(e,"/").concat(n," failed:"),t),e===n)return console.error("Final attempt failed for getUserBadges:",t),[];await new Promise(t=>setTimeout(t,1e3*Math.pow(2,e)))}return[]},[t,e]),l=(0,n.useCallback)(async i=>{if(!t||!e)return null;try{let{readContract:e}=await r.e(754).then(r.bind(r,47415)),n=await e({contract:t,method:"getBadge",params:[i]}),s=n&&"object"==typeof n&&"result"in n?n.result:n;if(s&&Array.isArray(s)&&s.length>=7)return{questId:s[0],recipient:s[1],tweetUrl:s[2],mintTime:s[3],questReward:s[4],questTitle:s[5],isValid:s[6]};return null}catch(e){return console.error("Error fetching badge:",e),null}},[t,e]),c=(0,n.useCallback)(async i=>{if(!t||!i||!e)return 0;try{let{readContract:e}=await r.e(754).then(r.bind(r,47415)),n=await e({contract:t,method:"getUserBadgeCount",params:[i]});return Number(n)||0}catch(e){return console.error("Error fetching user badge count:",e),0}},[t,e]),d=(0,n.useCallback)(async i=>{if(!t||!e)return null;try{let{readContract:e}=await r.e(754).then(r.bind(r,47415));return await e({contract:t,method:"tokenURI",params:[i]})||""}catch(e){return console.error("Error fetching token URI:",e),null}},[t,e]);return{contract:t,totalSupply:s,getUserBadges:o,getBadge:l,getUserBadgeCount:c,getTokenURI:d}}function p(){let{usdcToken:e}=u(),{contract:t}=(0,i.ku)(e||"",l),{data:o}=(0,i.qx)(t,"decimals"),{data:a}=(0,i.qx)(t,"symbol"),{mutateAsync:c,isPending:d}=(0,i.t4)(t,"approve"),h=(0,n.useCallback)(async function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!t||!i||!e)return null;for(let e=1;e<=n;e++)try{let{readContract:e}=await r.e(754).then(r.bind(r,47415));return await e({contract:t,method:"balanceOf",params:[i]})}catch(t){if(console.warn("USDC.balanceOf attempt ".concat(e,"/").concat(n," failed:"),t),e===n)return console.error("Final attempt failed for USDC balanceOf:",t),BigInt(0);await new Promise(t=>setTimeout(t,1e3*Math.pow(2,e)))}return BigInt(0)},[t,e]),f=(0,n.useCallback)(async(i,n)=>{if(!t||!i||!n||!e)return null;if(!i.startsWith("0x")||42!==i.length||!n.startsWith("0x")||42!==n.length)return console.error("Invalid address format:",{owner:i,spender:n}),BigInt(0);try{let{readContract:e}=await r.e(754).then(r.bind(r,47415));return await e({contract:t,method:"allowance",params:[i,n]})}catch(e){return console.error("Error fetching allowance:",e),BigInt(0)}},[t,e]),p=(0,n.useCallback)(async(r,i)=>{if(!t||!e)throw Error("Contract not available or not configured");try{let e=await c([r,i]);return s.oR.success("Approval successful!"),e}catch(e){throw console.error("Approve error:",e),s.oR.error((null==e?void 0:e.message)||"Failed to approve spending"),e}},[t,c,e]);return{contract:t,decimals:o,symbol:a,isApproving:d,getBalance:h,getAllowance:f,approveSpender:p}}function g(){let e=d(),t=h(),r=f(),i=p(),s=(0,n.useMemo)(()=>({staking:e.isStaking,unstaking:e.isUnstaking,submitting:t.isSubmitting,verifying:t.isVerifying,approving:i.isApproving}),[e.isStaking,e.isUnstaking,t.isSubmitting,t.isVerifying,i.isApproving]),o=(0,n.useMemo)(()=>Object.values(s).some(e=>e),[s]);return{stakingPool:e,questManager:t,nftMinter:r,usdcToken:i,isLoading:s,isAnyLoading:o}}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!e)return"0";try{let i=BigInt(10**t),n=e/i,s=e%i;if(s===BigInt(0))return n.toString();let o=s.toString().padStart(t,"0").slice(0,r).replace(/0+$/,"");return o?"".concat(n,".").concat(o):n.toString()}catch(e){return console.error("Error formatting token amount:",e),"0"}}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;try{let[r,i=""]=e.split("."),n=i.padEnd(t,"0").slice(0,t);return BigInt(r+n)}catch(e){return console.error("Error parsing token amount:",e),BigInt(0)}}},99708:(e,t,r)=>{"use strict";r.d(t,{Dc:()=>l,TL:()=>o});var i=r(12115),n=r(6101),s=r(95155);function o(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:r,...s}=e;if(i.isValidElement(r)){var o;let e,a,l=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),c=function(e,t){let r={...t};for(let i in t){let n=e[i],s=t[i];/^on[A-Z]/.test(i)?n&&s?r[i]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[i]=n):"style"===i?r[i]={...n,...s}:"className"===i&&(r[i]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==i.Fragment&&(c.ref=t?(0,n.t)(t,l):l),i.cloneElement(r,c)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=i.forwardRef((e,r)=>{let{children:n,...o}=e,a=i.Children.toArray(n),l=a.find(c);if(l){let e=l.props.children,n=a.map(t=>t!==l?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...o,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,s.jsx)(t,{...o,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var a=Symbol("radix.slottable");function l(e){let t=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=a,t}function c(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}},99901:(e,t,r)=>{"use strict";r.d(t,{A9:()=>s,Hz:()=>n,NO:()=>l,Pj:()=>c,dV:()=>o,nx:()=>u,zd:()=>a});var i=r(68321);class n extends i.C{constructor({param:e}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class s extends i.C{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class o extends i.C{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class a extends i.C{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class l extends i.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class c extends i.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class u extends i.C{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}}}]);