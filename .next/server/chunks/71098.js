"use strict";exports.id=71098,exports.ids=[59654,71098],exports.modules={59654:(a,b,c)=>{c.d(b,{readContract:()=>m});var d=c(23018),e=c(80200),f=c(43533);async function g(a,b){let{blockNumber:c,blockTag:d,...e}=b,g=(c?(0,f.cK)(c):void 0)||d||"latest";return await a({method:"eth_call",params:b.stateOverrides?[e,g,Object.fromEntries(Object.entries(b.stateOverrides).map(([a,b])=>[a,{balance:b.balance?(0,f.cK)(b.balance):void 0,code:b.code,nonce:b.nonce?(0,f.cK)(b.nonce):void 0,state:b.state,stateDiff:b.stateDiff}]))]:[e,g]})}var h=c(14442),i=c(28425),j=c(66010),k=c(77184),l=c(58884);async function m(a){let b,{contract:c,method:f,params:m}=a,n=async()=>{if(Array.isArray(f))return f;if((0,l.d)(f))return(0,j.v)(f);if("function"==typeof f)return(0,j.v)(await f(c));if("string"==typeof f&&f.startsWith("function ")){let a=(0,d.$)(f);if("function"===a.type)return(0,j.v)(a);throw Error('"method" passed is not of type "function"')}if(c.abi&&c.abi?.length>0){let a=c.abi?.find(a=>"function"===a.type&&a.name===f);if(a)return(0,j.v)(a)}throw Error(`Could not resolve method "${f}".`)},[o,p]=await Promise.all([n(),"function"==typeof m?m():m]);b=0===o[1].length?o[0]:o[0]+(0,i.hd)(o[1],p).slice(2);let q=(0,h.getRpcClient)({chain:c.chain,client:c.client}),r=await g(q,{data:b,from:a.from?(0,k.bv)(a.from):void 0,to:c.address}),s=(0,e.n)(o[2],r);return Array.isArray(s)&&1===s.length?s[0]:s}},71098:(a,b,c)=>{c.d(b,{estimateL1Fee:()=>P});var d=c(48691),e=c(13623),f=c(59654),g=c(53922),h=c(55562),i=c(21013),j=c(11486);function k(a){if(130!==a.length&&132!==a.length)throw new p({signature:a});let b=BigInt(g.di(a,0,32)),c=BigInt(g.di(a,32,64)),d=(()=>{let b=Number(`0x${a.slice(130)}`);if(!Number.isNaN(b))try{return o(b)}catch{throw new t({value:b})}})();return void 0===d?{r:b,s:c}:{r:b,s:c,yParity:d}}function l(a){if(void 0!==a.r&&void 0!==a.s){var b=a;let c=(()=>{if("string"==typeof b)return k(b);if(b instanceof Uint8Array)return k(g.uK(b));return"string"==typeof b.r?function(a){let b=(()=>{let b=a.v?Number(a.v):void 0,c=a.yParity?Number(a.yParity):void 0;if("number"==typeof b&&"number"!=typeof c&&(c=o(b)),"number"!=typeof c)throw new t({value:a.yParity});return c})();return{r:BigInt(a.r),s:BigInt(a.s),yParity:b}}(b):b.v?m(b):{r:b.r,s:b.s,...void 0!==b.yParity?{yParity:b.yParity}:{}}})();return!function(a,b={}){let{recovered:c}=b;if(void 0===a.r||void 0===a.s||c&&void 0===a.yParity)throw new q({signature:a});if(a.r<0n||a.r>j.Ao)throw new r({value:a.r});if(a.s<0n||a.s>j.Ao)throw new s({value:a.s});if("number"==typeof a.yParity&&0!==a.yParity&&1!==a.yParity)throw new t({value:a.yParity})}(c),c}}function m(a){return{r:a.r,s:a.s,yParity:o(a.v)}}function n(a){let{r:b,s:c,yParity:d}=a;return[d?"0x01":"0x",0n===b?"0x":g.Mr(g.oB(b)),0n===c?"0x":g.Mr(g.oB(c))]}function o(a){if(0===a||27===a)return 0;if(1===a||28===a)return 1;if(a>=35)return+(a%2==0);throw new u({value:a})}class p extends h.C{constructor({signature:a}){super(`Value \`${a}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${g.Ej(g.HT(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class q extends h.C{constructor({signature:a}){super(`Signature \`${i.A(a)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class r extends h.C{constructor({value:a}){super(`Value \`${a}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class s extends h.C{constructor({value:a}){super(`Value \`${a}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class t extends h.C{constructor({value:a}){super(`Value \`${a}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class u extends h.C{constructor({value:a}){super(`Value \`${a}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var v=c(95693);function w(a){if(!a||0===a.length)return[];let b=[];for(let{address:c,storageKeys:d}of a){for(let a=0;a<d.length;a++)if(32!==g.Ej(d[a]))throw new x({storageKey:d[a]});c&&v.vA(c,{strict:!1}),b.push([c,d])}return b}class x extends h.C{constructor({storageKey:a}){super(`Size for storage key "${a}" is invalid. Expected 32 bytes. Got ${g.Ej(a)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccessList.InvalidStorageKeySizeError"})}}var y=c(99608);let z={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new C({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(a){if(a<0||a>this.bytes.length-1)throw new B({length:this.bytes.length,position:a})},decrementPosition(a){if(a<0)throw new A({offset:a});let b=this.position-a;this.assertPosition(b),this.position=b},getReadCount(a){return this.positionReadCount.get(a||this.position)||0},incrementPosition(a){if(a<0)throw new A({offset:a});let b=this.position+a;this.assertPosition(b),this.position=b},inspectByte(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectBytes(a,b){let c=b??this.position;return this.assertPosition(c+a-1),this.bytes.subarray(c,c+a)},inspectUint8(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectUint16(a){let b=a??this.position;return this.assertPosition(b+1),this.dataView.getUint16(b)},inspectUint24(a){let b=a??this.position;return this.assertPosition(b+2),(this.dataView.getUint16(b)<<8)+this.dataView.getUint8(b+2)},inspectUint32(a){let b=a??this.position;return this.assertPosition(b+3),this.dataView.getUint32(b)},pushByte(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushBytes(a){this.assertPosition(this.position+a.length-1),this.bytes.set(a,this.position),this.position+=a.length},pushUint8(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushUint16(a){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,a),this.position+=2},pushUint24(a){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,a>>8),this.dataView.setUint8(this.position+2,255&a),this.position+=3},pushUint32(a){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,a),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let a=this.inspectByte();return this.position++,a},readBytes(a,b){this.assertReadLimit(),this._touch();let c=this.inspectBytes(a);return this.position+=b??a,c},readUint8(){this.assertReadLimit(),this._touch();let a=this.inspectUint8();return this.position+=1,a},readUint16(){this.assertReadLimit(),this._touch();let a=this.inspectUint16();return this.position+=2,a},readUint24(){this.assertReadLimit(),this._touch();let a=this.inspectUint24();return this.position+=3,a},readUint32(){this.assertReadLimit(),this._touch();let a=this.inspectUint32();return this.position+=4,a},get remaining(){return this.bytes.length-this.position},setPosition(a){let b=this.position;return this.assertPosition(a),this.position=a,()=>this.position=b},_touch(){if(this.recursiveReadLimit===1/0)return;let a=this.getReadCount();this.positionReadCount.set(this.position,a+1),a>0&&this.recursiveReadCount++}};class A extends h.C{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class B extends h.C{constructor({length:a,position:b}){super(`Position \`${b}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class C extends h.C{constructor({count:a,limit:b}){super(`Recursive read limit of \`${b}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function D(a,b={}){let{as:c="Hex"}=b;return function(a,b){let{as:c}=b,d=function a(b){return Array.isArray(b)?function(a){let b=a.reduce((a,b)=>a+b.length,0),c=E(b);return{length:b<=55?1+b:1+c+b,encode(d){for(let{encode:e}of(b<=55?d.pushByte(192+b):(d.pushByte(247+c),1===c?d.pushUint8(b):2===c?d.pushUint16(b):3===c?d.pushUint24(b):d.pushUint32(b)),a))e(d)}}}(b.map(b=>a(b))):function(a){let b="string"==typeof a?y.aD(a):a,c=E(b.length);return{length:1===b.length&&b[0]<128?1:b.length<=55?1+b.length:1+c+b.length,encode(a){1===b.length&&b[0]<128||(b.length<=55?a.pushByte(128+b.length):(a.pushByte(183+c),1===c?a.pushUint8(b.length):2===c?a.pushUint16(b.length):3===c?a.pushUint24(b.length):a.pushUint32(b.length))),a.pushBytes(b)}}}(b)}(a),e=function(a,{recursiveReadLimit:b=8192}={}){let c=Object.create(z);return c.bytes=a,c.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=b,c}(new Uint8Array(d.length));return(d.encode(e),"Hex"===c)?g.uK(e.bytes):e.bytes}(a,{as:c})}function E(a){if(a<256)return 1;if(a<65536)return 2;if(a<0x1000000)return 3;if(a<0x100000000)return 4;throw new h.C("Length is too large.")}let F={wei:0,gwei:9,szabo:12,finney:15,ether:18};function G(a,b="wei"){return function(a,b=0){let c=a.toString(),d=c.startsWith("-");d&&(c=c.slice(1));let[e,f]=[(c=c.padStart(b,"0")).slice(0,c.length-b),c.slice(c.length-b)];return f=f.replace(/(0+)$/,""),`${d?"-":""}${e||"0"}${f?`.${f}`:""}`}(a,F.gwei-F[b])}h.C;class H extends h.C{constructor({feeCap:a}={}){super(`The fee cap (\`maxFeePerGas\`/\`maxPriorityFeePerGas\`${a?` = ${G(a)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.FeeCapTooHighError"})}}class I extends h.C{constructor({gasPrice:a}={}){super(`The gas price (\`gasPrice\`${a?` = ${G(a)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.GasPriceTooHighError"})}}class J extends h.C{constructor({chainId:a}){super(void 0!==a?`Chain ID "${a}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.InvalidChainIdError"})}}h.C;class K extends h.C{constructor({maxPriorityFeePerGas:a,maxFeePerGas:b}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${a?` = ${G(a)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${b?` = ${G(b)} gwei`:""}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.TipAboveFeeCapError"})}}function L(a){let{chainId:b,maxPriorityFeePerGas:c,maxFeePerGas:d,to:e}=a;if(b<=0)throw new J({chainId:b});if(e&&v.vA(e,{strict:!1}),d&&BigInt(d)>2n**256n-1n)throw new H({feeCap:d});if(c&&d&&c>d)throw new K({maxFeePerGas:d,maxPriorityFeePerGas:c})}function M(a){let{chainId:b,gasPrice:c,to:d}=a;if(b<=0)throw new J({chainId:b});if(d&&v.vA(d,{strict:!1}),c&&BigInt(c)>2n**256n-1n)throw new I({gasPrice:c})}function N(a){let{authorizationList:b}=a;if(b)for(let a of b){let{address:b,chainId:c}=a;if(b&&v.vA(b,{strict:!1}),0>Number(c))throw new J({chainId:c})}L(a)}function O(a){let{chainId:b,gasPrice:c,to:d}=a;if(d&&v.vA(d,{strict:!1}),void 0!==b&&b<=0)throw new J({chainId:b});if(c&&BigInt(c)>2n**256n-1n)throw new I({gasPrice:c})}async function P(a){let{transaction:b,gasPriceOracleAddress:c}=a,h=(0,d.P)({address:c||"0x420000000000000000000000000000000000000F",chain:b.chain,client:b.client}),{gasPrice:i,...j}=await (0,e.$)({transaction:b}),k=function(a){let{transaction:b}=a,c=function(a){if(void 0!==a.type)return a.type;if(void 0!==a.authorizationList)return"eip7702";if(void 0!==a.maxFeePerGas||void 0!==a.maxPriorityFeePerGas)return"eip1559";if(void 0!==a.gasPrice)return void 0!==a.accessList?"eip2930":"legacy";throw Error("Invalid transaction type")}(b),d=(()=>{if(a.signature)return"v"in a.signature&&void 0!==a.signature.v?m({r:g.Dg(a.signature.r),s:g.Dg(a.signature.s),v:Number(a.signature.v)}):{r:g.Dg(a.signature.r),s:g.Dg(a.signature.s),yParity:a.signature.yParity};if(void 0!==b.v||void 0!==b.yParity){if(void 0===b.r||void 0===b.s)throw Error("Invalid signature provided with transaction");return{r:"bigint"==typeof b.r?b.r:g.Dg(b.r),s:"bigint"==typeof b.s?b.s:g.Dg(b.s),yParity:void 0!==b.v&&void 0===b.yParity?o(Number(b.v)):Number(b.yParity)}}})();if("eip1559"===c)return L(b),function(a,b={}){let{chainId:c,gas:d,nonce:e,to:f,value:h,maxFeePerGas:i,maxPriorityFeePerGas:j,accessList:k,data:m,input:o}=a;L(a);let p=w(k),q=l(b.signature||a),r=[g.oB(c),e?g.oB(e):"0x",j?g.oB(j):"0x",i?g.oB(i):"0x",d?g.oB(d):"0x",f??"0x",h?g.oB(h):"0x",m??o??"0x",p,...q?n(q):[]];return g.xW("0x02",D(r))}(b,{signature:d});if("legacy"===c)return O(b),function(a,b={}){let{chainId:c=0,gas:d,data:e,input:f,nonce:h,to:i,value:j,gasPrice:k}=a;O(a);let l=[h?g.oB(h):"0x",k?g.oB(k):"0x",d?g.oB(d):"0x",i??"0x",j?g.oB(j):"0x",e??f??"0x"],m=b.signature?{r:b.signature.r,s:b.signature.s,v:function(a){if(0===a)return 27;if(1===a)return 28;throw new t({value:a})}(b.signature.yParity)}:void 0!==a.r&&void 0!==a.s?{r:a.r,s:a.s,v:a.v}:void 0;if(m){let a=(()=>{if(m.v>=35)return Math.floor((m.v-35)/2)>0?m.v:27+ +(35!==m.v);if(c>0)return 2*c+35+m.v-27;let a=27+ +(27!==m.v);if(m.v!==a)throw new u({value:m.v});return a})();l=[...l,g.oB(a),0n===m.r?"0x":g.Mr(g.oB(m.r)),0n===m.s?"0x":g.Mr(g.oB(m.s))]}else c>0&&(l=[...l,g.oB(c),"0x","0x"]);return D(l)}(b,{signature:d});if("eip2930"===c)return M(b),function(a,b={}){let{chainId:c,gas:d,data:e,input:f,nonce:h,to:i,value:j,accessList:k,gasPrice:m}=a;M(a);let o=w(k),p=l(b.signature||a),q=[g.oB(c),h?g.oB(h):"0x",m?g.oB(m):"0x",d?g.oB(d):"0x",i??"0x",j?g.oB(j):"0x",e??f??"0x",o,...p?n(p):[]];return g.xW("0x01",D(q))}(b,{signature:d});if("eip7702"===c)return N(b),function(a,b={}){let{authorizationList:c,chainId:d,gas:e,nonce:f,to:h,value:i,maxFeePerGas:j,maxPriorityFeePerGas:k,accessList:m,data:o,input:p}=a;N(a);let q=w(m),r=function(a){if(!a||0===a.length)return[];let b=[];for(let c of a)b.push(function(a){let{address:b,chainId:c,nonce:d}=a,e=l(a);return[c?g.oB(c):"0x",b,d?g.oB(d):"0x",...e?n(e):[]]}(c));return b}(c),s=l(b.signature||a),t=[g.oB(d),f?g.oB(f):"0x",k?g.oB(k):"0x",j?g.oB(j):"0x",e?g.oB(e):"0x",h??"0x",i?g.oB(i):"0x",o??p??"0x",q,r,...s?n(s):[]];return g.xW("0x04",D(t))}(b,{signature:d});throw Error("Invalid transaction type")}({transaction:j});return(0,f.readContract)({contract:h,method:"function getL1Fee(bytes memory _data) view returns (uint256)",params:[k]})}}};