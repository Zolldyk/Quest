"use strict";exports.id=82601,exports.ids=[66652,82601],exports.modules={17052:(a,b,c)=>{c.d(b,{$K:()=>l,$R:()=>aI,$n:()=>X,AN:()=>G,Ao:()=>aS,Aq:()=>af,Au:()=>ao,CO:()=>W,DW:()=>an,EA:()=>ay,Fg:()=>j,Fy:()=>am,GS:()=>T,Gq:()=>S,HS:()=>aF,HX:()=>aw,Hb:()=>R,Ht:()=>ar,J3:()=>U,JQ:()=>aa,Jn:()=>ap,KF:()=>aH,KV:()=>n,Kt:()=>m,M7:()=>_,MV:()=>k,Ng:()=>Y,OU:()=>H,OV:()=>ag,PI:()=>K,Pg:()=>aK,QT:()=>aP,Qm:()=>d,SS:()=>aE,ST:()=>L,T:()=>V,T_:()=>aO,Uo:()=>ac,V4:()=>p,Vq:()=>ax,W:()=>t,XI:()=>au,Y_:()=>aG,Yl:()=>N,Yx:()=>O,ZT:()=>r,_u:()=>f,aS:()=>B,ap:()=>h,av:()=>ak,bG:()=>g,bi:()=>$,cI:()=>at,d:()=>u,di:()=>ah,dz:()=>I,eD:()=>q,f4:()=>aA,gD:()=>y,gs:()=>aB,h2:()=>M,he:()=>e,iB:()=>aC,ip:()=>aN,jJ:()=>aD,jY:()=>ad,j_:()=>aj,lc:()=>aM,lk:()=>o,ln:()=>s,mf:()=>A,nc:()=>P,o:()=>v,o0:()=>al,oU:()=>i,ol:()=>C,pC:()=>z,pc:()=>aR,po:()=>aQ,q1:()=>Q,qC:()=>az,r_:()=>D,sD:()=>J,sb:()=>aq,tm:()=>as,u8:()=>av,uj:()=>E,uq:()=>ae,us:()=>ai,vl:()=>ab,w3:()=>aJ,wC:()=>Z,x1:()=>x,xP:()=>w,xw:()=>F,zH:()=>aL});let d=2n**(8n-1n)-1n,e=2n**(16n-1n)-1n,f=2n**(24n-1n)-1n,g=2n**(32n-1n)-1n,h=2n**(40n-1n)-1n,i=2n**(48n-1n)-1n,j=2n**(56n-1n)-1n,k=2n**(64n-1n)-1n,l=2n**(72n-1n)-1n,m=2n**(80n-1n)-1n,n=2n**(88n-1n)-1n,o=2n**(96n-1n)-1n,p=2n**(104n-1n)-1n,q=2n**(112n-1n)-1n,r=2n**(120n-1n)-1n,s=2n**(128n-1n)-1n,t=2n**(136n-1n)-1n,u=2n**(144n-1n)-1n,v=2n**(152n-1n)-1n,w=2n**(160n-1n)-1n,x=2n**(168n-1n)-1n,y=2n**(176n-1n)-1n,z=2n**(184n-1n)-1n,A=2n**(192n-1n)-1n,B=2n**(200n-1n)-1n,C=2n**(208n-1n)-1n,D=2n**(216n-1n)-1n,E=2n**(224n-1n)-1n,F=2n**(232n-1n)-1n,G=2n**(240n-1n)-1n,H=2n**(248n-1n)-1n,I=2n**(256n-1n)-1n,J=-(2n**(8n-1n)),K=-(2n**(16n-1n)),L=-(2n**(24n-1n)),M=-(2n**(32n-1n)),N=-(2n**(40n-1n)),O=-(2n**(48n-1n)),P=-(2n**(56n-1n)),Q=-(2n**(64n-1n)),R=-(2n**(72n-1n)),S=-(2n**(80n-1n)),T=-(2n**(88n-1n)),U=-(2n**(96n-1n)),V=-(2n**(104n-1n)),W=-(2n**(112n-1n)),X=-(2n**(120n-1n)),Y=-(2n**(128n-1n)),Z=-(2n**(136n-1n)),$=-(2n**(144n-1n)),_=-(2n**(152n-1n)),aa=-(2n**(160n-1n)),ab=-(2n**(168n-1n)),ac=-(2n**(176n-1n)),ad=-(2n**(184n-1n)),ae=-(2n**(192n-1n)),af=-(2n**(200n-1n)),ag=-(2n**(208n-1n)),ah=-(2n**(216n-1n)),ai=-(2n**(224n-1n)),aj=-(2n**(232n-1n)),ak=-(2n**(240n-1n)),al=-(2n**(248n-1n)),am=-(2n**(256n-1n)),an=2n**8n-1n,ao=2n**16n-1n,ap=2n**24n-1n,aq=2n**32n-1n,ar=2n**40n-1n,as=2n**48n-1n,at=2n**56n-1n,au=2n**64n-1n,av=2n**72n-1n,aw=2n**80n-1n,ax=2n**88n-1n,ay=2n**96n-1n,az=2n**104n-1n,aA=2n**112n-1n,aB=2n**120n-1n,aC=2n**128n-1n,aD=2n**136n-1n,aE=2n**144n-1n,aF=2n**152n-1n,aG=2n**160n-1n,aH=2n**168n-1n,aI=2n**176n-1n,aJ=2n**184n-1n,aK=2n**192n-1n,aL=2n**200n-1n,aM=2n**208n-1n,aN=2n**216n-1n,aO=2n**224n-1n,aP=2n**232n-1n,aQ=2n**240n-1n,aR=2n**248n-1n,aS=2n**256n-1n},21760:(a,b,c)=>{c.d(b,{B:()=>d});async function d(a,b){return await a({method:"eth_sendRawTransaction",params:[b]})}},63149:(a,b,c)=>{c.d(b,{Dg:()=>e,Xf:()=>f});var d=c(43533);function e(a){if(["string","number"].includes(typeof a)&&!Number.isInteger(Number(a)))throw Error(`Expected value to be an integer to convert to a bigint, got ${a} of type ${typeof a}`);return a instanceof Uint8Array?BigInt((0,d.EY)(a)):BigInt(a)}let f=(a,b)=>"bigint"==typeof a?b(a):Array.isArray(a)?a.map(a=>f(a,b)):a&&"object"==typeof a?Object.fromEntries(Object.entries(a).map(([a,c])=>[a,f(c,b)])):a},66652:(a,b,c)=>{c.r(b),c.d(b,{concatHex:()=>e});var d=c(53922);function e(a){return d.xW(...a)}},82359:(a,b,c)=>{c.d(b,{s:()=>h});var d=c(87099),e=c(80975),f=c(49487),g=c(6981);function h(a,b){let c=(0,d.sc)((0,e.q)(a,{strict:!1})?(0,f.ZJ)(a):a);return"bytes"===(b||"hex")?c:(0,g.nj)(c)}},82601:(a,b,c)=>{c.d(b,{getZkGasFees:()=>y,f:()=>x,sendEip712Transaction:()=>v,a:()=>w});var d=c(89326),e=c(49487),f=c(21760),g=c(14442),h=c(77184),i=c(63149),j=c(66652),k=c(43533),l=c(98688),m=c(94443),n=c(13623),o=c(72675),p=c(82359);let q=32n*c(17052).Au;var r=c(89594);class s extends r.C{constructor({givenLength:a,maxBytecodeSize:b}){super(`Bytecode cannot be longer than ${b} bytes. Given length: ${a}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class t extends r.C{constructor({givenLengthInWords:a}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${a}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class u extends r.C{constructor({givenLength:a}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${a}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}async function v(a){let{account:b,transaction:c}=a,d=await x(a),e=await w({account:b,chainId:c.chain.id,eip712Transaction:d}),h=(0,g.getRpcClient)(c),i=await (0,f.B)(h,e);return{chain:c.chain,client:c.client,transactionHash:i}}async function w(a){let{account:b,eip712Transaction:c,chainId:f}=a,g=(a=>{let b=function(a){let{gas:b,nonce:c,to:d,from:f,value:g,maxFeePerGas:h,maxPriorityFeePerGas:i,paymaster:j,paymasterInput:l,gasPerPubdata:m,data:n,factoryDeps:r}=a;return{data:n||"0x0",factoryDeps:r?.map(a=>(0,k.nj)(function(a){let b=(0,e.ZJ)(a);if(b.length%32!=0)throw new u({givenLength:b.length});if(b.length>q)throw new s({givenLength:b.length,maxBytecodeSize:q});let c=(0,p.s)(b),d=(0,e.ZJ)(c),f=b.length/32;if(f%2==0)throw new t({givenLengthInWords:f});let g=(0,e.ZJ)(f),h=(0,o.eV)(g,{size:2}),i=new Uint8Array([1,0]);return d.set(i,0),d.set(h,2),d}(a)))??[],from:BigInt(f),gasLimit:b??0n,gasPerPubdataByteLimit:m??50000n,maxFeePerGas:h??0n,maxPriorityFeePerGas:i??0n,nonce:c?BigInt(c):0n,paymaster:j?BigInt(j):0n,paymasterInput:l||"0x",to:d?BigInt(d):0n,txType:113n,value:g??0n}}(a);return{domain:{chainId:a.chainId,name:"zkSync",version:"2"},message:b,primaryType:"Transaction",types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]}}})(c),h=await b.signTypedData({...g});var i={...c,chainId:f,customSignature:h};let{chainId:l,gas:m,nonce:n,to:r,from:v,value:w,maxFeePerGas:x,maxPriorityFeePerGas:y,customSignature:z,factoryDeps:A,paymaster:B,paymasterInput:C,gasPerPubdata:D,data:E}=i,F=[n?(0,k.nj)(n):"0x",y?(0,k.nj)(y):"0x",x?(0,k.nj)(x):"0x",m?(0,k.nj)(m):"0x",r??"0x",w?(0,k.nj)(w):"0x",E??"0x0",(0,k.nj)(l),(0,k.nj)(""),(0,k.nj)(""),(0,k.nj)(l),v??"0x",D?(0,k.nj)(D):(0,k.nj)(50000n),A??[],z??"0x",B&&C?[B,C]:[]];return(0,j.concatHex)(["0x71",(0,d.EQ)(F)])}async function x(a){let{account:b,transaction:c}=a,{gas:d,maxFeePerGas:e,maxPriorityFeePerGas:f,gasPerPubdata:g}=await y({from:(0,h.bv)(b.address),transaction:c});return{...await (0,n.$)({from:b.address,transaction:{...c,gas:d,maxFeePerGas:e,maxPriorityFeePerGas:f}}),...c.eip712,from:b.address,gasPerPubdata:g}}async function y(a){let{transaction:b,from:c}=a,[d,e,f,h]=await Promise.all([(0,l.r)(b.gas),(0,l.r)(b.maxFeePerGas),(0,l.r)(b.maxPriorityFeePerGas),(0,l.r)(b.eip712)]),j=h?.gasPerPubdata;if(void 0===d||void 0===e||void 0===f){let a=(0,g.getRpcClient)(b),h=await z({from:c,transaction:b}),l=await a({method:"zks_estimateFee",params:[(0,i.Xf)(h,k.nj)]});d=2n*(0,i.Dg)(l.gas_limit),e=2n*(0,i.Dg)(l.max_fee_per_gas),f=(0,i.Dg)(l.max_priority_fee_per_gas)||1n,(j=2n*(0,i.Dg)(l.gas_per_pubdata_limit))<50000n&&(j=50000n)}return{gas:d,gasPerPubdata:j,maxFeePerGas:e,maxPriorityFeePerGas:f}}async function z(a){let{transaction:b,from:c}=a,[d,f,g,h]=await Promise.all([(0,m.encode)(b),(0,l.r)(b.to),(0,l.r)(b.value),(0,l.r)(b.eip712)]),i=h?.gasPerPubdata;return{data:d,eip712Meta:{...h,factoryDeps:h?.factoryDeps?.map(a=>Array.from((0,e.aT)(a))),gasPerPubdata:i||50000n},from:c,gasPerPubdata:i,to:f,type:"0x71",value:g}}},89326:(a,b,c)=>{c.d(b,{EQ:()=>h,HF:()=>i,VF:()=>j});var d=c(89594),e=c(54267),f=c(49487),g=c(6981);function h(a,b="hex"){let c=function a(b){return Array.isArray(b)?function(a){let b=a.reduce((a,b)=>a+b.length,0),c=k(b);return{length:b<=55?1+b:1+c+b,encode(d){for(let{encode:e}of(b<=55?d.pushByte(192+b):(d.pushByte(247+c),1===c?d.pushUint8(b):2===c?d.pushUint16(b):3===c?d.pushUint24(b):d.pushUint32(b)),a))e(d)}}}(b.map(b=>a(b))):function(a){let b="string"==typeof a?(0,f.aT)(a):a,c=k(b.length);return{length:1===b.length&&b[0]<128?1:b.length<=55?1+b.length:1+c+b.length,encode(a){1===b.length&&b[0]<128||(b.length<=55?a.pushByte(128+b.length):(a.pushByte(183+c),1===c?a.pushUint8(b.length):2===c?a.pushUint16(b.length):3===c?a.pushUint24(b.length):a.pushUint32(b.length))),a.pushBytes(b)}}}(b)}(a),d=(0,e.l)(new Uint8Array(c.length));return(c.encode(d),"hex"===b)?(0,g.My)(d.bytes):d.bytes}function i(a,b="bytes"){return h(a,b)}function j(a,b="hex"){return h(a,b)}function k(a){if(a<256)return 1;if(a<65536)return 2;if(a<0x1000000)return 3;if(a<0x100000000)return 4;throw new d.C("Length is too large.")}}};